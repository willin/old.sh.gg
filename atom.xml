<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>山沟沟</title>
  
  <subtitle>来自山沟沟的 Willin Wang</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://old.sh.gg/"/>
  <updated>2021-11-08T09:56:35.420Z</updated>
  <id>https://old.sh.gg/</id>
  
  <author>
    <name>Willin Wang</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>模块化开发、容器化开发</title>
    <link href="https://old.sh.gg/posts/2021/microservice-dev/"/>
    <id>https://old.sh.gg/posts/2021/microservice-dev/</id>
    <published>2021-05-21T11:33:50.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h1 id="使用微服务架构或-Mono-Repo-架构中的问题"><a href="#使用微服务架构或-Mono-Repo-架构中的问题" class="headerlink" title="使用微服务架构或 Mono Repo 架构中的问题"></a>使用微服务架构或 Mono Repo 架构中的问题</h1><h2 id="拆包不合理"><a href="#拆包不合理" class="headerlink" title="拆包不合理"></a>拆包不合理</h2><h3 id="一、类型的定义"><a href="#一、类型的定义" class="headerlink" title="一、类型的定义"></a>一、类型的定义</h3><p>（如 Typescript 中的 interface、type，或者请求/响应，参数/返回等 DTO），不应当放置到一个底层的通用包中。这样会导致一处业务修改，联动项目代码、底层包代码需要修改，然后需要发布包、更新依赖版本等，非常麻烦。</p><p>同时，大部分的类型定义是不具备复用的可能的。比如数据库 Schema，会有一些多余的不可操作的字段，如 id、时间戳、状态等，所以在 create 方法中，传入的参数，可能是 <code>Partial&lt;SchemaEntity&gt;</code>（也可能会有一些生成字段之类的特殊情况）。在接口请求参数中，更是会和数据库 create 方法的参与差异很大，比如说密码，用户输入是明文，存到数据库中是密文 + SALT。等等。返回值亦是如此。</p><p>为减少重复代码量和修改，和保证结构的稳定性，可以参考 TypeScript Handbook 中的一些小技巧：</p><a id="more"></a><ul><li>Type Manipulation： 从类型创建类型、泛型、 keyof、 typeof、索引访问、条件类型、映射类型、模板文字类型</li><li>Utility Types： <code>Partial&lt;Type&gt;</code>、<code>Pick&lt;Type, Keys&gt;</code>、<code>Omit&lt;Type, Keys&gt;</code>、 <code>Exlude&lt;Type, ExludedUnion&gt;</code>、<code>Parameters&lt;Type&gt;</code>、<code>ReturnType&lt;Type&gt;</code> 等</li></ul><h3 id="二、先设计，再封装，后拆分"><a href="#二、先设计，再封装，后拆分" class="headerlink" title="二、先设计，再封装，后拆分"></a>二、先设计，再封装，后拆分</h3><p>业务未设计完善时，切忌着急先封装成包。这样一旦发生调整，将会从下往上每一层都得做变更。</p><p>人无远虑必有近忧。能在设计过程中解决掉的问题，绝对不要拖到实现过程中迭代。设计中需要遵守的几点原则：</p><h4 id="MVP-原则"><a href="#MVP-原则" class="headerlink" title="MVP 原则"></a>MVP 原则</h4><p>即最简化可实行产品原则，按照以下顺序进行设计和实现：明确需求，满足基本需求，保证稳定性，完善需求，扩展需求，提高性能。</p><p>冰冻三尺非一日之寒。一口也吃不成一个胖子。无论多复杂的业务模块，都是拆分成了一个个小的子任务，每一个子任务模块设计完备了，进行扩展和整合。</p><h4 id="分治原则"><a href="#分治原则" class="headerlink" title="分治原则"></a>分治原则</h4><p>压力下方，分而治之。不要在一个点上去耗费大量的性能和资源。往往在架构设计的时候，只有一到两个数据中心，数据中心将会处理大量的数据和请求，所以会承担很大的性能压力。那么， 能在区域服务器上进行的处理和运算，没有必要扔到数据中心去进行；能在网关上进行的处理和运算，没有必要扔到服务器上去进行；能在客户端上进行的处理和运算，没有必要扔到网关上去运行。</p><p>举个简单的例子，一台负载均衡器下的服务器配置可能是双核心，4GB 内存， 这一台服务器，能够承载的并发是 10 万级，而目前的智能终端(比如智能手机)，可能都是 4 核 8 核， 8GB 内存之类的，实际上已经有很强大的运算能力了。足够承担起很大一部分的数据预处理和初筛的工作。所以，可以将服务器的压力逐层进行下放，让下面连接的服务器，网关和终端各自承担一部分运算处理工作，充分利用各个存储运算单元。</p><h2 id="函数定义不合理"><a href="#函数定义不合理" class="headerlink" title="函数定义不合理"></a>函数定义不合理</h2><p>一、 不推荐使用多参数方式定义一个函数。</p><p>示例：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> functionA(arg1: <span class="built_in">string</span>, arg2: <span class="built_in">number</span>, arg3: <span class="built_in">string</span>, arg4: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> ClassA &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">arg1: <span class="built_in">string</span>, arg2: <span class="built_in">number</span>, arg3: <span class="built_in">string</span>, arg4: <span class="built_in">number</span></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>推荐的做法为，单一对象参数，或 id + 单一对象参数的方式。</p><p>示例：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Class 示例</span></span><br><span class="line"><span class="keyword">import</span> &#123; plainToClass &#125; <span class="keyword">from</span> <span class="string">"class-transformer"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; validateSync &#125; <span class="keyword">from</span> <span class="string">"class-validator"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> BaseDto &#123;</span><br><span class="line">  <span class="comment">// eslint-disable-next-line</span></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">data: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 仅当作为基类，不确定输入类型时使用 any</span></span><br><span class="line">    <span class="keyword">if</span> (data) &#123;</span><br><span class="line">      <span class="comment">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span></span><br><span class="line">      <span class="built_in">Object</span>.assign(<span class="keyword">this</span>, plainToClass(<span class="keyword">this</span>.<span class="keyword">constructor</span> as any, data));</span><br><span class="line">      <span class="keyword">const</span> errors = validateSync(<span class="keyword">this</span>, &#123;</span><br><span class="line">        dismissDefaultMessages: <span class="literal">true</span>,</span><br><span class="line">        stopAtFirstError: <span class="literal">true</span>,</span><br><span class="line">        whitelist: <span class="literal">true</span>,</span><br><span class="line">        forbidNonWhitelisted: <span class="literal">true</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">if</span> (errors?.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Validation Error Occurred"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法示例</span></span><br><span class="line"><span class="keyword">import</span> &#123; BaseDto, Validator, Transform, DB &#125; <span class="keyword">from</span> <span class="string">"@dao/base"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  IsEmail,</span><br><span class="line">  IsMobilePhone,</span><br><span class="line">  IsEnum,</span><br><span class="line">  IsOptional,</span><br><span class="line">  IsString,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"class-validator"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; UserEntity, UserRole &#125; <span class="keyword">from</span> <span class="string">"../entity"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getUserByUid &#125; <span class="keyword">from</span> <span class="string">"./get_user_by_uid.dao"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; checkUserExist &#125; <span class="keyword">from</span> <span class="string">"./check_user.dao"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; UserDaoErr &#125; <span class="keyword">from</span> <span class="string">"../error"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义好单一对象参数的类型</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> UpdateUserDto = Partial&lt;</span><br><span class="line">  Pick&lt;UserEntity, <span class="string">"role"</span> | <span class="string">"username"</span> | <span class="string">"email"</span> | <span class="string">"mobile"</span> | <span class="string">"passwd"</span>&gt;</span><br><span class="line">&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果需要数据校验，可以做一层封装</span></span><br><span class="line"><span class="comment">// 尤其是在接口请求、调用底层方法（如数据库操作）时，非常必要</span></span><br><span class="line"><span class="keyword">class</span> Model <span class="keyword">extends</span> BaseDto <span class="keyword">implements</span> UpdateUserDto &#123;</span><br><span class="line">  <span class="meta">@IsEnum</span>(UserRole)</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  role?: UserRole;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@Validator</span>.IsEnglishName()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  username?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsEmail</span>()</span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  email?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsMobilePhone</span>(<span class="string">"zh-CN"</span>)</span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  mobile?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsString</span>()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  <span class="meta">@Transform</span>.ToPassHash()</span><br><span class="line">  passwd?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 修改用户信息</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; uid 用户 id</span></span><br><span class="line"><span class="comment"> * @param &#123;UpdateUserDto&#125; data 单一对象参数，定义好类型</span></span><br><span class="line"><span class="comment"> * @returns &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">updateUser</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  id: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  data: UpdateUserDto</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">boolean</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// 此处为 class-transformer + class-validator 校验</span></span><br><span class="line">  <span class="keyword">const</span> item = <span class="keyword">new</span> Model(data);</span><br><span class="line">  <span class="comment">// 如果上一步校验不通过，则会抛出错误</span></span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> getUserByUid(id);</span><br><span class="line">  <span class="comment">// 省略校验判断，荣用户名、手机号是否存在</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> DB.updateById(id, item, DB.DBTABLE.User);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>二、 做向下兼容。</p><p>这就是单一对象变量的好处，删除一个字段和新增一个字段，都会更加方便。</p><p>示例：</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> CreateUserDto &#123;</span><br><span class="line">  username: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// @deprecated 公司字段已弃用</span></span><br><span class="line">  company?: <span class="built_in">string</span>; <span class="comment">// 废弃字段，只需要改成 optional 即可。</span></span><br><span class="line">  <span class="comment">// 即便不做向下兼容的操作，直接把该字段删除就可以了</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 手机号 new in v1.0.1</span></span><br><span class="line">  mobile?: <span class="built_in">string</span>; <span class="comment">// 如果 Client 没有升级，则不会传这个字段，所以也设置成 optional</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createUser</span>(<span class="params">user: CreateUserDto</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (user.company) &#123;</span><br><span class="line">    <span class="comment">// 如果影响业务，则抛出异常</span></span><br><span class="line">    logger.info(<span class="string">"该字段已经废弃，请停止使用，并升级到 v1.0.1"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!user.mobile) &#123;</span><br><span class="line">    <span class="comment">// 兼容性操作，如需，下面是乱写的</span></span><br><span class="line">    <span class="comment">// eslint-disable-next-line no-param-reassign</span></span><br><span class="line">    user.mobile = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 省略代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="容器化开发"><a href="#容器化开发" class="headerlink" title="容器化开发"></a>容器化开发</h1><h2 id="本地环境模块化"><a href="#本地环境模块化" class="headerlink" title="本地环境模块化"></a>本地环境模块化</h2><p>所有东西都在独立的容器内运行，如果不用，停止状态下只占用磁盘空间，出现了问题也就直接删除重建即可。</p><p>以 MySQL 为例，以前都是安装在本地，所有应用程序共用，只有一个版本，并且一旦出了问题，卸载重装也是很麻烦的事情。</p><p>现在只需要一个 Docker Compose 文件定义好启动即可，示例：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># docker-compose.yml</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="comment"># MySQL8的密码验证方式默认是 caching_sha2_password，但是很多的连接工具还不支持该方式</span></span><br><span class="line">      <span class="comment"># 就需要手动设置下mysql的密码认证方式为以前的 mysql_native_password 方式</span></span><br><span class="line">      <span class="string">--default-authentication-plugin=mysql_native_password</span></span><br><span class="line">      <span class="string">--character-set-server=utf8mb4</span></span><br><span class="line">      <span class="string">--collation-server=utf8mb4_general_ci</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">root</span> <span class="comment"># root用户的密码</span></span><br><span class="line">      <span class="comment"># MYSQL_USER: user # 创建新用户</span></span><br><span class="line">      <span class="comment"># MYSQL_PASSWORD: user_password # 新用户的密码</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3306</span><span class="string">:3306</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/var/lib/mysql</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf:/etc/mysql/conf.d</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./logs:/logs</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure><p>配置好用户名密码、字符集、设定当前目录下来存放数据、日志和配置文件。</p><p>简单的几个命令进行操作：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">docker-compose down</span><br><span class="line"><span class="comment"># 删除所有数据</span></span><br><span class="line">rm -rf data conf logs</span><br><span class="line"><span class="comment"># 重新创建镜像</span></span><br><span class="line">docker-compose up -d --force-recreate</span><br></pre></td></tr></table></figure><p>更多实用的容器参考项目： <a href="https://github.com/WhiteMatrixTech/dev-in-docker" target="_blank" rel="noopener">https://github.com/WhiteMatrixTech/dev-in-docker</a></p><h2 id="模块化运行"><a href="#模块化运行" class="headerlink" title="模块化运行"></a>模块化运行</h2><p>以 Node.js 为例。</p><p>推荐镜像： <code>node:16-alpine</code> （如非特殊情况，使用当前最新的 alpine 版本）</p><p>更多镜像参考官方 Hub： <a href="https://hub.docker.com/_/node/" target="_blank" rel="noopener">https://hub.docker.com/_/node/</a></p><h3 id="本地调试"><a href="#本地调试" class="headerlink" title="本地调试"></a>本地调试</h3><p>TBD.</p><h3 id="镜像发布"><a href="#镜像发布" class="headerlink" title="镜像发布"></a>镜像发布</h3><p>参考 Node.js 官方文档：<a href="https://nodejs.org/zh-cn/docs/guides/nodejs-docker-webapp/" target="_blank" rel="noopener">把一个 Node.js 应用程序 Docker 化</a></p><p>写一个 <code>Dockerfile</code>：</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">16</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">LABEL</span><span class="bash"> maintainer <span class="string">"Willing Wang&lt;i@sh.gg&gt;"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yarn</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yarn build</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [ <span class="string">"node"</span>, <span class="string">"dist/server.js"</span> ]</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 打包镜像</span></span><br><span class="line">docker build . -t &lt;username&gt;/node-app</span><br><span class="line"><span class="comment"># 运行镜像</span></span><br><span class="line">docker run -p 3000:3000 &lt;username&gt;/node-app</span><br></pre></td></tr></table></figure><h1 id="模块化开发"><a href="#模块化开发" class="headerlink" title="模块化开发"></a>模块化开发</h1><p>TBD.</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;使用微服务架构或-Mono-Repo-架构中的问题&quot;&gt;&lt;a href=&quot;#使用微服务架构或-Mono-Repo-架构中的问题&quot; class=&quot;headerlink&quot; title=&quot;使用微服务架构或 Mono Repo 架构中的问题&quot;&gt;&lt;/a&gt;使用微服务架构或 Mono Repo 架构中的问题&lt;/h1&gt;&lt;h2 id=&quot;拆包不合理&quot;&gt;&lt;a href=&quot;#拆包不合理&quot; class=&quot;headerlink&quot; title=&quot;拆包不合理&quot;&gt;&lt;/a&gt;拆包不合理&lt;/h2&gt;&lt;h3 id=&quot;一、类型的定义&quot;&gt;&lt;a href=&quot;#一、类型的定义&quot; class=&quot;headerlink&quot; title=&quot;一、类型的定义&quot;&gt;&lt;/a&gt;一、类型的定义&lt;/h3&gt;&lt;p&gt;（如 Typescript 中的 interface、type，或者请求/响应，参数/返回等 DTO），不应当放置到一个底层的通用包中。这样会导致一处业务修改，联动项目代码、底层包代码需要修改，然后需要发布包、更新依赖版本等，非常麻烦。&lt;/p&gt;
&lt;p&gt;同时，大部分的类型定义是不具备复用的可能的。比如数据库 Schema，会有一些多余的不可操作的字段，如 id、时间戳、状态等，所以在 create 方法中，传入的参数，可能是 &lt;code&gt;Partial&amp;lt;SchemaEntity&amp;gt;&lt;/code&gt;（也可能会有一些生成字段之类的特殊情况）。在接口请求参数中，更是会和数据库 create 方法的参与差异很大，比如说密码，用户输入是明文，存到数据库中是密文 + SALT。等等。返回值亦是如此。&lt;/p&gt;
&lt;p&gt;为减少重复代码量和修改，和保证结构的稳定性，可以参考 TypeScript Handbook 中的一些小技巧：&lt;/p&gt;
    
    </summary>
    
      <category term="career" scheme="https://old.sh.gg/categories/career/"/>
    
    
      <category term="career" scheme="https://old.sh.gg/tags/career/"/>
    
      <category term="suggestion" scheme="https://old.sh.gg/tags/suggestion/"/>
    
      <category term="product" scheme="https://old.sh.gg/tags/product/"/>
    
      <category term="thought tech" scheme="https://old.sh.gg/tags/thought-tech/"/>
    
  </entry>
  
  <entry>
    <title>愉快地使用 Manjaro 21 玩耍</title>
    <link href="https://old.sh.gg/posts/2021/manjaro/"/>
    <id>https://old.sh.gg/posts/2021/manjaro/</id>
    <published>2021-05-21T00:17:20.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>使用的版本为 KDE Plasma 桌面版本。</p><h1 id="配置国内镜像源"><a href="#配置国内镜像源" class="headerlink" title="配置国内镜像源"></a>配置国内镜像源</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure><p>通过手动的方式配置 ArchLinux 源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy vim</span><br><span class="line">sudo vim /etc/pacman.conf</span><br></pre></td></tr></table></figure><a id="more"></a><p>在底部插入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Never</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br><span class="line"><span class="comment">#这里是中科大，清华源为： Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span></span><br></pre></td></tr></table></figure><p>保存后执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syy</span><br><span class="line">sudo pacman -Sy archlinuxcn-keyring</span><br><span class="line">sudo pacman -Syyu</span><br></pre></td></tr></table></figure><h1 id="搜狗输入法安装"><a href="#搜狗输入法安装" class="headerlink" title="搜狗输入法安装"></a>搜狗输入法安装</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy fcitx-im fcitx-configtool yay base-devel</span><br><span class="line">yay --aururl <span class="string">"https://aur.tuna.tsinghua.edu.cn"</span> --save</span><br><span class="line">yay -S fcitx-sogoupinyin</span><br></pre></td></tr></table></figure><p>新增一个配置文件 <code>~/.pam_environment</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br></pre></td></tr></table></figure><p>注销，重新登录即可。</p><h1 id="安装-OhMyZsh"><a href="#安装-OhMyZsh" class="headerlink" title="安装 OhMyZsh"></a>安装 OhMyZsh</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy zsh</span><br><span class="line">yay -S autojump</span><br></pre></td></tr></table></figure><p>由于未翻墙访问 raw.githubcontent.com 会有一些问题。</p><p>手动下载： <a href="https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh" target="_blank" rel="noopener">https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh</a></p><p>然后执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x install.sh</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure><p>默认 zsh 需要注销或重启生效。</p><p>推荐主题：<code>powerlevel10k</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nerd-fonts-complete</span><br><span class="line">git <span class="built_in">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class="variable">$&#123;ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom&#125;</span>/themes/powerlevel10k</span><br></pre></td></tr></table></figure><p>修改 <code>.zshrc</code>：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ZSH_THEME=<span class="string">"powerlevel10k/powerlevel10k"</span></span><br></pre></td></tr></table></figure><h2 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"source <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-$HOME&#125;</span>/.zshrc</span><br></pre></td></tr></table></figure><p>依然修改.zshrc：</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索并添加</span></span><br><span class="line"><span class="attr">plugins</span>=(zsh-autosuggestions autojump git)</span><br></pre></td></tr></table></figure><p>Colorls 插件：</p><p>文档参考： <a href="https://github.com/athityakumar/colorls" target="_blank" rel="noopener">https://github.com/athityakumar/colorls</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ruby</span><br><span class="line">gem install colorls</span><br></pre></td></tr></table></figure><p>依然修改配置.zshrc：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#底部添加，记得修改对应的 PATH 路径</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/willin/.<span class="built_in">local</span>/share/gem/ruby/3.0.0/bin</span><br><span class="line"><span class="built_in">alias</span> vi=<span class="string">"vim"</span></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">"colorls"</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">"colorls -l"</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">"colorls -a"</span></span><br><span class="line"><span class="built_in">alias</span> lg=<span class="string">"colorls --gs -at"</span></span><br></pre></td></tr></table></figure><h1 id="机场"><a href="#机场" class="headerlink" title="机场"></a>机场</h1><p>我使用的是 <a href="https://dler.best/auth/register?affid=57599" target="_blank" rel="noopener">DlerCloud</a>。</p><p>安装 ShellClash： <a href="https://github.com/juewuy/ShellClash/blob/master/README_CN.md" target="_blank" rel="noopener">https://github.com/juewuy/ShellClash/blob/master/README_CN.md</a></p><p>参考博客文章，用 root 用户进行全局安装。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sysctl -w net.ipv4.ip_forward=1</span><br><span class="line">vim /etc/sysctl.conf</span><br><span class="line"><span class="comment"># 加入 net.ipv4.ip_forward=1</span></span><br><span class="line">sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure><h1 id="常用软件安装"><a href="#常用软件安装" class="headerlink" title="常用软件安装"></a>常用软件安装</h1><p>一个字，爽。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">yay -S visual-studio-code-bin</span><br><span class="line">yay -S typora</span><br><span class="line">yay -S google-chrome</span><br><span class="line">yay -S com.dingtalk.deepin</span><br><span class="line">yay -S keybase-bin</span><br><span class="line">yay -S mongodb-compass</span><br><span class="line">yay -S redis-desktop-manager</span><br></pre></td></tr></table></figure><h1 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h1><h2 id="终端字体过宽"><a href="#终端字体过宽" class="headerlink" title="终端字体过宽"></a>终端字体过宽</h2><p>KDE 版本中不存在该问题，可跳过。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Sy wqy-bitmapfont wqy-zenhei</span><br></pre></td></tr></table></figure><h2 id="修改Home下的目录为英文"><a href="#修改Home下的目录为英文" class="headerlink" title="修改Home下的目录为英文"></a>修改Home下的目录为英文</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.config/user-dirs.dirs</span><br></pre></td></tr></table></figure><p>修改：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">XDG_DESKTOP_DIR=<span class="string">"<span class="variable">$HOME</span>/Desktop"</span></span><br><span class="line">XDG_DOWNLOAD_DIR=<span class="string">"<span class="variable">$HOME</span>/Download"</span></span><br><span class="line">XDG_TEMPLATES_DIR=<span class="string">"<span class="variable">$HOME</span>/Templates"</span></span><br><span class="line">XDG_PUBLICSHARE_DIR=<span class="string">"<span class="variable">$HOME</span>/Public"</span></span><br><span class="line">XDG_DOCUMENTS_DIR=<span class="string">"<span class="variable">$HOME</span>/Documents"</span></span><br><span class="line">XDG_MUSIC_DIR=<span class="string">"<span class="variable">$HOME</span>/Music"</span></span><br><span class="line">XDG_PICTURES_DIR=<span class="string">"<span class="variable">$HOME</span>/Pictures"</span></span><br><span class="line">XDG_VIDEOS_DIR=<span class="string">"<span class="variable">$HOME</span>/Videos"</span></span><br></pre></td></tr></table></figure><p>然后运行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mv 公共 Public</span><br><span class="line">mv 模板 Templates</span><br><span class="line">mv 视频 Videos</span><br><span class="line">mv 图片 Pictures</span><br><span class="line">mv 文档 Documents</span><br><span class="line">mv 下载 Download</span><br><span class="line">mv 音乐 Music</span><br><span class="line">mv 桌面 Desktop</span><br></pre></td></tr></table></figure><p>注销或重启生效。</p><h2 id="Docker-需要-sudo-才能执行"><a href="#Docker-需要-sudo-才能执行" class="headerlink" title="Docker 需要 sudo 才能执行"></a>Docker 需要 sudo 才能执行</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Pacman 安装 Docker</span></span><br><span class="line">sudo pacman -S docker</span><br><span class="line"><span class="comment"># 启动docker服务</span></span><br><span class="line">sudo systemctl start docker</span><br><span class="line"><span class="comment"># 查看docker服务的状态</span></span><br><span class="line">sudo systemctl status docker</span><br><span class="line"><span class="comment"># 设置docker开机启动服务</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure><h3 id="设置当前用户权限"><a href="#设置当前用户权限" class="headerlink" title="设置当前用户权限"></a>设置当前用户权限</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果还没有 docker group 就添加一个</span></span><br><span class="line">sudo groupadd docker</span><br><span class="line"><span class="comment"># 将自己的登录名($&#123;USER&#125; )加入该 group 内。然后退出并重新登录就生效啦</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker</span><br><span class="line"><span class="comment"># 重启 docker 服务</span></span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"><span class="comment"># 切换当前会话到新 group 或者重启 X 会话</span></span><br><span class="line"><span class="comment"># 注意，这一步是必须的，否则因为 groups 命令获取到的是缓存的组信息，刚添加的组信息未能生效，所以 docker images 执行时同样有错。</span></span><br><span class="line">newgrp - docker</span><br></pre></td></tr></table></figure><p>Manjaro 很多时候涉及到权限的设置，都需要注销或者重启后才能生效。。</p><h3 id="设置镜像源"><a href="#设置镜像源" class="headerlink" title="设置镜像源"></a>设置镜像源</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure><p>插入镜像源：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"registry-mirrors"</span>: [<span class="string">"https://docker.mirrors.ustc.edu.cn"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>然后重启 Docker 服务。</p><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="组合键设置-xkbmap"><a href="#组合键设置-xkbmap" class="headerlink" title="组合键设置 xkbmap"></a>组合键设置 xkbmap</h2><p>sudo 修改： <code>/usr/share/X11/xkb/symbols/pc</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">default partial alphanumeric_keys modifier_keys</span><br><span class="line">xkb_symbols <span class="string">"pc105"</span> &#123;</span><br><span class="line">    // 加入这行， 表示将 CapsLock 改为 Ctrl + Shift 组合键</span><br><span class="line">    key &lt;CAPS&gt; &#123; [ SetMods(modifiers=Shift+Control)  ] &#125;;</span><br></pre></td></tr></table></figure><p>然后执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setxkbmap</span><br></pre></td></tr></table></figure><h2 id="按键替换设置-xmodmap"><a href="#按键替换设置-xmodmap" class="headerlink" title="按键替换设置 xmodmap"></a>按键替换设置 xmodmap</h2><p>单键测试在用户目录创建 <code>.Xmodmap</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">clear lock</span><br><span class="line">clear control</span><br><span class="line">keycode 66 = Control_L</span><br><span class="line">add control = Control_L Control_R</span><br></pre></td></tr></table></figure><p>此处是将 CapLock 改为 Ctrl 键。</p><p>然后执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmodmap .Xmodmap</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;使用的版本为 KDE Plasma 桌面版本。&lt;/p&gt;
&lt;h1 id=&quot;配置国内镜像源&quot;&gt;&lt;a href=&quot;#配置国内镜像源&quot; class=&quot;headerlink&quot; title=&quot;配置国内镜像源&quot;&gt;&lt;/a&gt;配置国内镜像源&lt;/h1&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo pacman-mirrors -i -c China -m rank&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;通过手动的方式配置 ArchLinux 源：&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;sudo pacman -Sy vim&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;sudo vim /etc/pacman.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="unix" scheme="https://old.sh.gg/tags/unix/"/>
    
  </entry>
  
  <entry>
    <title>剩暖渣、初瘦——三十一周岁再话</title>
    <link href="https://old.sh.gg/posts/2020/31st-birth/"/>
    <id>https://old.sh.gg/posts/2020/31st-birth/</id>
    <published>2020-05-19T16:00:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>王初瘦今年<strong>三十一</strong>了。</p><p>岁月像一把杀猪刀，初瘦快要破碎他再瘦的梦。初瘦总会自嘲说，心宽体胖。可是只有傻子才看不出来吧，他那些沉稳，是被现实磨平的棱角。</p><p>虽然我也很了解初瘦，但还是很难去形容他究竟是一个怎样的人，最后总结出来三个字——<strong>剩</strong>、<strong>暖</strong>、<strong>渣</strong>。</p><a id="more"></a><h2 id="剩"><a href="#剩" class="headerlink" title="剩"></a>剩</h2><!-- 孙大剩 --><p>三十有一，孤苦无依。没错，我应该尊称初瘦为大龄剩男了。</p><blockquote><p>等公交的人，等的是去往正确目的地的那辆车，哪怕晚点了，也要等。而不是在某个时间点，看哪辆进站，就上哪辆车。</p></blockquote><p>或许吧，这可以成为他狡辩的借口。可正常而言，到这个岁数他还没有结婚，我觉得他多多少少还是……很有问题的。书没读好，钱没挣到，没让父母过得好，喜欢的人也没留住，就连深夜安慰自己都不会。</p><p>他对我说过好多次——“这人生呐，有点大风大浪不算什么，哪能没点坎坷呢，如果什么事情都一帆风顺的，那这样的生活，应该也挺没劲的吧。”</p><p>有了房子不一定就有家，该剩下还是剩下。用两手抠都快数不过来初瘦有过几段感情经历了，如果他还是个精神小伙儿，或许勉强还可以在狐朋狗友面前炫耀一番，但都一三十多岁的老大叔了，只能把失败一词套在他身上了。像初瘦他这个年纪的朋友，大多孩子都会打酱油了。面对周围诸多「人生赢家」，没有成家已经很失败了。立业成家，成家立业。这孑然一身倒也不算什么，相较于<strong>一事无成</strong>、<strong>一无所有</strong>，他反反复复在低谷中挣扎着。</p><blockquote><p>越聪明就越悲伤，悲伤随着聪明而增长。——《安德烈·卢布廖夫》</p></blockquote><p>剩下来的原因，以及他一事无成的原因，我无从得知。我知道的一点，就是并不是他不努力。相反的，他已经比很多人更努力了。他告诉过我，苦难并不会让人成功，人应该吃奋斗的苦，而不是生活的苦。</p><p>emmmm，但是生活喂来给他，不吃也得吃啊。房贷、车贷、工作，不给他喘息的余地。祝愿他早一点摆脱这样的窘境吧。</p><h2 id="暖"><a href="#暖" class="headerlink" title="暖"></a>暖</h2><!-- 像我这样的人 --><p>初瘦他吖，曾经也是个看见姑娘都会脸红，到后来却能随口开车的人。没毕业那会儿，像他这样庸俗的人，从不喜欢装深沉，直来直往，不拘小节。慢慢地，话少了，沉稳了，细致了。</p><p>年轻的时候，他确实脾气臭，不细致，不会体谅人，还没有耐心。经历过失去，才更懂得珍惜。没有经历过撕心裂肺的伤痛，应该就不会知道要收起锋利的羽翼，温柔善待；没有过义无反顾奋不顾身的尝试，应该就不会知道细节对成败的决定性因素，细致耐心。<strong>没有人天生温柔</strong>，也许失去和错过，成就了成长。</p><p>他属于乐观的人，同时也是个很没有安全感的人，一个矛盾的综合体。或许只是死要面子活受罪，他总是想把最好的一面示人，哪怕是亲近的人。不想被怜悯，无论多苦，能自己扛住的，就自己默默承受。像蜡烛，炙热，奋不顾身。</p><blockquote><p>所谓，一见钟情只不过是见色起意，所谓日久生情不过是权衡利弊。</p></blockquote><p>难怪初瘦这人，仅第一印象就足以沉沦，付出而不计得失。听初瘦自己说，他泪点很低，虽然很少有人见到。他的原话形容自己“常在别人的故事里，流着自己的眼泪。”他向来很认真，所以我也就没有问过他，认真会不会也输得很惨。</p><p>也还有人说初瘦冷漠无情，其实我能理解，毕竟不是中央空调，他也没啥必要对谁都发光发热。我也不大明白，像他这样莫名其妙的人，会不会有人心疼？</p><h2 id="渣"><a href="#渣" class="headerlink" title="渣"></a>渣</h2><!-- 浪子回头 --><p>上学的那会儿，初瘦坚持会写写文字。他总是说自己是个没有秘密的人，心里藏不住事情，也不愿意两面三刀。很多琐碎的情绪都能从他的文字中觉察，喜怒哀乐也全部挂在脸上。</p><p>不忘初心，方得始终；初心易得，始终难守。我也不记得从什么开始，也许是一瞬间，也或许是潜移默化中，他<strong>偏离</strong>了原有的人设。如那些放荡不羁的人儿，都和这世界潦草地和解了。这应该并不算多渣，只不过向现实低了头，很多时候<strong>言不由衷</strong>，<strong>身不由己</strong>。</p><blockquote><p>都说双子最多情，但不限于初瘦一个人吧，渣男都一个样，恨不得见一个爱一个。</p><p>又有说双子看似多情，其实是最薄情的。</p></blockquote><p>表面上初瘦是个没心没肺的渣男，轻描淡写地跟我提过被辜负的往事，也闭口不谈辜负过的罪孽。我的感觉应该是他罪孽深重，活该单身吧。反正他从来不肯面对现实，承认自己很渣就是了。他苦笑着跟我说——“情非得已。”</p><hr><p>过几天就是他的生日了，我问他，对现状有什么看法。他回了这么几个字：“<strong>认输，但不服输。</strong>”</p><p>呵呵，奔四的老年人。</p><p>逃避不一定躲得过，面对不一定最难过。不求做伟大的人，却要做大写的人，这就是他，他是王初瘦。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;王初瘦今年&lt;strong&gt;三十一&lt;/strong&gt;了。&lt;/p&gt;
&lt;p&gt;岁月像一把杀猪刀，初瘦快要破碎他再瘦的梦。初瘦总会自嘲说，心宽体胖。可是只有傻子才看不出来吧，他那些沉稳，是被现实磨平的棱角。&lt;/p&gt;
&lt;p&gt;虽然我也很了解初瘦，但还是很难去形容他究竟是一个怎样的人，最后总结出来三个字——&lt;strong&gt;剩&lt;/strong&gt;、&lt;strong&gt;暖&lt;/strong&gt;、&lt;strong&gt;渣&lt;/strong&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="diary" scheme="https://old.sh.gg/categories/diary/"/>
    
    
      <category term="love" scheme="https://old.sh.gg/tags/love/"/>
    
      <category term="life" scheme="https://old.sh.gg/tags/life/"/>
    
      <category term="career" scheme="https://old.sh.gg/tags/career/"/>
    
      <category term="birth" scheme="https://old.sh.gg/tags/birth/"/>
    
  </entry>
  
  <entry>
    <title>愉快地使用 ElementoryOS 5 玩耍</title>
    <link href="https://old.sh.gg/posts/2018/elementoryos/"/>
    <id>https://old.sh.gg/posts/2018/elementoryos/</id>
    <published>2018-09-23T19:58:30.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="双系统的安装"><a href="#双系统的安装" class="headerlink" title="双系统的安装"></a>双系统的安装</h2><p>首先，由于 Windows 10 安装分区的时候，占用了3个主分区（MBR、Recovery和系统），所以不能使用 Legacy + MBR 的方式进行引导，因为 MBR 只能有 4 个主分区。</p><p>那么，就需要将磁盘改为 GPT。然后通过 UEFI 进行引导。但试了很多种方法，无法做出 UEFI 引导的 Windows 10 安装U盘（因为有一个 4.1GB的 install.wim 文件，无法使用 FAT32 格式，而我测试用的 DELL 台式机不支持 NTFS 格式的 UEFI引导），所以制作一个 “微PE” 的 U盘进行安装。</p><a id="more"></a><p>注意： 市面上的这种 PE 工具，内置了 N 多垃圾软件，安装完系统后自动安装。</p><p>BIOS 设置：</p><ul><li>关闭 Secure Boot</li><li>关闭 Legacy 引导，使用 UEFI 引导</li></ul><p>安装过程不再赘述，比较简单。</p><h2 id="Elementory"><a href="#Elementory" class="headerlink" title="Elementory"></a>Elementory</h2><p>安装的版本为 Juno 5（Beta），基于Ubuntu 18.04。</p><h3 id="缺陷"><a href="#缺陷" class="headerlink" title="缺陷"></a>缺陷</h3><p>先说一些我发现的问题：</p><h4 id="1-多屏兼容性"><a href="#1-多屏兼容性" class="headerlink" title="1.多屏兼容性"></a>1.多屏兼容性</h4><p>我用了两块屏幕，一块28寸飞利浦4k屏（设置为默认屏幕），一块Dell 24英寸（旋转90°用于竖屏看代码）。但开机的时候始终以Dell的屏幕作为主屏（可能因为它的分辨率低？），且登录框无法自动或通过键盘获得焦点，所以我只能以自动登录来避免这个问题。</p><h4 id="2-蓝牙兼容性"><a href="#2-蓝牙兼容性" class="headerlink" title="2. 蓝牙兼容性"></a>2. 蓝牙兼容性</h4><p>我一开始打算使用 罗技M558 鼠标的，但是每次重启无法自动连接，手动连接也有异常，每次都得重新配对。 后来换成了 罗技 Master 2s，但由于没有 Linux 驱动，所以比较难用。</p><h4 id="3-没有-ALT-键"><a href="#3-没有-ALT-键" class="headerlink" title="3. 没有 ALT 键"></a>3. 没有 ALT 键</h4><p>不确定是不是键盘的问题（HHKB Pro2 Type-S），ALT键位的实际作用有点类似 OS X系统下的 command （⌘）键。</p><h4 id="4-状态栏图标"><a href="#4-状态栏图标" class="headerlink" title="4. 状态栏图标"></a>4. 状态栏图标</h4><p>似乎是篡改过的，安装的软件都没有图标，比如 SS、输入法等，不太方便。而且状态栏的时间显示格式无法修改，显示为 <code>一，9月24 12:32</code> 这种格式。左上角始终为全局应用程序，不会变为当前应用的菜单。</p><h3 id="软件推荐"><a href="#软件推荐" class="headerlink" title="软件推荐"></a>软件推荐</h3><ul><li>钉钉： <a href="https://github.com/nashaofu/dingtalk" target="_blank" rel="noopener">https://github.com/nashaofu/dingtalk</a> </li><li><p>微信： <a href="https://github.com/geeeeeeeeek/electronic-wechat" target="_blank" rel="noopener">https://github.com/geeeeeeeeek/electronic-wechat</a></p></li><li><p>Konsole： 替代原生 Terminal</p></li><li>Typora： 文本编辑</li><li><del>Conky</del>： 系统监控，不兼容</li></ul><h3 id="问题：没有-Release-文件"><a href="#问题：没有-Release-文件" class="headerlink" title="问题：没有 Release 文件"></a>问题：没有 Release 文件</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  <span class="number">404</span>  Not Found [<span class="string">IP:</span> xxxxx]</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line"><span class="string">E:</span> 仓库 “xxxxxxxxx bionic Release” 没有 Release 文件。</span><br><span class="line"><span class="string">N:</span> 无法安全地用该源进行更新，所以默认禁用该源。</span><br><span class="line"><span class="string">N:</span> 参见 apt-secure(<span class="number">8</span>) 手册以了解仓库创建和用户配置方面的细节。</span><br></pre></td></tr></table></figure><p>解决方案：</p><p>打开 <code>/etc/apt/sources.list.d/</code> 下对应的源配置。 将 <code>bionic</code> 改成该源有支持的。</p><p>对应版本：</p><ul><li>18.04：<code>bionic</code></li><li>17.10：<code>artful</code></li><li>16.04：<code>xenial</code></li><li>14.04：<code>trusty</code></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;双系统的安装&quot;&gt;&lt;a href=&quot;#双系统的安装&quot; class=&quot;headerlink&quot; title=&quot;双系统的安装&quot;&gt;&lt;/a&gt;双系统的安装&lt;/h2&gt;&lt;p&gt;首先，由于 Windows 10 安装分区的时候，占用了3个主分区（MBR、Recovery和系统），所以不能使用 Legacy + MBR 的方式进行引导，因为 MBR 只能有 4 个主分区。&lt;/p&gt;
&lt;p&gt;那么，就需要将磁盘改为 GPT。然后通过 UEFI 进行引导。但试了很多种方法，无法做出 UEFI 引导的 Windows 10 安装U盘（因为有一个 4.1GB的 install.wim 文件，无法使用 FAT32 格式，而我测试用的 DELL 台式机不支持 NTFS 格式的 UEFI引导），所以制作一个 “微PE” 的 U盘进行安装。&lt;/p&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="unix" scheme="https://old.sh.gg/tags/unix/"/>
    
  </entry>
  
  <entry>
    <title>VSCode配置Webpack路径提示及智能跳转</title>
    <link href="https://old.sh.gg/posts/2017/vs-code-webpack-intelligence/"/>
    <id>https://old.sh.gg/posts/2017/vs-code-webpack-intelligence/</id>
    <published>2017-10-11T03:29:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Webpack-配置"><a href="#Webpack-配置" class="headerlink" title="Webpack 配置"></a>Webpack 配置</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    modules: [</span><br><span class="line">      <span class="string">'node_modules'</span>,</span><br><span class="line">      path.resolve(__dirname, <span class="string">'../src'</span>)</span><br><span class="line">    ],</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>, <span class="string">'.css'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue$: <span class="string">'vue/dist/vue.esm.js'</span>,</span><br><span class="line">      public: path.resolve(__dirname, <span class="string">'../public'</span>),</span><br><span class="line">      component: path.resolve(__dirname, <span class="string">'../src/component'</span>),</span><br><span class="line">      config: path.resolve(__dirname, <span class="string">'../src/config'</span>),</span><br><span class="line">      lib: path.resolve(__dirname, <span class="string">'../src/lib'</span>),</span><br><span class="line">      i18n: path.resolve(__dirname, <span class="string">'../src/i18n'</span>),</span><br><span class="line">      store: path.resolve(__dirname, <span class="string">'../src/store'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="Eslint-选配"><a href="#Eslint-选配" class="headerlink" title="Eslint 选配"></a>Eslint 选配</h3><p>需要安装插件 <code>eslint-import-resolver-webpack</code>。进行配置：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">settings:</span></span><br><span class="line">  <span class="attr">import/resolver:</span></span><br><span class="line">    <span class="attr">webpack:</span></span><br><span class="line">      <span class="attr">config:</span> <span class="string">'build/webpack.config.js'</span></span><br></pre></td></tr></table></figure><h2 id="智能路径提示"><a href="#智能路径提示" class="headerlink" title="智能路径提示"></a>智能路径提示</h2><p>需要安装插件<code>Path Intellisense</code>，并且进行配置（项目或者全局的<code>settings.json</code>）：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"path-intellisense.mappings"</span>: &#123;</span><br><span class="line">    <span class="string">"config"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/config"</span>,</span><br><span class="line">    <span class="string">"lib"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/lib"</span>,</span><br><span class="line">    <span class="string">"store"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/store"</span>,</span><br><span class="line">    <span class="string">"i18n"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/i18n"</span>,</span><br><span class="line">    <span class="string">"component"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/component"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p><img src="http://i.giphy.com/iaHeUiDeTUZuo.gif" alt="智能提示"></p><h2 id="代码智能跳转"><a href="#代码智能跳转" class="headerlink" title="代码智能跳转"></a>代码智能跳转</h2><p>项目根目录创建 <code>jsonfig.json</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"include"</span>: [</span><br><span class="line">    <span class="string">"./src/**/*"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="string">"baseUrl"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="string">"paths"</span>: &#123;</span><br><span class="line">        <span class="string">"component/*"</span>: [<span class="string">"src/component/*"</span>],</span><br><span class="line">        <span class="string">"config/*"</span>: [<span class="string">"src/config/*"</span>],</span><br><span class="line">        <span class="string">"lib/*"</span>: [<span class="string">"src/lib/*"</span>],</span><br><span class="line">        <span class="string">"i18n/*"</span>: [<span class="string">"src/i18n/*"</span>],</span><br><span class="line">        <span class="string">"store/*"</span>: [<span class="string">"src/store/*"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>￼</p><p>按住 <code>⌘command</code>就可以跳转到对应代码了。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Webpack-配置&quot;&gt;&lt;a href=&quot;#Webpack-配置&quot; class=&quot;headerlink&quot; title=&quot;Webpack 配置&quot;&gt;&lt;/a&gt;Webpack 配置&lt;/h2&gt;&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;resolve: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    modules: [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      &lt;span class=&quot;string&quot;&gt;&#39;node_modules&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    extensions: [&lt;span class=&quot;string&quot;&gt;&#39;.js&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.vue&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.json&#39;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&#39;.css&#39;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    alias: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      vue$: &lt;span class=&quot;string&quot;&gt;&#39;vue/dist/vue.esm.js&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      public: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../public&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      component: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src/component&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      config: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src/config&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      lib: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src/lib&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      i18n: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src/i18n&#39;&lt;/span&gt;),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;      store: path.resolve(__dirname, &lt;span class=&quot;string&quot;&gt;&#39;../src/store&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="suggestion" scheme="https://old.sh.gg/tags/suggestion/"/>
    
      <category term="front-end" scheme="https://old.sh.gg/tags/front-end/"/>
    
  </entry>
  
  <entry>
    <title>创意分享：Redis 客户端</title>
    <link href="https://old.sh.gg/posts/2017/redis-app/"/>
    <id>https://old.sh.gg/posts/2017/redis-app/</id>
    <published>2017-09-15T01:57:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>我在 iPad 上买过两个：</p><ul><li>Redis Touch（6元）</li><li>RedisFly （24元）</li></ul><p>但这两个都不支持 SSH 登录，让我很尴尬。</p><a id="more"></a><h2 id="第一步，分析：实现设想"><a href="#第一步，分析：实现设想" class="headerlink" title="第一步，分析：实现设想"></a>第一步，分析：实现设想</h2><p>没考虑原生方式，原因很简单，不会。</p><p>最初的设想是直接封装一个 Hybrid App，用 js 实现。 但搜索了一圈，好像没有什么方案可以直接在前端去连接 ssh 服务器的。</p><p>那么就需要服务器作为中转，将客户端的请求采用 ssh 连接进行透传，然后保持连接，并抛出 RESTful 或 Websocket 接口。</p><h2 id="第二步，应用架构"><a href="#第二步，应用架构" class="headerlink" title="第二步，应用架构"></a>第二步，应用架构</h2><p>最终用户使用的网络传输过程大概是这样子的：</p><p><img src="./_attachment/redis-app.svg" alt="redis-app.svg"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">客户端-&gt;应用服务器: 普通接口调用</span><br><span class="line">应用服务器-&gt;用户服务器: ssh 连接 redis</span><br><span class="line">Note right of 应用服务器: 抛出接口</span><br><span class="line">用户服务器--&gt;应用服务器: 返回结果</span><br><span class="line">应用服务器--&gt;客户端: 返回结果</span><br></pre></td></tr></table></figure><h2 id="第三步，筹备"><a href="#第三步，筹备" class="headerlink" title="第三步，筹备"></a>第三步，筹备</h2><p>TODO List：</p><ul><li style="list-style: none"><input type="checkbox"> 设计UI原型</li><li style="list-style: none"><input type="checkbox"> 服务器端 ssh 连接</li><li style="list-style: none"><input type="checkbox"> 服务器端接口设计</li><li style="list-style: none"><input type="checkbox"> 开发客户端上层应用</li><li style="list-style: none"><input type="checkbox"> 进行测试发布</li><li style="list-style: none"><input type="checkbox"> 服务器优化，以允许更高并发客户端连接</li></ul><hr><p>参考资料：</p><ul><li>Medis （Electron 封装的 OS X 客户端）： <a href="https://github.com/luin/medis" target="_blank" rel="noopener">https://github.com/luin/medis</a></li><li>Node.js 实现原理： <a href="https://stackoverflow.com/questions/38689707/connecting-to-remote-ssh-server-via-node-js-html5-console" target="_blank" rel="noopener">https://stackoverflow.com/questions/38689707/connecting-to-remote-ssh-server-via-node-js-html5-console</a></li></ul><p>P.S.</p><p>由于工作的原因，我个人可能并没有太多的精力去参与所有【创意 iDeas】分类下的项目。如果你对这个项目有兴趣，可以微博或Github上与我联系，或者直接略过我自行去完成该APP的开发。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;我在 iPad 上买过两个：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis Touch（6元）&lt;/li&gt;
&lt;li&gt;RedisFly （24元）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但这两个都不支持 SSH 登录，让我很尴尬。&lt;/p&gt;
    
    </summary>
    
      <category term="idea" scheme="https://old.sh.gg/categories/idea/"/>
    
    
      <category term="app" scheme="https://old.sh.gg/tags/app/"/>
    
  </entry>
  
  <entry>
    <title>创意分享：Github/Coding 聚合客户端</title>
    <link href="https://old.sh.gg/posts/2017/github-coding-app/"/>
    <id>https://old.sh.gg/posts/2017/github-coding-app/</id>
    <published>2017-09-12T18:53:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="为什么需要一个聚合的客户端"><a href="#为什么需要一个聚合的客户端" class="headerlink" title="为什么需要一个聚合的客户端"></a>为什么需要一个聚合的客户端</h2><p>举个栗子，之前微博类产品风靡的时候，有很多类似的产品，如：腾讯微博、新浪微博、饭否、Twitter……那么，就可能会发生这样的一个现象，手机上装了一大堆类似的APP，然后用个文件夹放到一起。</p><p>实际上大多数也确实这么做了。切换不同的APP，去刷内容不同但本质相近的微博消息。</p><p>同样，目前我在我的手机上各自装了 Coding.net 和 GitHub（GitPoint）客户端。</p><p>而最近，我在入手iPad Pro之后，发现 Cdoing 并没有对应的 iPad 客户端，从而萌生了这样的一个点子。</p><a id="more"></a><h2 id="第一步，分析"><a href="#第一步，分析" class="headerlink" title="第一步，分析"></a>第一步，分析</h2><p>从技术实现的角度来讲，并不复杂。</p><p>因为它们都是代码管理平台，功能相近，有着许多共同之处，随便列举一些：</p><ul><li>都是通过 OAuth 进行鉴权</li><li>大多数都功能重叠，如：用户，项目，组织（团队），关注，ISSUE……</li></ul><h2 id="第二步，设计接口逻辑架构"><a href="#第二步，设计接口逻辑架构" class="headerlink" title="第二步，设计接口逻辑架构"></a>第二步，设计接口逻辑架构</h2><p><img src="./_attachment/api.svg" alt="api.svg"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">APP[应用层]--&gt;INTERFACE(封装统一接口)</span><br><span class="line">INTERFACE--&gt;|抛出参数一致|CODING[封装Coding API]</span><br><span class="line">INTERFACE--&gt;|抛出参数一致|GITHUB[封装Github API]</span><br></pre></td></tr></table></figure><h3 id="以-Star-一个项目为例"><a href="#以-Star-一个项目为例" class="headerlink" title="以 Star 一个项目为例"></a>以 Star 一个项目为例</h3><p>根据操作的类型进行判断，接口参数里带入类型即可。<br><img src="./_attachment/star-project.svg" alt="star-project.svg"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Action-&gt;Interface: 关注github\nwillin/leader.js.cool</span><br><span class="line">Interface-&gt;Github: 调用关注</span><br><span class="line">Note right of Github: 抛出接口一致</span><br><span class="line">Interface--&gt;Action: 返回结果</span><br><span class="line"></span><br><span class="line">Action-&gt;Interface: 关注coding\nwillin/leader.js.cool</span><br><span class="line">Interface-&gt;Coding: 调用关注</span><br><span class="line">Interface--&gt;Action: 返回结果</span><br></pre></td></tr></table></figure><h3 id="第三步，筹备"><a href="#第三步，筹备" class="headerlink" title="第三步，筹备"></a>第三步，筹备</h3><p>TODO List：</p><ul><li style="list-style: none"><input type="checkbox"> 整理完整的功能清单（包括相同功能和两个平台差异性功能）</li><li style="list-style: none"><input type="checkbox"> 设计UI原型（两者的客户端可以选择一个作为主体风格，或者重新设计）</li><li style="list-style: none"><input type="checkbox"> 封装底层接口</li><li style="list-style: none"><input type="checkbox"> 开发上层应用</li><li style="list-style: none"><input type="checkbox"> 进行测试发布</li></ul><hr><p>P.S.</p><p>由于工作的原因，我个人可能并没有太多的精力去参与所有【创意 iDeas】分类下的项目。如果你对这个项目有兴趣，可以微博或Github上与我联系，或者直接略过我自行去完成该APP的开发。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;为什么需要一个聚合的客户端&quot;&gt;&lt;a href=&quot;#为什么需要一个聚合的客户端&quot; class=&quot;headerlink&quot; title=&quot;为什么需要一个聚合的客户端&quot;&gt;&lt;/a&gt;为什么需要一个聚合的客户端&lt;/h2&gt;&lt;p&gt;举个栗子，之前微博类产品风靡的时候，有很多类似的产品，如：腾讯微博、新浪微博、饭否、Twitter……那么，就可能会发生这样的一个现象，手机上装了一大堆类似的APP，然后用个文件夹放到一起。&lt;/p&gt;
&lt;p&gt;实际上大多数也确实这么做了。切换不同的APP，去刷内容不同但本质相近的微博消息。&lt;/p&gt;
&lt;p&gt;同样，目前我在我的手机上各自装了 Coding.net 和 GitHub（GitPoint）客户端。&lt;/p&gt;
&lt;p&gt;而最近，我在入手iPad Pro之后，发现 Cdoing 并没有对应的 iPad 客户端，从而萌生了这样的一个点子。&lt;/p&gt;
    
    </summary>
    
      <category term="idea" scheme="https://old.sh.gg/categories/idea/"/>
    
    
      <category term="app" scheme="https://old.sh.gg/tags/app/"/>
    
  </entry>
  
  <entry>
    <title>iPad 开发/高效应用列表</title>
    <link href="https://old.sh.gg/posts/2017/ipad-apps/"/>
    <id>https://old.sh.gg/posts/2017/ipad-apps/</id>
    <published>2017-09-11T04:31:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>原则：</p><blockquote><p>提高工作效率，拒绝时间浪费。</p></blockquote><p>所以该列表会随时更新，将一些不用的App删除，新增一些最近发现的有意思的App。</p><h2 id="开发工具-代码编辑器"><a href="#开发工具-代码编辑器" class="headerlink" title="开发工具/代码编辑器"></a>开发工具/代码编辑器</h2><ul><li>Prompt: 价格98元， 远程SSH连接</li><li><del>Termius: 免费， 远程SSH连接</del></li><li>Teamviewer: 个人免费， 远程桌面工具</li><li>GoCoEdit: 价格68元</li><li>Coda: 价格168元</li></ul><a id="more"></a><p>开发工具分别比较了：</p><ul><li>GoCoEdit： 唯一一款可以直接在 localhost（80端口） 进行预览的， 可以存 iCloud Drive</li><li>Coda： 本地+远程FTP/SSH，集成了终端，可以在 localhost:[站点端口] 预览</li><li><del>Buffer Editor</del>： 价格30元，可以支持 Git 项目 Clone 和 Push， 其他啥也干不了</li><li><del>Textastic</del>： 价格60元，和 <code>GoCoEdit</code> 差不多，但界面风格有点简陋</li></ul><p>总结下来虽然每个都号称支持 N 多种语言，但实际也就前端开发稍微省心点，因为有预览么。。。但不能用 Webpack 之类的打包工具也是不太方便真实项目开发的。 前端用来写一些小的 Demo 挺顺手。</p><p>最后保留了两个使用，如果 Coda 能支持 iCloud Drive存储，则更倾向 Coda，目前得用 GoCoEdit 与电脑进行同步。 接下来将用 iPad 写第一个项目——重构 willin.wang 网站， 然后是 js.cool 网站。</p><h2 id="数据库-缓存客户端"><a href="#数据库-缓存客户端" class="headerlink" title="数据库/缓存客户端"></a>数据库/缓存客户端</h2><ul><li>Navicat for MySQL: 价格较高，128元</li><li>RedisFly: 价格24元， 不支持SSH</li></ul><h2 id="效率工具"><a href="#效率工具" class="headerlink" title="效率工具"></a>效率工具</h2><ul><li>duet: 价格68元. 把 iPad 当做电脑屏幕</li><li>Workflow: 价格30元. 工作流</li><li>Notes Plus: 价格68元. 最好的笔记工具， 配合Apple Pencil钢笔手写效果完美</li><li><del>Things: 价格68元. GTD工具， 苹果三个平台都有（但都需要各自购买）</del></li><li>Mindjet Maps: 免费， 脑图工具</li></ul><h2 id="文档-阅读工具"><a href="#文档-阅读工具" class="headerlink" title="文档/阅读工具"></a>文档/阅读工具</h2><ul><li><a href="https://kapeli.com/dash_ios" target="_blank" rel="noopener">Dash</a>: 离线文档</li><li><del>MWeb: 价格60元(目前30)， Markdown编辑器， 可以与Mac OS(价格98元)下的进行同步</del></li><li><del>Reeder： 价格68元， 在Mac OS下用习惯了， 不错的 RSS 阅读工具</del></li><li>Inoreader： 免费</li><li>MarginNote Pro： 价格60元，可以直接做笔记的阅读软件，能够生成脑图，我用来看技术书籍，且可以与 Mac OS端（两个版本，分别68元和249元）同步</li><li>微信读书</li><li>多看阅读</li></ul><p>把 MWeb 给删去了， 虽然我现在也在用。 主要是没别的选择，而且这个东西 Bug 太多，实在对不起这个价格。现在普遍的一个现象就是 iOS 应用价格很高，但功能性太差。像这个软件几年下来最基本的 Bug 都没有改完，作者还固步自封，以为自己写了个宝，真是坑了个爹。话说最多也就三个月吧，一个人就能搞出这样一款软件，而且还能做得更好，有兴趣的小伙伴可以尝试一下。需要技术支持的可以联系我。</p><p>自从用了 FarBox，感觉春天又来了。 唯一的遗憾是没有 iOS 客户端，但比较好的是 Mac OS 客户端非常给力，而且有 WebEditor 稍作弥补。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;原则：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;提高工作效率，拒绝时间浪费。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;所以该列表会随时更新，将一些不用的App删除，新增一些最近发现的有意思的App。&lt;/p&gt;
&lt;h2 id=&quot;开发工具-代码编辑器&quot;&gt;&lt;a href=&quot;#开发工具-代码编辑器&quot; class=&quot;headerlink&quot; title=&quot;开发工具/代码编辑器&quot;&gt;&lt;/a&gt;开发工具/代码编辑器&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Prompt: 价格98元， 远程SSH连接&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Termius: 免费， 远程SSH连接&lt;/del&gt;&lt;/li&gt;
&lt;li&gt;Teamviewer: 个人免费， 远程桌面工具&lt;/li&gt;
&lt;li&gt;GoCoEdit: 价格68元&lt;/li&gt;
&lt;li&gt;Coda: 价格168元&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="ipad" scheme="https://old.sh.gg/tags/ipad/"/>
    
      <category term="app" scheme="https://old.sh.gg/tags/app/"/>
    
  </entry>
  
  <entry>
    <title>Docsify画图建模Mermaid插件支持</title>
    <link href="https://old.sh.gg/posts/2017/docsify-mermaid-plugin/"/>
    <id>https://old.sh.gg/posts/2017/docsify-mermaid-plugin/</id>
    <published>2017-06-20T07:54:54.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>先上图</p><p><img src="https://user-images.githubusercontent.com/1890238/27322559-3217d3b8-5564-11e7-8d27-2d6de348aa5f.png" alt="mermaid1"></p><a id="more"></a><h2 id="引入Mermaid"><a href="#引入Mermaid" class="headerlink" title="引入Mermaid"></a>引入Mermaid</h2><p>在 <code>head</code> 中加入css:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//unpkg.com/mermaid/dist/mermaid.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>在 底部 引用js:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/mermaid/dist/mermaid.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="配置文件修改"><a href="#配置文件修改" class="headerlink" title="配置文件修改"></a>配置文件修改</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.$docsify = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">hook, vm</span>) </span>&#123;</span><br><span class="line">      hook.ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        mermaid.initialize(&#123;<span class="attr">startOnLoad</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      hook.doneEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        mermaid.init(<span class="literal">undefined</span>,<span class="string">'.mermaid'</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  markdown: &#123;</span><br><span class="line">    renderer: &#123;</span><br><span class="line">      code: <span class="function"><span class="keyword">function</span>(<span class="params">code, lang</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">if</span>(code.match(<span class="regexp">/^sequenceDiagram/</span>) || code.match(<span class="regexp">/^graph/</span>) || code.match(<span class="regexp">/^gantt/</span>))&#123;</span><br><span class="line">          html = <span class="string">'&lt;div class="mermaid"&gt;'</span> + code + <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> hl = Prism.highlight(code, Prism.languages[lang] || Prism.languages.markup)</span><br><span class="line">        <span class="keyword">return</span> html + <span class="string">'&lt;pre v-pre data-lang="'</span> + lang + <span class="string">'"&gt;&lt;code class="lang-'</span> + lang + <span class="string">'"&gt;'</span> + hl + <span class="string">'&lt;/code&gt;&lt;/pre&gt;'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>解释一下,两个关键步骤:</p><h3 id="markdown代码解析器"><a href="#markdown代码解析器" class="headerlink" title="markdown代码解析器"></a>markdown代码解析器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">markdown: &#123;</span><br><span class="line">  renderer: &#123;</span><br><span class="line">    code: <span class="function"><span class="keyword">function</span>(<span class="params">code, lang</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">    <span class="comment">// 搜索 mermaid 代码</span></span><br><span class="line">    <span class="keyword">if</span>(code.match(<span class="regexp">/^sequenceDiagram/</span>) || code.match(<span class="regexp">/^graph/</span>) || code.match(<span class="regexp">/^gantt/</span>))&#123;</span><br><span class="line">      <span class="comment">// 生成一个 mermaid 图表的容器</span></span><br><span class="line">      html = <span class="string">'&lt;div class="mermaid"&gt;'</span> + code + <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 源码自带的 Prism 高亮插件</span></span><br><span class="line">    <span class="keyword">var</span> hl = Prism.highlight(code, Prism.languages[lang] || Prism.languages.markup)</span><br><span class="line">    <span class="comment">// 将图表的容器添加到代码之前</span></span><br><span class="line">    <span class="keyword">return</span> html + <span class="string">'&lt;pre v-pre data-lang="'</span> + lang + <span class="string">'"&gt;&lt;code class="lang-'</span> + lang + <span class="string">'"&gt;'</span> + hl + <span class="string">'&lt;/code&gt;&lt;/pre&gt;'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="自定义插件"><a href="#自定义插件" class="headerlink" title="自定义插件"></a>自定义插件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">hook, vm</span>) </span>&#123;</span><br><span class="line">    hook.ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 类似 jQuery.ready 初始化 mermaid, 禁用自动渲染</span></span><br><span class="line">      mermaid.initialize(&#123;<span class="attr">startOnLoad</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    hook.doneEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 每个页面渲染完成后手动渲染 mermaid 图表</span></span><br><span class="line">      mermaid.init(<span class="literal">undefined</span>,<span class="string">'.mermaid'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>最后再补一张甘特图:</p><p><img src="https://user-images.githubusercontent.com/1890238/27322558-31c84fbe-5564-11e7-9949-851fddbafa33.png" alt="mermaid2"></p><p>Mermaid支持:</p><ul><li>流程图</li><li>序列图</li><li>甘特图</li></ul><p>而且语法结构非常简单,值得推荐.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;先上图&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://user-images.githubusercontent.com/1890238/27322559-3217d3b8-5564-11e7-8d27-2d6de348aa5f.png&quot; alt=&quot;mermaid1&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="dev" scheme="https://old.sh.gg/categories/dev/"/>
    
    
      <category term="plugin" scheme="https://old.sh.gg/tags/plugin/"/>
    
      <category term="markdown" scheme="https://old.sh.gg/tags/markdown/"/>
    
      <category term="docsify" scheme="https://old.sh.gg/tags/docsify/"/>
    
  </entry>
  
  <entry>
    <title>优雅地使用平板进行远程OS X编码开发</title>
    <link href="https://old.sh.gg/posts/2017/pad-remote-coding/"/>
    <id>https://old.sh.gg/posts/2017/pad-remote-coding/</id>
    <published>2017-05-20T02:33:18.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>没有OS X平板(iPad是ios系统)这个问题一直困扰着我.</p></blockquote><blockquote class="blockquote-center"><p>正所谓,工欲善其事必先利其器. </p></blockquote><h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul><li>一台平板(iPad/Surface或者其他)</li><li>一台苹果(Mac Mini/Macbook Pro或者其他)</li><li>一台路由器(需支持动态域名解析,如花生壳),后续我会完善动态域名解析功能</li></ul><a id="more"></a><h2 id="配置电源选项"><a href="#配置电源选项" class="headerlink" title="配置电源选项"></a>配置电源选项</h2><p><img src="https://user-images.githubusercontent.com/1890238/27117064-6ca0b32a-509a-11e7-98fb-db4fa50eeb04.png" alt="power"></p><p>根据上图开启 <code>唤醒</code>, 关闭 <code>睡眠</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pmset -a autopoweroff 0</span><br><span class="line">sudo pmset -a standby 0</span><br></pre></td></tr></table></figure><h2 id="配置路由器"><a href="#配置路由器" class="headerlink" title="配置路由器"></a>配置路由器</h2><h3 id="IP地址分配"><a href="#IP地址分配" class="headerlink" title="IP地址分配"></a>IP地址分配</h3><p>通过mac地址进行绑定,分配固定ip.</p><p>一般是在:</p><blockquote><p>路由设置 -&gt; 上网设置 -&gt; 静态IP</p></blockquote><p><img src="https://cloud.githubusercontent.com/assets/1890238/26823551/99485ffa-4ae0-11e7-8212-e22896fd8adf.jpg" alt="ip"></p><h3 id="端口转发或DMZ"><a href="#端口转发或DMZ" class="headerlink" title="端口转发或DMZ"></a>端口转发或DMZ</h3><p>如果路由支持DMZ主机功能,则不需要进行端口转发.直接将本机设置DMZ主机即可.</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/26823706/2e63f1bc-4ae1-11e7-896e-df145d8b4400.jpg" alt="port-forward"></p><p>端口转发的话,设置 <code>1234</code> 端口(参考下文js代码).</p><h2 id="配置动态域名解析"><a href="#配置动态域名解析" class="headerlink" title="配置动态域名解析"></a>配置动态域名解析</h2><h3 id="方法1-路由器-花生壳"><a href="#方法1-路由器-花生壳" class="headerlink" title="方法1: 路由器+花生壳"></a>方法1: 路由器+花生壳</h3><p>注册花生壳域名</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/26823557/a37f3f5c-4ae0-11e7-8d53-14a591190348.png" alt="oray"></p><p>路由器配置花生壳</p><p>很简单,填入用户名密码和域名.</p><p>注意下面的两个时间我填的都是 10 分钟.</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/26823629/de357cc4-4ae0-11e7-9e23-5652f2a6aa48.jpg" alt="router-oray"></p><h3 id="方法2-DNS定时轮询"><a href="#方法2-DNS定时轮询" class="headerlink" title="方法2: DNS定时轮询"></a>方法2: DNS定时轮询</h3><blockquote class="blockquote-center"><p>本章节待完善</p></blockquote><p>参考资料:</p><ul><li>DNSPod: <a href="https://github.com/willin/wqcloud" target="_blank" rel="noopener">https://github.com/willin/wqcloud</a></li></ul><h2 id="设置唤醒应用"><a href="#设置唤醒应用" class="headerlink" title="设置唤醒应用"></a>设置唤醒应用</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">a http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; execSync &#125; = <span class="built_in">require</span>(<span class="string">'child_process'</span>);</span><br><span class="line">http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-type'</span>: <span class="string">'application/json'</span> &#125;);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    execSync(<span class="string">'caffeinate -u -t 1'</span>);</span><br><span class="line">    res.end(<span class="string">'&#123;status:1&#125;'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    res.end(<span class="string">'&#123;status:0&#125;'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).listen(<span class="number">1234</span>);</span><br></pre></td></tr></table></figure><p>假如你的动态解析域名是 <code>willin.wang</code></p><p>如果电脑进入睡眠了,用手机访问下面的地址,即可进行唤醒.</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//willin.wang:1234/</span></span><br></pre></td></tr></table></figure><h2 id="祭出神器"><a href="#祭出神器" class="headerlink" title="祭出神器"></a>祭出神器</h2><p>TeamViewer, 配置无人值守和轻松访问.</p><p><img src="https://user-images.githubusercontent.com/1890238/27117314-adf4255e-509b-11e7-904b-b751ec392b32.png" alt="teamviewer"></p><p>享受吧.</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;没有OS X平板(iPad是ios系统)这个问题一直困扰着我.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;正所谓,工欲善其事必先利其器. &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;准备&quot;&gt;&lt;a href=&quot;#准备&quot; class=&quot;headerlink&quot; title=&quot;准备&quot;&gt;&lt;/a&gt;准备&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;一台平板(iPad/Surface或者其他)&lt;/li&gt;
&lt;li&gt;一台苹果(Mac Mini/Macbook Pro或者其他)&lt;/li&gt;
&lt;li&gt;一台路由器(需支持动态域名解析,如花生壳),后续我会完善动态域名解析功能&lt;/li&gt;
&lt;/ul&gt;
    
    </summary>
    
      <category term="dev" scheme="https://old.sh.gg/categories/dev/"/>
    
    
      <category term="suggestion" scheme="https://old.sh.gg/tags/suggestion/"/>
    
      <category term="mac" scheme="https://old.sh.gg/tags/mac/"/>
    
      <category term="tech" scheme="https://old.sh.gg/tags/tech/"/>
    
  </entry>
  
  <entry>
    <title>国内可备案域名后缀及价格列表</title>
    <link href="https://old.sh.gg/posts/2017/beian-domain-list/"/>
    <id>https://old.sh.gg/posts/2017/beian-domain-list/</id>
    <published>2017-02-26T11:14:48.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>456个全。</p><blockquote><p>更新时间2017年2月26日。</p></blockquote><blockquote class="blockquote-center"><p>2017.08 更新一个Node.js写的爬虫脚本,可以一次性获得最新列表:<br><a href="https://github.com/willin/beian-domain" target="_blank" rel="noopener">https://github.com/willin/beian-domain</a></p></blockquote><a id="more"></a><h2 id="可备案域名列表"><a href="#可备案域名列表" class="headerlink" title="可备案域名列表"></a>可备案域名列表</h2><ul><li>.ac</li><li>.ac.cn</li><li>.ad</li><li>.ae</li><li>.aero</li><li>.af</li><li>.ag</li><li>.ah.cn</li><li>.ai</li><li>.al</li><li>.am</li><li>.an</li><li>.ao</li><li>.aq</li><li>.ar</li><li>.arpa</li><li>.as</li><li>.asia</li><li>.asia</li><li>.at</li><li>.au</li><li>.aw</li><li>.ax</li><li>.az</li><li>.ba</li><li>.bb</li><li>.bd</li><li>.be</li><li>.bf</li><li>.bg</li><li>.bh</li><li>.bi</li><li>.biz</li><li>.biz</li><li>.bj</li><li>.bj.cn</li><li>.bm</li><li>.bn</li><li>.bo</li><li>.br</li><li>.br</li><li>.bs</li><li>.bt</li><li>.bv</li><li>.bw</li><li>.by</li><li>.bz</li><li>.ca</li><li>.cat</li><li>.cc</li><li>.cc</li><li>.cd</li><li>.cf</li><li>.cg</li><li>.ch</li><li>.ci</li><li>.citic</li><li>.ck</li><li>.cl</li><li>.club</li><li>.club</li><li>.cm</li><li>.cn</li><li>.cn</li><li>.cn.net</li><li>.co</li><li>.co.ao</li><li>.co.id</li><li>.co.il</li><li>.co.jp</li><li>.co.kr</li><li>.co.nz</li><li>.co.th</li><li>.co.uk</li><li>.co.uk</li><li>.co.za</li><li>.com</li><li>.com</li><li>.com.au</li><li>.com.bo</li><li>.com.br</li><li>.com.cn</li><li>.com.co</li><li>.com.de</li><li>.com.do</li><li>.com.ec</li><li>.com.eg</li><li>.com.hk</li><li>.com.mo</li><li>.com.my</li><li>.com.nz</li><li>.com.nz</li><li>.com.ph</li><li>.com.py</li><li>.com.ru</li><li>.com.sa</li><li>.com.sc</li><li>.com.sg</li><li>.com.tw</li><li>.com.vn</li><li>.coop</li><li>.cq.cn</li><li>.cr</li><li>.cu</li><li>.cv</li><li>.cx</li><li>.cy</li><li>.cz</li><li>.de</li><li>.dj</li><li>.dk</li><li>.dm</li><li>.do</li><li>.dz</li><li>.ec</li><li>.edu</li><li>.edu.cn</li><li>.edu.hk</li><li>.edu.mo</li><li>.ee</li><li>.eg</li><li>.er</li><li>.es</li><li>.et</li><li>.eu</li><li>.fi</li><li>.fj</li><li>.fj.cn</li><li>.fk</li><li>.fm</li><li>.fo</li><li>.fr</li><li>.ga</li><li>.gb</li><li>.gd</li><li>.gd.cn</li><li>.ge</li><li>.gf</li><li>.gg</li><li>.gh</li><li>.gi</li><li>.gl</li><li>.gm</li><li>.gn</li><li>.gov</li><li>.gov.cn</li><li>.gp</li><li>.gq</li><li>.gr</li><li>.gs</li><li>.gs.cn</li><li>.gt</li><li>.gu</li><li>.gw</li><li>.gx.cn</li><li>.gy</li><li>.gz.cn</li><li>.ha.cn</li><li>.hb.cn</li><li>.he.cn</li><li>.hi.cn</li><li>.hk</li><li>.hk</li><li>.hk.cn</li><li>.hl.cn</li><li>.hm</li><li>.hn</li><li>.hn.cn</li><li>.hr</li><li>.ht</li><li>.hu</li><li>.id</li><li>.ie</li><li>.il</li><li>.im</li><li>.in</li><li>.info</li><li>.ink</li><li>.int</li><li>.io</li><li>.iq</li><li>.ir</li><li>.is</li><li>.it</li><li>.je</li><li>.jl.cn</li><li>.jm</li><li>.jo</li><li>.jobs</li><li>.jp</li><li>.js.cn</li><li>.jx.cn</li><li>.ke</li><li>.kg</li><li>.kh</li><li>.khb.ru</li><li>.ki</li><li>.km</li><li>.kn</li><li>.kp</li><li>.kr</li><li>.kr.com</li><li>.kw</li><li>.ky</li><li>.kz</li><li>.la</li><li>.lb</li><li>.lc</li><li>.li</li><li>.lk</li><li>.ln.cn</li><li>.lr</li><li>.ls</li><li>.lt</li><li>.lu</li><li>.lv</li><li>.ly</li><li>.ma</li><li>.mc</li><li>.md</li><li>.me</li><li>.mg</li><li>.mh</li><li>.mil</li><li>.mil.cn</li><li>.mk</li><li>.ml</li><li>.mm</li><li>.mn</li><li>.mo</li><li>.mo.cn</li><li>.mobi</li><li>.mp</li><li>.mq</li><li>.mr</li><li>.ms</li><li>.mt</li><li>.mu</li><li>.museum</li><li>.mv</li><li>.mw</li><li>.mx</li><li>.my</li><li>.mz</li><li>.na</li><li>.name</li><li>.name</li><li>.nc</li><li>.ne</li><li>.net</li><li>.net</li><li>.net.au</li><li>.net.cn</li><li>.net.ru</li><li>.net.tw</li><li>.nf</li><li>.ng</li><li>.ni</li><li>.nl</li><li>.nm.cn</li><li>.no</li><li>.np</li><li>.nr</li><li>.nu</li><li>.nx.cn</li><li>.nz</li><li>.om</li><li>.or.id</li><li>.org</li><li>.org</li><li>.org.au</li><li>.org.cn</li><li>.org.pg</li><li>.org.ru</li><li>.org.uk</li><li>.pa</li><li>.pe</li><li>.pf</li><li>.pg</li><li>.ph</li><li>.pk</li><li>.pl</li><li>.pm</li><li>.pn</li><li>.pr</li><li>.pro</li><li>.ps</li><li>.pt</li><li>.pw</li><li>.pw</li><li>.py</li><li>.qa</li><li>.qh.cn</li><li>.re</li><li>.ren</li><li>.ren</li><li>.ro</li><li>.rs</li><li>.ru</li><li>.rw</li><li>.sa</li><li>.sb</li><li>.sc</li><li>.sc.cn</li><li>.sd</li><li>.sd.cn</li><li>.se</li><li>.sg</li><li>.sh</li><li>.sh.cn</li><li>.shop</li><li>.si</li><li>.site</li><li>.sj</li><li>.sk</li><li>.sl</li><li>.sm</li><li>.sn</li><li>.sn.cn</li><li>.so</li><li>.sohu</li><li>.sohu</li><li>.sr</li><li>.st</li><li>.su</li><li>.sv</li><li>.sx.cn</li><li>.sy</li><li>.sz</li><li>.tc</li><li>.td</li><li>.tel</li><li>.tel</li><li>.tf</li><li>.tg</li><li>.th</li><li>.tj</li><li>.tj.cn</li><li>.tk</li><li>.tl</li><li>.tm</li><li>.tm</li><li>.tn</li><li>.to</li><li>.to</li><li>.top</li><li>.top</li><li>.tp</li><li>.tr</li><li>.travel</li><li>.tt</li><li>.tv</li><li>.tv</li><li>.tw</li><li>.tw</li><li>.tw.cn</li><li>.tz</li><li>.ua</li><li>.ug</li><li>.uk</li><li>.us</li><li>.uy</li><li>.uz</li><li>.va</li><li>.vc</li><li>.ve</li><li>.vg</li><li>.vi</li><li>.vip</li><li>.vip</li><li>.vn</li><li>.vu</li><li>.wang</li><li>.wang</li><li>.wang</li><li>.wf</li><li>.ws</li><li>.xin</li><li>.xin</li><li>.xj.cn</li><li>.xn–1qqw23a</li><li>.xn–3bSt00M</li><li>.xn–3bSt00M</li><li>.xn–55Qw42G</li><li>.xn–55Qw42G</li><li>.xn–55Qx5D</li><li>.xn–55Qx5D</li><li>.xn–55qx5d.hk</li><li>.xn–55qx5d.xn–j6w193g</li><li>.xn–6qQ986B3xL</li><li>.xn–6qQ986B3xL</li><li>.xn–czRu2D</li><li>.xn–fiQs8S</li><li>.xn–fiQs8S</li><li>.xn–fiQz9S</li><li>.xn–fiQz9S</li><li>.xn–fiq64b</li><li>.xn–io0A7I</li><li>.xn–io0A7I</li><li>.xn–j6w193g</li><li>.xn–od0AlG</li><li>.xn–od0AlG</li><li>.xn–ses554g</li><li>.xn–vuq861b</li><li>.xn–xhq521b</li><li>.xn–zfR164B</li><li>.xn–zfR164B</li><li>.xn—czru2d</li><li>.xyz</li><li>.xyz</li><li>.xz.cn</li><li>.ye</li><li>.yn.cn</li><li>.yt</li><li>.za</li><li>.zj.cn</li><li>.zm</li><li>.zw</li><li>.中信</li><li>.中国</li><li>.中國</li><li>.中文网</li><li>.佛山</li><li>.信息</li><li>.公司</li><li>.公司.cn</li><li>.公司.hk</li><li>.公司.香港</li><li>.公益</li><li>.公益.cn</li><li>.公益.中国</li><li>.公益.中國</li><li>.其它</li><li>.其它.cn</li><li>.商城</li><li>.商标</li><li>.在线</li><li>.广东</li><li>.我爱你</li><li>.手机</li><li>.政务</li><li>.政务.cn</li><li>.政务.中国</li><li>.政务.中國</li><li>.政務</li><li>.政務.cn</li><li>.政務.中国</li><li>.政務.中國</li><li>.網絡</li><li>.網絡.cn</li><li>.网址</li><li>.网店</li><li>.网络</li><li>.网络.cn</li><li>.集团</li><li>.香港</li></ul><p>查询地址： <a href="http://www.miibeian.gov.cn/basecode/query/queryDomain.action" target="_blank" rel="noopener">http://www.miibeian.gov.cn/basecode/query/queryDomain.action</a></p><h2 id="可备案域名价格（从低到高）"><a href="#可备案域名价格（从低到高）" class="headerlink" title="可备案域名价格（从低到高）"></a>可备案域名价格（从低到高）</h2><ul><li>.网店,1</li><li>.商标,2</li><li>.pw,14</li><li>.site,16</li><li>.ink,24</li><li>.top,26</li><li>.gs,28</li><li>.vip,29</li><li>.cn,38</li><li>.cx,38</li><li>.cn,38</li><li>.ren,38</li><li>.in,45</li><li>.vc,48</li><li>.wang,49</li><li>.cc,58</li><li>.cc,58</li><li>.club,60</li><li>.com,60</li><li>.xyz,64</li><li>.biz,68</li><li>.name,68</li><li>.us,68</li><li>.info,68</li><li>.信息,69</li><li>.net,69</li><li>.net,69</li><li>.com,69</li><li>.org,75</li><li>.xin,86</li><li>.pro,88</li><li>.mobi,88</li><li>.me,88</li><li>.asia,88</li><li>.com.co,98</li><li>.biz,99</li><li>.com.tw,108</li><li>.tw,108</li><li>.hk,118</li><li>.gov.cn,120</li><li>.ee,128</li><li>.lc,138</li><li>.com.hk,158</li><li>.co,159</li><li>.ws,159</li><li>.shop,168</li><li>.la,178</li><li>.广东,180</li><li>.佛山,180</li><li>.tv,180</li><li>.bz,198</li><li>.tv,199</li><li>.gg,298</li><li>.公司,320</li><li>.网络,320</li><li>.中国,320</li><li>.cd,400</li><li>.sc,688</li><li>.tm,990</li><li>.tm,990</li></ul><p>数据来源： <a href="http://www.west.cn?ReferenceID=1178840" target="_blank" rel="noopener">西部数码</a></p><!-- http://www.west.cn/web/price/domainpricelist --><h2 id="授人以鱼不如授人以渔"><a href="#授人以鱼不如授人以渔" class="headerlink" title="授人以鱼不如授人以渔"></a>授人以鱼不如授人以渔</h2><p>抓取代码：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[].slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'tr'</span>)).slice(<span class="number">5</span>, <span class="built_in">document</span>.querySelectorAll(<span class="string">'tr'</span>).length - <span class="number">3</span>).map(<span class="function"><span class="params">tr</span> =&gt;</span> <span class="string">`'<span class="subst">$&#123;tr.querySelector(<span class="string">'.by2'</span>).innerText.trim()&#125;</span>',`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure><p>得到可备案域名列表数组如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ba = [</span><br><span class="line"><span class="string">'.ac'</span>,</span><br><span class="line"><span class="string">'.ac.cn'</span>,</span><br><span class="line"><span class="string">'.ad'</span>,</span><br><span class="line"><span class="string">'.ae'</span>,</span><br><span class="line"><span class="string">'.aero'</span>,</span><br><span class="line"><span class="string">'.af'</span>,</span><br><span class="line"><span class="string">'.ag'</span>,</span><br><span class="line"><span class="string">'.ah.cn'</span>,</span><br><span class="line"><span class="string">'.ai'</span>,</span><br><span class="line"><span class="string">'.al'</span>,</span><br><span class="line"><span class="string">'.am'</span>,</span><br><span class="line"><span class="string">'.an'</span>,</span><br><span class="line"><span class="string">'.ao'</span>,</span><br><span class="line"><span class="string">'.aq'</span>,</span><br><span class="line"><span class="string">'.ar'</span>,</span><br><span class="line"><span class="string">'.arpa'</span>,</span><br><span class="line"><span class="string">'.as'</span>,</span><br><span class="line"><span class="string">'.asia'</span>,</span><br><span class="line"><span class="string">'.asia'</span>,</span><br><span class="line"><span class="string">'.at'</span>,</span><br><span class="line"><span class="string">'.au'</span>,</span><br><span class="line"><span class="string">'.aw'</span>,</span><br><span class="line"><span class="string">'.ax'</span>,</span><br><span class="line"><span class="string">'.az'</span>,</span><br><span class="line"><span class="string">'.ba'</span>,</span><br><span class="line"><span class="string">'.bb'</span>,</span><br><span class="line"><span class="string">'.bd'</span>,</span><br><span class="line"><span class="string">'.be'</span>,</span><br><span class="line"><span class="string">'.bf'</span>,</span><br><span class="line"><span class="string">'.bg'</span>,</span><br><span class="line"><span class="string">'.bh'</span>,</span><br><span class="line"><span class="string">'.bi'</span>,</span><br><span class="line"><span class="string">'.biz'</span>,</span><br><span class="line"><span class="string">'.biz'</span>,</span><br><span class="line"><span class="string">'.bj'</span>,</span><br><span class="line"><span class="string">'.bj.cn'</span>,</span><br><span class="line"><span class="string">'.bm'</span>,</span><br><span class="line"><span class="string">'.bn'</span>,</span><br><span class="line"><span class="string">'.bo'</span>,</span><br><span class="line"><span class="string">'.br'</span>,</span><br><span class="line"><span class="string">'.br'</span>,</span><br><span class="line"><span class="string">'.bs'</span>,</span><br><span class="line"><span class="string">'.bt'</span>,</span><br><span class="line"><span class="string">'.bv'</span>,</span><br><span class="line"><span class="string">'.bw'</span>,</span><br><span class="line"><span class="string">'.by'</span>,</span><br><span class="line"><span class="string">'.bz'</span>,</span><br><span class="line"><span class="string">'.ca'</span>,</span><br><span class="line"><span class="string">'.cat'</span>,</span><br><span class="line"><span class="string">'.cc'</span>,</span><br><span class="line"><span class="string">'.cc'</span>,</span><br><span class="line"><span class="string">'.cd'</span>,</span><br><span class="line"><span class="string">'.cf'</span>,</span><br><span class="line"><span class="string">'.cg'</span>,</span><br><span class="line"><span class="string">'.ch'</span>,</span><br><span class="line"><span class="string">'.ci'</span>,</span><br><span class="line"><span class="string">'.citic'</span>,</span><br><span class="line"><span class="string">'.ck'</span>,</span><br><span class="line"><span class="string">'.cl'</span>,</span><br><span class="line"><span class="string">'.club'</span>,</span><br><span class="line"><span class="string">'.club'</span>,</span><br><span class="line"><span class="string">'.cm'</span>,</span><br><span class="line"><span class="string">'.cn'</span>,</span><br><span class="line"><span class="string">'.cn'</span>,</span><br><span class="line"><span class="string">'.cn.net'</span>,</span><br><span class="line"><span class="string">'.co'</span>,</span><br><span class="line"><span class="string">'.co.ao'</span>,</span><br><span class="line"><span class="string">'.co.id'</span>,</span><br><span class="line"><span class="string">'.co.il'</span>,</span><br><span class="line"><span class="string">'.co.jp'</span>,</span><br><span class="line"><span class="string">'.co.kr'</span>,</span><br><span class="line"><span class="string">'.co.nz'</span>,</span><br><span class="line"><span class="string">'.co.th'</span>,</span><br><span class="line"><span class="string">'.co.uk'</span>,</span><br><span class="line"><span class="string">'.co.uk'</span>,</span><br><span class="line"><span class="string">'.co.za'</span>,</span><br><span class="line"><span class="string">'.com'</span>,</span><br><span class="line"><span class="string">'.com'</span>,</span><br><span class="line"><span class="string">'.com.au'</span>,</span><br><span class="line"><span class="string">'.com.bo'</span>,</span><br><span class="line"><span class="string">'.com.br'</span>,</span><br><span class="line"><span class="string">'.com.cn'</span>,</span><br><span class="line"><span class="string">'.com.co'</span>,</span><br><span class="line"><span class="string">'.com.de'</span>,</span><br><span class="line"><span class="string">'.com.do'</span>,</span><br><span class="line"><span class="string">'.com.ec'</span>,</span><br><span class="line"><span class="string">'.com.eg'</span>,</span><br><span class="line"><span class="string">'.com.hk'</span>,</span><br><span class="line"><span class="string">'.com.mo'</span>,</span><br><span class="line"><span class="string">'.com.my'</span>,</span><br><span class="line"><span class="string">'.com.nz'</span>,</span><br><span class="line"><span class="string">'.com.nz'</span>,</span><br><span class="line"><span class="string">'.com.ph'</span>,</span><br><span class="line"><span class="string">'.com.py'</span>,</span><br><span class="line"><span class="string">'.com.ru'</span>,</span><br><span class="line"><span class="string">'.com.sa'</span>,</span><br><span class="line"><span class="string">'.com.sc'</span>,</span><br><span class="line"><span class="string">'.com.sg'</span>,</span><br><span class="line"><span class="string">'.com.tw'</span>,</span><br><span class="line"><span class="string">'.com.vn'</span>,</span><br><span class="line"><span class="string">'.coop'</span>,</span><br><span class="line"><span class="string">'.cq.cn'</span>,</span><br><span class="line"><span class="string">'.cr'</span>,</span><br><span class="line"><span class="string">'.cu'</span>,</span><br><span class="line"><span class="string">'.cv'</span>,</span><br><span class="line"><span class="string">'.cx'</span>,</span><br><span class="line"><span class="string">'.cy'</span>,</span><br><span class="line"><span class="string">'.cz'</span>,</span><br><span class="line"><span class="string">'.de'</span>,</span><br><span class="line"><span class="string">'.dj'</span>,</span><br><span class="line"><span class="string">'.dk'</span>,</span><br><span class="line"><span class="string">'.dm'</span>,</span><br><span class="line"><span class="string">'.do'</span>,</span><br><span class="line"><span class="string">'.dz'</span>,</span><br><span class="line"><span class="string">'.ec'</span>,</span><br><span class="line"><span class="string">'.edu'</span>,</span><br><span class="line"><span class="string">'.edu.cn'</span>,</span><br><span class="line"><span class="string">'.edu.hk'</span>,</span><br><span class="line"><span class="string">'.edu.mo'</span>,</span><br><span class="line"><span class="string">'.ee'</span>,</span><br><span class="line"><span class="string">'.eg'</span>,</span><br><span class="line"><span class="string">'.er'</span>,</span><br><span class="line"><span class="string">'.es'</span>,</span><br><span class="line"><span class="string">'.et'</span>,</span><br><span class="line"><span class="string">'.eu'</span>,</span><br><span class="line"><span class="string">'.fi'</span>,</span><br><span class="line"><span class="string">'.fj'</span>,</span><br><span class="line"><span class="string">'.fj.cn'</span>,</span><br><span class="line"><span class="string">'.fk'</span>,</span><br><span class="line"><span class="string">'.fm'</span>,</span><br><span class="line"><span class="string">'.fo'</span>,</span><br><span class="line"><span class="string">'.fr'</span>,</span><br><span class="line"><span class="string">'.ga'</span>,</span><br><span class="line"><span class="string">'.gb'</span>,</span><br><span class="line"><span class="string">'.gd'</span>,</span><br><span class="line"><span class="string">'.gd.cn'</span>,</span><br><span class="line"><span class="string">'.ge'</span>,</span><br><span class="line"><span class="string">'.gf'</span>,</span><br><span class="line"><span class="string">'.gg'</span>,</span><br><span class="line"><span class="string">'.gh'</span>,</span><br><span class="line"><span class="string">'.gi'</span>,</span><br><span class="line"><span class="string">'.gl'</span>,</span><br><span class="line"><span class="string">'.gm'</span>,</span><br><span class="line"><span class="string">'.gn'</span>,</span><br><span class="line"><span class="string">'.gov'</span>,</span><br><span class="line"><span class="string">'.gov.cn'</span>,</span><br><span class="line"><span class="string">'.gp'</span>,</span><br><span class="line"><span class="string">'.gq'</span>,</span><br><span class="line"><span class="string">'.gr'</span>,</span><br><span class="line"><span class="string">'.gs'</span>,</span><br><span class="line"><span class="string">'.gs.cn'</span>,</span><br><span class="line"><span class="string">'.gt'</span>,</span><br><span class="line"><span class="string">'.gu'</span>,</span><br><span class="line"><span class="string">'.gw'</span>,</span><br><span class="line"><span class="string">'.gx.cn'</span>,</span><br><span class="line"><span class="string">'.gy'</span>,</span><br><span class="line"><span class="string">'.gz.cn'</span>,</span><br><span class="line"><span class="string">'.ha.cn'</span>,</span><br><span class="line"><span class="string">'.hb.cn'</span>,</span><br><span class="line"><span class="string">'.he.cn'</span>,</span><br><span class="line"><span class="string">'.hi.cn'</span>,</span><br><span class="line"><span class="string">'.hk'</span>,</span><br><span class="line"><span class="string">'.hk'</span>,</span><br><span class="line"><span class="string">'.hk.cn'</span>,</span><br><span class="line"><span class="string">'.hl.cn'</span>,</span><br><span class="line"><span class="string">'.hm'</span>,</span><br><span class="line"><span class="string">'.hn'</span>,</span><br><span class="line"><span class="string">'.hn.cn'</span>,</span><br><span class="line"><span class="string">'.hr'</span>,</span><br><span class="line"><span class="string">'.ht'</span>,</span><br><span class="line"><span class="string">'.hu'</span>,</span><br><span class="line"><span class="string">'.id'</span>,</span><br><span class="line"><span class="string">'.ie'</span>,</span><br><span class="line"><span class="string">'.il'</span>,</span><br><span class="line"><span class="string">'.im'</span>,</span><br><span class="line"><span class="string">'.in'</span>,</span><br><span class="line"><span class="string">'.info'</span>,</span><br><span class="line"><span class="string">'.ink'</span>,</span><br><span class="line"><span class="string">'.int'</span>,</span><br><span class="line"><span class="string">'.io'</span>,</span><br><span class="line"><span class="string">'.iq'</span>,</span><br><span class="line"><span class="string">'.ir'</span>,</span><br><span class="line"><span class="string">'.is'</span>,</span><br><span class="line"><span class="string">'.it'</span>,</span><br><span class="line"><span class="string">'.je'</span>,</span><br><span class="line"><span class="string">'.jl.cn'</span>,</span><br><span class="line"><span class="string">'.jm'</span>,</span><br><span class="line"><span class="string">'.jo'</span>,</span><br><span class="line"><span class="string">'.jobs'</span>,</span><br><span class="line"><span class="string">'.jp'</span>,</span><br><span class="line"><span class="string">'.js.cn'</span>,</span><br><span class="line"><span class="string">'.jx.cn'</span>,</span><br><span class="line"><span class="string">'.ke'</span>,</span><br><span class="line"><span class="string">'.kg'</span>,</span><br><span class="line"><span class="string">'.kh'</span>,</span><br><span class="line"><span class="string">'.khb.ru'</span>,</span><br><span class="line"><span class="string">'.ki'</span>,</span><br><span class="line"><span class="string">'.km'</span>,</span><br><span class="line"><span class="string">'.kn'</span>,</span><br><span class="line"><span class="string">'.kp'</span>,</span><br><span class="line"><span class="string">'.kr'</span>,</span><br><span class="line"><span class="string">'.kr.com'</span>,</span><br><span class="line"><span class="string">'.kw'</span>,</span><br><span class="line"><span class="string">'.ky'</span>,</span><br><span class="line"><span class="string">'.kz'</span>,</span><br><span class="line"><span class="string">'.la'</span>,</span><br><span class="line"><span class="string">'.lb'</span>,</span><br><span class="line"><span class="string">'.lc'</span>,</span><br><span class="line"><span class="string">'.li'</span>,</span><br><span class="line"><span class="string">'.lk'</span>,</span><br><span class="line"><span class="string">'.ln.cn'</span>,</span><br><span class="line"><span class="string">'.lr'</span>,</span><br><span class="line"><span class="string">'.ls'</span>,</span><br><span class="line"><span class="string">'.lt'</span>,</span><br><span class="line"><span class="string">'.lu'</span>,</span><br><span class="line"><span class="string">'.lv'</span>,</span><br><span class="line"><span class="string">'.ly'</span>,</span><br><span class="line"><span class="string">'.ma'</span>,</span><br><span class="line"><span class="string">'.mc'</span>,</span><br><span class="line"><span class="string">'.md'</span>,</span><br><span class="line"><span class="string">'.me'</span>,</span><br><span class="line"><span class="string">'.mg'</span>,</span><br><span class="line"><span class="string">'.mh'</span>,</span><br><span class="line"><span class="string">'.mil'</span>,</span><br><span class="line"><span class="string">'.mil.cn'</span>,</span><br><span class="line"><span class="string">'.mk'</span>,</span><br><span class="line"><span class="string">'.ml'</span>,</span><br><span class="line"><span class="string">'.mm'</span>,</span><br><span class="line"><span class="string">'.mn'</span>,</span><br><span class="line"><span class="string">'.mo'</span>,</span><br><span class="line"><span class="string">'.mo.cn'</span>,</span><br><span class="line"><span class="string">'.mobi'</span>,</span><br><span class="line"><span class="string">'.mp'</span>,</span><br><span class="line"><span class="string">'.mq'</span>,</span><br><span class="line"><span class="string">'.mr'</span>,</span><br><span class="line"><span class="string">'.ms'</span>,</span><br><span class="line"><span class="string">'.mt'</span>,</span><br><span class="line"><span class="string">'.mu'</span>,</span><br><span class="line"><span class="string">'.museum'</span>,</span><br><span class="line"><span class="string">'.mv'</span>,</span><br><span class="line"><span class="string">'.mw'</span>,</span><br><span class="line"><span class="string">'.mx'</span>,</span><br><span class="line"><span class="string">'.my'</span>,</span><br><span class="line"><span class="string">'.mz'</span>,</span><br><span class="line"><span class="string">'.na'</span>,</span><br><span class="line"><span class="string">'.name'</span>,</span><br><span class="line"><span class="string">'.name'</span>,</span><br><span class="line"><span class="string">'.nc'</span>,</span><br><span class="line"><span class="string">'.ne'</span>,</span><br><span class="line"><span class="string">'.net'</span>,</span><br><span class="line"><span class="string">'.net'</span>,</span><br><span class="line"><span class="string">'.net.au'</span>,</span><br><span class="line"><span class="string">'.net.cn'</span>,</span><br><span class="line"><span class="string">'.net.ru'</span>,</span><br><span class="line"><span class="string">'.net.tw'</span>,</span><br><span class="line"><span class="string">'.nf'</span>,</span><br><span class="line"><span class="string">'.ng'</span>,</span><br><span class="line"><span class="string">'.ni'</span>,</span><br><span class="line"><span class="string">'.nl'</span>,</span><br><span class="line"><span class="string">'.nm.cn'</span>,</span><br><span class="line"><span class="string">'.no'</span>,</span><br><span class="line"><span class="string">'.np'</span>,</span><br><span class="line"><span class="string">'.nr'</span>,</span><br><span class="line"><span class="string">'.nu'</span>,</span><br><span class="line"><span class="string">'.nx.cn'</span>,</span><br><span class="line"><span class="string">'.nz'</span>,</span><br><span class="line"><span class="string">'.om'</span>,</span><br><span class="line"><span class="string">'.or.id'</span>,</span><br><span class="line"><span class="string">'.org'</span>,</span><br><span class="line"><span class="string">'.org'</span>,</span><br><span class="line"><span class="string">'.org.au'</span>,</span><br><span class="line"><span class="string">'.org.cn'</span>,</span><br><span class="line"><span class="string">'.org.pg'</span>,</span><br><span class="line"><span class="string">'.org.ru'</span>,</span><br><span class="line"><span class="string">'.org.uk'</span>,</span><br><span class="line"><span class="string">'.pa'</span>,</span><br><span class="line"><span class="string">'.pe'</span>,</span><br><span class="line"><span class="string">'.pf'</span>,</span><br><span class="line"><span class="string">'.pg'</span>,</span><br><span class="line"><span class="string">'.ph'</span>,</span><br><span class="line"><span class="string">'.pk'</span>,</span><br><span class="line"><span class="string">'.pl'</span>,</span><br><span class="line"><span class="string">'.pm'</span>,</span><br><span class="line"><span class="string">'.pn'</span>,</span><br><span class="line"><span class="string">'.pr'</span>,</span><br><span class="line"><span class="string">'.pro'</span>,</span><br><span class="line"><span class="string">'.ps'</span>,</span><br><span class="line"><span class="string">'.pt'</span>,</span><br><span class="line"><span class="string">'.pw'</span>,</span><br><span class="line"><span class="string">'.pw'</span>,</span><br><span class="line"><span class="string">'.py'</span>,</span><br><span class="line"><span class="string">'.qa'</span>,</span><br><span class="line"><span class="string">'.qh.cn'</span>,</span><br><span class="line"><span class="string">'.re'</span>,</span><br><span class="line"><span class="string">'.ren'</span>,</span><br><span class="line"><span class="string">'.ren'</span>,</span><br><span class="line"><span class="string">'.ro'</span>,</span><br><span class="line"><span class="string">'.rs'</span>,</span><br><span class="line"><span class="string">'.ru'</span>,</span><br><span class="line"><span class="string">'.rw'</span>,</span><br><span class="line"><span class="string">'.sa'</span>,</span><br><span class="line"><span class="string">'.sb'</span>,</span><br><span class="line"><span class="string">'.sc'</span>,</span><br><span class="line"><span class="string">'.sc.cn'</span>,</span><br><span class="line"><span class="string">'.sd'</span>,</span><br><span class="line"><span class="string">'.sd.cn'</span>,</span><br><span class="line"><span class="string">'.se'</span>,</span><br><span class="line"><span class="string">'.sg'</span>,</span><br><span class="line"><span class="string">'.sh'</span>,</span><br><span class="line"><span class="string">'.sh.cn'</span>,</span><br><span class="line"><span class="string">'.shop'</span>,</span><br><span class="line"><span class="string">'.si'</span>,</span><br><span class="line"><span class="string">'.site'</span>,</span><br><span class="line"><span class="string">'.sj'</span>,</span><br><span class="line"><span class="string">'.sk'</span>,</span><br><span class="line"><span class="string">'.sl'</span>,</span><br><span class="line"><span class="string">'.sm'</span>,</span><br><span class="line"><span class="string">'.sn'</span>,</span><br><span class="line"><span class="string">'.sn.cn'</span>,</span><br><span class="line"><span class="string">'.so'</span>,</span><br><span class="line"><span class="string">'.sohu'</span>,</span><br><span class="line"><span class="string">'.sohu'</span>,</span><br><span class="line"><span class="string">'.sr'</span>,</span><br><span class="line"><span class="string">'.st'</span>,</span><br><span class="line"><span class="string">'.su'</span>,</span><br><span class="line"><span class="string">'.sv'</span>,</span><br><span class="line"><span class="string">'.sx.cn'</span>,</span><br><span class="line"><span class="string">'.sy'</span>,</span><br><span class="line"><span class="string">'.sz'</span>,</span><br><span class="line"><span class="string">'.tc'</span>,</span><br><span class="line"><span class="string">'.td'</span>,</span><br><span class="line"><span class="string">'.tel'</span>,</span><br><span class="line"><span class="string">'.tel'</span>,</span><br><span class="line"><span class="string">'.tf'</span>,</span><br><span class="line"><span class="string">'.tg'</span>,</span><br><span class="line"><span class="string">'.th'</span>,</span><br><span class="line"><span class="string">'.tj'</span>,</span><br><span class="line"><span class="string">'.tj.cn'</span>,</span><br><span class="line"><span class="string">'.tk'</span>,</span><br><span class="line"><span class="string">'.tl'</span>,</span><br><span class="line"><span class="string">'.tm'</span>,</span><br><span class="line"><span class="string">'.tm'</span>,</span><br><span class="line"><span class="string">'.tn'</span>,</span><br><span class="line"><span class="string">'.to'</span>,</span><br><span class="line"><span class="string">'.to'</span>,</span><br><span class="line"><span class="string">'.top'</span>,</span><br><span class="line"><span class="string">'.top'</span>,</span><br><span class="line"><span class="string">'.tp'</span>,</span><br><span class="line"><span class="string">'.tr'</span>,</span><br><span class="line"><span class="string">'.travel'</span>,</span><br><span class="line"><span class="string">'.tt'</span>,</span><br><span class="line"><span class="string">'.tv'</span>,</span><br><span class="line"><span class="string">'.tv'</span>,</span><br><span class="line"><span class="string">'.tw'</span>,</span><br><span class="line"><span class="string">'.tw'</span>,</span><br><span class="line"><span class="string">'.tw.cn'</span>,</span><br><span class="line"><span class="string">'.tz'</span>,</span><br><span class="line"><span class="string">'.ua'</span>,</span><br><span class="line"><span class="string">'.ug'</span>,</span><br><span class="line"><span class="string">'.uk'</span>,</span><br><span class="line"><span class="string">'.us'</span>,</span><br><span class="line"><span class="string">'.uy'</span>,</span><br><span class="line"><span class="string">'.uz'</span>,</span><br><span class="line"><span class="string">'.va'</span>,</span><br><span class="line"><span class="string">'.vc'</span>,</span><br><span class="line"><span class="string">'.ve'</span>,</span><br><span class="line"><span class="string">'.vg'</span>,</span><br><span class="line"><span class="string">'.vi'</span>,</span><br><span class="line"><span class="string">'.vip'</span>,</span><br><span class="line"><span class="string">'.vip'</span>,</span><br><span class="line"><span class="string">'.vn'</span>,</span><br><span class="line"><span class="string">'.vu'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wf'</span>,</span><br><span class="line"><span class="string">'.ws'</span>,</span><br><span class="line"><span class="string">'.xin'</span>,</span><br><span class="line"><span class="string">'.xin'</span>,</span><br><span class="line"><span class="string">'.xj.cn'</span>,</span><br><span class="line"><span class="string">'.xn--1qqw23a'</span>,</span><br><span class="line"><span class="string">'.xn--3bSt00M'</span>,</span><br><span class="line"><span class="string">'.xn--3bSt00M'</span>,</span><br><span class="line"><span class="string">'.xn--55Qw42G'</span>,</span><br><span class="line"><span class="string">'.xn--55Qw42G'</span>,</span><br><span class="line"><span class="string">'.xn--55Qx5D'</span>,</span><br><span class="line"><span class="string">'.xn--55Qx5D'</span>,</span><br><span class="line"><span class="string">'.xn--55qx5d.hk'</span>,</span><br><span class="line"><span class="string">'.xn--55qx5d.xn--j6w193g'</span>,</span><br><span class="line"><span class="string">'.xn--6qQ986B3xL'</span>,</span><br><span class="line"><span class="string">'.xn--6qQ986B3xL'</span>,</span><br><span class="line"><span class="string">'.xn--czRu2D'</span>,</span><br><span class="line"><span class="string">'.xn--fiQs8S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQs8S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQz9S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQz9S'</span>,</span><br><span class="line"><span class="string">'.xn--fiq64b'</span>,</span><br><span class="line"><span class="string">'.xn--io0A7I'</span>,</span><br><span class="line"><span class="string">'.xn--io0A7I'</span>,</span><br><span class="line"><span class="string">'.xn--j6w193g'</span>,</span><br><span class="line"><span class="string">'.xn--od0AlG'</span>,</span><br><span class="line"><span class="string">'.xn--od0AlG'</span>,</span><br><span class="line"><span class="string">'.xn--ses554g'</span>,</span><br><span class="line"><span class="string">'.xn--vuq861b'</span>,</span><br><span class="line"><span class="string">'.xn--xhq521b'</span>,</span><br><span class="line"><span class="string">'.xn--zfR164B'</span>,</span><br><span class="line"><span class="string">'.xn--zfR164B'</span>,</span><br><span class="line"><span class="string">'.xn—czru2d'</span>,</span><br><span class="line"><span class="string">'.xyz'</span>,</span><br><span class="line"><span class="string">'.xyz'</span>,</span><br><span class="line"><span class="string">'.xz.cn'</span>,</span><br><span class="line"><span class="string">'.ye'</span>,</span><br><span class="line"><span class="string">'.yn.cn'</span>,</span><br><span class="line"><span class="string">'.yt'</span>,</span><br><span class="line"><span class="string">'.za'</span>,</span><br><span class="line"><span class="string">'.zj.cn'</span>,</span><br><span class="line"><span class="string">'.zm'</span>,</span><br><span class="line"><span class="string">'.zw'</span>,</span><br><span class="line"><span class="string">'.中信'</span>,</span><br><span class="line"><span class="string">'.中国'</span>,</span><br><span class="line"><span class="string">'.中國'</span>,</span><br><span class="line"><span class="string">'.中文网'</span>,</span><br><span class="line"><span class="string">'.佛山'</span>,</span><br><span class="line"><span class="string">'.信息'</span>,</span><br><span class="line"><span class="string">'.公司'</span>,</span><br><span class="line"><span class="string">'.公司.cn'</span>,</span><br><span class="line"><span class="string">'.公司.hk'</span>,</span><br><span class="line"><span class="string">'.公司.香港'</span>,</span><br><span class="line"><span class="string">'.公益'</span>,</span><br><span class="line"><span class="string">'.公益.cn'</span>,</span><br><span class="line"><span class="string">'.公益.中国'</span>,</span><br><span class="line"><span class="string">'.公益.中國'</span>,</span><br><span class="line"><span class="string">'.其它'</span>,</span><br><span class="line"><span class="string">'.其它.cn'</span>,</span><br><span class="line"><span class="string">'.商城'</span>,</span><br><span class="line"><span class="string">'.商标'</span>,</span><br><span class="line"><span class="string">'.在线'</span>,</span><br><span class="line"><span class="string">'.广东'</span>,</span><br><span class="line"><span class="string">'.我爱你'</span>,</span><br><span class="line"><span class="string">'.手机'</span>,</span><br><span class="line"><span class="string">'.政务'</span>,</span><br><span class="line"><span class="string">'.政务.cn'</span>,</span><br><span class="line"><span class="string">'.政务.中国'</span>,</span><br><span class="line"><span class="string">'.政务.中國'</span>,</span><br><span class="line"><span class="string">'.政務'</span>,</span><br><span class="line"><span class="string">'.政務.cn'</span>,</span><br><span class="line"><span class="string">'.政務.中国'</span>,</span><br><span class="line"><span class="string">'.政務.中國'</span>,</span><br><span class="line"><span class="string">'.網絡'</span>,</span><br><span class="line"><span class="string">'.網絡.cn'</span>,</span><br><span class="line"><span class="string">'.网址'</span>,</span><br><span class="line"><span class="string">'.网店'</span>,</span><br><span class="line"><span class="string">'.网络'</span>,</span><br><span class="line"><span class="string">'.网络.cn'</span>,</span><br><span class="line"><span class="string">'.集团'</span>,</span><br><span class="line"><span class="string">'.香港'</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure><p>排序：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ba.sort().map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="string">`* <span class="subst">$&#123;x&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure><h2 id="域名注册价格排序"><a href="#域名注册价格排序" class="headerlink" title="域名注册价格排序"></a>域名注册价格排序</h2><p>获取域名列表和续费价格：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> list = [].slice.call(<span class="built_in">document</span>.getElementById(<span class="string">'domainPriceListTbody'</span>).getElementsByTagName(<span class="string">'tr'</span>)).reduce(<span class="function">(<span class="params">result, item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> items = item.getElementsByTagName(<span class="string">'td'</span>);</span><br><span class="line">  <span class="keyword">if</span> (items.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    result.push([items[<span class="number">0</span>].innerText, <span class="built_in">parseFloat</span>(items[<span class="number">2</span>].innerText)]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;, []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印查看：</span></span><br><span class="line">list.map(<span class="function"><span class="params">x</span>=&gt;</span><span class="string">`<span class="subst">$&#123;x[<span class="number">0</span>]&#125;</span>,<span class="subst">$&#123;x[<span class="number">1</span>]&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">.com,60</span></span><br><span class="line"><span class="comment">.net,69</span></span><br><span class="line"><span class="comment">.org,75</span></span><br><span class="line"><span class="comment">.cn,38</span></span><br><span class="line"><span class="comment">.info,68</span></span><br><span class="line"><span class="comment">.cc,58</span></span><br><span class="line"><span class="comment">.tv,180</span></span><br><span class="line"><span class="comment">.biz,68</span></span><br><span class="line"><span class="comment">.gov.cn,120</span></span><br><span class="line"><span class="comment">.mobi,88</span></span><br><span class="line"><span class="comment">.name,68</span></span><br><span class="line"><span class="comment">.tw,108</span></span><br><span class="line"><span class="comment">.hk,118</span></span><br><span class="line"><span class="comment">.cd,400</span></span><br><span class="line"><span class="comment">.us,68</span></span><br><span class="line"><span class="comment">.asia,88</span></span><br><span class="line"><span class="comment">.me,88</span></span><br><span class="line"><span class="comment">.in,45</span></span><br><span class="line"><span class="comment">.co,159</span></span><br><span class="line"><span class="comment">.ws,159</span></span><br><span class="line"><span class="comment">.pro,88</span></span><br><span class="line"><span class="comment">.pw,14</span></span><br><span class="line"><span class="comment">.tm,990</span></span><br><span class="line"><span class="comment">.wang,49</span></span><br><span class="line"><span class="comment">.club,60</span></span><br><span class="line"><span class="comment">.la,178</span></span><br><span class="line"><span class="comment">.xyz,64</span></span><br><span class="line"><span class="comment">.top,26</span></span><br><span class="line"><span class="comment">.website,14</span></span><br><span class="line"><span class="comment">.ren,38</span></span><br><span class="line"><span class="comment">.space,14</span></span><br><span class="line"><span class="comment">.press,16</span></span><br><span class="line"><span class="comment">.host,16</span></span><br><span class="line"><span class="comment">.wiki,38</span></span><br><span class="line"><span class="comment">.ink,24</span></span><br><span class="line"><span class="comment">.design,88</span></span><br><span class="line"><span class="comment">.site,16</span></span><br><span class="line"><span class="comment">.ooo,145</span></span><br><span class="line"><span class="comment">.love,78</span></span><br><span class="line"><span class="comment">.tech,16</span></span><br><span class="line"><span class="comment">.email,168</span></span><br><span class="line"><span class="comment">.today,168</span></span><br><span class="line"><span class="comment">.company,168</span></span><br><span class="line"><span class="comment">.tips,168</span></span><br><span class="line"><span class="comment">.life,198</span></span><br><span class="line"><span class="comment">.media,198</span></span><br><span class="line"><span class="comment">.world,198</span></span><br><span class="line"><span class="comment">.photos,168</span></span><br><span class="line"><span class="comment">.city,168</span></span><br><span class="line"><span class="comment">.zone,198</span></span><br><span class="line"><span class="comment">.land,198</span></span><br><span class="line"><span class="comment">.house,155</span></span><br><span class="line"><span class="comment">.bike,198</span></span><br><span class="line"><span class="comment">.marketing,198</span></span><br><span class="line"><span class="comment">.cool,198</span></span><br><span class="line"><span class="comment">.works,198</span></span><br><span class="line"><span class="comment">.tools,198</span></span><br><span class="line"><span class="comment">.domains,198</span></span><br><span class="line"><span class="comment">.cards,198</span></span><br><span class="line"><span class="comment">.tax,278</span></span><br><span class="line"><span class="comment">.plus,155</span></span><br><span class="line"><span class="comment">.show,198</span></span><br><span class="line"><span class="comment">.gold,498</span></span><br><span class="line"><span class="comment">.estate,198</span></span><br><span class="line"><span class="comment">.camera,278</span></span><br><span class="line"><span class="comment">.construction,198</span></span><br><span class="line"><span class="comment">.guru,278</span></span><br><span class="line"><span class="comment">.ventures,278</span></span><br><span class="line"><span class="comment">.equipment,168</span></span><br><span class="line"><span class="comment">.bid,6</span></span><br><span class="line"><span class="comment">.trade,7</span></span><br><span class="line"><span class="comment">.webcam,11</span></span><br><span class="line"><span class="comment">.cricket,11</span></span><br><span class="line"><span class="comment">.science,9</span></span><br><span class="line"><span class="comment">.review,11</span></span><br><span class="line"><span class="comment">.date,7</span></span><br><span class="line"><span class="comment">.faith,11</span></span><br><span class="line"><span class="comment">.accountant,11</span></span><br><span class="line"><span class="comment">.download,11</span></span><br><span class="line"><span class="comment">.loan,6</span></span><br><span class="line"><span class="comment">.racing,11</span></span><br><span class="line"><span class="comment">.win,6</span></span><br><span class="line"><span class="comment">.link,49</span></span><br><span class="line"><span class="comment">.click,38</span></span><br><span class="line"><span class="comment">.property,188</span></span><br><span class="line"><span class="comment">.help,26</span></span><br><span class="line"><span class="comment">.pics,118</span></span><br><span class="line"><span class="comment">.flowers,148</span></span><br><span class="line"><span class="comment">.sexy,129</span></span><br><span class="line"><span class="comment">.lol,18</span></span><br><span class="line"><span class="comment">.audio,79</span></span><br><span class="line"><span class="comment">.photo,159</span></span><br><span class="line"><span class="comment">.diet,128</span></span><br><span class="line"><span class="comment">.hosting,158</span></span><br><span class="line"><span class="comment">.gift,26</span></span><br><span class="line"><span class="comment">.cars,14</span></span><br><span class="line"><span class="comment">.party,7</span></span><br><span class="line"><span class="comment">.money,198</span></span><br><span class="line"><span class="comment">.online,16</span></span><br><span class="line"><span class="comment">.center,168</span></span><br><span class="line"><span class="comment">.expert,278</span></span><br><span class="line"><span class="comment">.solutions,168</span></span><br><span class="line"><span class="comment">.photography,168</span></span><br><span class="line"><span class="comment">.services,198</span></span><br><span class="line"><span class="comment">.support,168</span></span><br><span class="line"><span class="comment">.holiday,278</span></span><br><span class="line"><span class="comment">.watch,198</span></span><br><span class="line"><span class="comment">.cash,198</span></span><br><span class="line"><span class="comment">.chat,198</span></span><br><span class="line"><span class="comment">.school,198</span></span><br><span class="line"><span class="comment">.toys,278</span></span><br><span class="line"><span class="comment">.team,168</span></span><br><span class="line"><span class="comment">.cab,198</span></span><br><span class="line"><span class="comment">.cafe,198</span></span><br><span class="line"><span class="comment">.fish,198</span></span><br><span class="line"><span class="comment">.town,198</span></span><br><span class="line"><span class="comment">.style,198</span></span><br><span class="line"><span class="comment">.dog,278</span></span><br><span class="line"><span class="comment">.run,17</span></span><br><span class="line"><span class="comment">.pub,148</span></span><br><span class="line"><span class="comment">.live,58</span></span><br><span class="line"><span class="comment">.news,58</span></span><br><span class="line"><span class="comment">.video,58</span></span><br><span class="line"><span class="comment">.rip,88</span></span><br><span class="line"><span class="comment">.band,58</span></span><br><span class="line"><span class="comment">.engineer,158</span></span><br><span class="line"><span class="comment">.gives,158</span></span><br><span class="line"><span class="comment">.haus,158</span></span><br><span class="line"><span class="comment">.market,158</span></span><br><span class="line"><span class="comment">.software,158</span></span><br><span class="line"><span class="comment">.vet,158</span></span><br><span class="line"><span class="comment">.sale,58</span></span><br><span class="line"><span class="comment">.best,680</span></span><br><span class="line"><span class="comment">.ceo,680</span></span><br><span class="line"><span class="comment">.wtf,198</span></span><br><span class="line"><span class="comment">.fyi,99</span></span><br><span class="line"><span class="comment">.lawyer,198</span></span><br><span class="line"><span class="comment">.taipei,149</span></span><br><span class="line"><span class="comment">.cx,38</span></span><br><span class="line"><span class="comment">.rent,338</span></span><br><span class="line"><span class="comment">.men,7</span></span><br><span class="line"><span class="comment">.sex,580</span></span><br><span class="line"><span class="comment">.bar,468</span></span><br><span class="line"><span class="comment">.studio,108</span></span><br><span class="line"><span class="comment">.fans,478</span></span><br><span class="line"><span class="comment">.college,468</span></span><br><span class="line"><span class="comment">.auction,158</span></span><br><span class="line"><span class="comment">.black,258</span></span><br><span class="line"><span class="comment">.blue,98</span></span><br><span class="line"><span class="comment">.pink,98</span></span><br><span class="line"><span class="comment">.red,75</span></span><br><span class="line"><span class="comment">.kim,88</span></span><br><span class="line"><span class="comment">.cn.com,56</span></span><br><span class="line"><span class="comment">.com.tw,108</span></span><br><span class="line"><span class="comment">.gg,298</span></span><br><span class="line"><span class="comment">.car,15</span></span><br><span class="line"><span class="comment">.auto,15</span></span><br><span class="line"><span class="comment">.family,188</span></span><br><span class="line"><span class="comment">.feedback,268</span></span><br><span class="line"><span class="comment">.wine,368</span></span><br><span class="line"><span class="comment">.vin,299</span></span><br><span class="line"><span class="comment">.bet,999</span></span><br><span class="line"><span class="comment">.pet,128</span></span><br><span class="line"><span class="comment">.vc,48</span></span><br><span class="line"><span class="comment">.gs,28</span></span><br><span class="line"><span class="comment">.ee,128</span></span><br><span class="line"><span class="comment">.com.co,98</span></span><br><span class="line"><span class="comment">.fund,288</span></span><br><span class="line"><span class="comment">.business,168</span></span><br><span class="line"><span class="comment">.coffee,158</span></span><br><span class="line"><span class="comment">.credit,498</span></span><br><span class="line"><span class="comment">.network,168</span></span><br><span class="line"><span class="comment">.sc,688</span></span><br><span class="line"><span class="comment">.bz,198</span></span><br><span class="line"><span class="comment">.lc,138</span></span><br><span class="line"><span class="comment">.mom,188</span></span><br><span class="line"><span class="comment">.mba,158</span></span><br><span class="line"><span class="comment">.net.co,88</span></span><br><span class="line"><span class="comment">.game,2</span></span><br><span class="line"><span class="comment">.vip,29</span></span><br><span class="line"><span class="comment">.store,37</span></span><br><span class="line"><span class="comment">.xin,86</span></span><br><span class="line"><span class="comment">.ltd,98</span></span><br><span class="line"><span class="comment">.shop,168</span></span><br><span class="line"><span class="comment">.work,48</span></span><br><span class="line"><span class="comment">.fit,89</span></span><br><span class="line"><span class="comment">.yoga,89</span></span><br><span class="line"><span class="comment">.games,98</span></span><br><span class="line"><span class="comment">.com.hk,158</span></span><br><span class="line"><span class="comment">.clothing,158</span></span><br><span class="line"><span class="comment">.group,98</span></span><br><span class="line"><span class="comment">.com,69</span></span><br><span class="line"><span class="comment">.net,69</span></span><br><span class="line"><span class="comment">.中国,320</span></span><br><span class="line"><span class="comment">.cc,58</span></span><br><span class="line"><span class="comment">.tv,199</span></span><br><span class="line"><span class="comment">.biz,99</span></span><br><span class="line"><span class="comment">.cn,38</span></span><br><span class="line"><span class="comment">.tm,990</span></span><br><span class="line"><span class="comment">.公司,320</span></span><br><span class="line"><span class="comment">.网络,320</span></span><br><span class="line"><span class="comment">.商标,2</span></span><br><span class="line"><span class="comment">.世界,48</span></span><br><span class="line"><span class="comment">.广东,180</span></span><br><span class="line"><span class="comment">.佛山,180</span></span><br><span class="line"><span class="comment">.信息,69</span></span><br><span class="line"><span class="comment">.网店,1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><p>筛选可备案后缀，并按价格由低到高排序：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list.filter(<span class="function"><span class="params">x</span>=&gt;</span>ba.indexOf(x[<span class="number">0</span>])!==<span class="number">-1</span>).sort(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x[<span class="number">1</span>]-y[<span class="number">1</span>]);</span><br><span class="line"><span class="comment">// 打印结果</span></span><br><span class="line">list.filter(<span class="function"><span class="params">x</span>=&gt;</span>ba.indexOf(x[<span class="number">0</span>])!==<span class="number">-1</span>).sort(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x[<span class="number">1</span>]-y[<span class="number">1</span>]).map(<span class="function"><span class="params">x</span>=&gt;</span><span class="string">`* <span class="subst">$&#123;x[<span class="number">0</span>]&#125;</span>,<span class="subst">$&#123;x[<span class="number">1</span>]&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure><p>全文完。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;456个全。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;更新时间2017年2月26日。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;2017.08 更新一个Node.js写的爬虫脚本,可以一次性获得最新列表:&lt;br&gt;&lt;a href=&quot;https://github.com/willin/beian-domain&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/willin/beian-domain&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="domain" scheme="https://old.sh.gg/tags/domain/"/>
    
  </entry>
  
  <entry>
    <title>2017.02.22 团队·经济·团队经济</title>
    <link href="https://old.sh.gg/posts/2017/team-profit/"/>
    <id>https://old.sh.gg/posts/2017/team-profit/</id>
    <published>2017-02-21T16:00:00.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>第一次听到 <strong><em>团队经济</em></strong> 这个词是在 LOL 中。</p><p>何谓 <strong><em>团队经济</em></strong> ？与个人经济类似，表示的是团队整体经济水平。</p><p>今天简单聊聊 <strong><em>团队</em></strong>、<strong><em>经济</em></strong>、<strong><em>团队经济</em></strong> 相关的话题。</p><h2 id="团队经济"><a href="#团队经济" class="headerlink" title="团队经济"></a>团队经济</h2><p>团队经济有多重要呢？</p><p>从游戏的角度来讲，毕竟 LOL 是团队竞技游戏，双拳难敌四手，一个再强，能发挥的作用是有限的。</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/23149354/559f26a6-f826-11e6-97b1-3bfd620bbc8a.jpg" alt="Image"></p><a id="more"></a><p>比如这样的，虽然是全场经济最好的（13k），但依然免不了失败的下场。只顾自己爽，还嫌队友坑。先富带后富的口号，大多数时候都会忘诸脑后。</p><p>就联系到工作上，我们所考虑的，大多是如何将个体的经济效益最大化。</p><p>我见识过很多画的大饼，却没有见过兑现的样子。有的时候画大饼是一件好事，领导愿意对你画大饼，是对你现有价值的认可，但却要推迟兑现而许下的承诺。但如果连大饼都不愿意画给你，那么，你就要衡量一下你在团队里是不是该有些提升了。</p><p>总是会听到谈创业精神、团队责任感之类的云云。事业心人人都有，但给不给你就两说。如果你的事业造福的是自己，那团队的事业只是你个人的事业；反之，那你的事业就是大家的事业。其实很多时候，我们每个人都只是在单干，团队对于我们的意义只是从别人的身上压榨剩余价值而提高自我的效益。这样会导致队友渣如狗，自身效益又得不到质的提升的恶性循环。</p><p>总结一点就是——平衡。团队利益不只是属于少部分人，而是应该雨露均沾（但并非大锅饭），这样每个人参与其中，才能有主人翁的意识。</p><h2 id="经济"><a href="#经济" class="headerlink" title="经济"></a>经济</h2><p>团队经济拆开，分别是团队和经济。先从经济说起，作为外行来看经济，我只关注两个点：市场和效益。有市场=可以做；有效益=可以扩大规模。</p><blockquote><p>效益=收入-成本。</p></blockquote><p>作为团队，将人员成本开销的缩减作为提高效益的手段是绝不可取的。因为收入恒定的情况下，通过压缩成本产生的效益是有限的，而且成本的缩减往往又会对收入的提高有着负面的反馈。</p><p>前面的观点可以察觉到，我的主张是适当提高人员成本的开销，那应该靠什么推动效益的扩大？答案当然是收入。</p><p>对外，可以锱铢必较，因为多赚1分钱都是为团队多创造1分的效益。而在团队内部，你每克扣的1分钱，都是在挥霍成员对于团队的信任和感情。又想马儿不吃草，又想马儿快快跑，这是不切实际的。善待团队，才能激发更大的创造力。</p><p>有激情，有动力，有创造力，还愁没有更大程度的效益么？</p><p>经济形势的预测和把控不是纸上谈兵，跃然纸上的往往只能停留在纸上。术业有专攻，做好自己的本分，一点点去撬动市场就行了。</p><h2 id="团队"><a href="#团队" class="headerlink" title="团队"></a>团队</h2><p>团队好不好，关键看领导。</p><p>我们都见过不少团队人员流动很大，员工很容易就能重新招一个替换掉，但是往往团队的瓶颈不在于下面做事的员工。对于一个团队最好的鸡汤，就是不灌鸡汤。空谈理想，不如踏实实干；空画大饼，不如全身心利他。</p><p>创新最重要的方面是人员的流动与人才的吸收。大多数团队在流动这方面都做的很好，根本不介意你走还是留，但是人才的吸收和挽留就没什么好举措了。认可团队成员价值，激发团队成员更大的价值，逐步形成良性的反馈、循环。不积跬步，无以至千里。</p><p>很多团队并不是不好，只是野心有余而诚意不足。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;第一次听到 &lt;strong&gt;&lt;em&gt;团队经济&lt;/em&gt;&lt;/strong&gt; 这个词是在 LOL 中。&lt;/p&gt;
&lt;p&gt;何谓 &lt;strong&gt;&lt;em&gt;团队经济&lt;/em&gt;&lt;/strong&gt; ？与个人经济类似，表示的是团队整体经济水平。&lt;/p&gt;
&lt;p&gt;今天简单聊聊 &lt;strong&gt;&lt;em&gt;团队&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;经济&lt;/em&gt;&lt;/strong&gt;、&lt;strong&gt;&lt;em&gt;团队经济&lt;/em&gt;&lt;/strong&gt; 相关的话题。&lt;/p&gt;
&lt;h2 id=&quot;团队经济&quot;&gt;&lt;a href=&quot;#团队经济&quot; class=&quot;headerlink&quot; title=&quot;团队经济&quot;&gt;&lt;/a&gt;团队经济&lt;/h2&gt;&lt;p&gt;团队经济有多重要呢？&lt;/p&gt;
&lt;p&gt;从游戏的角度来讲，毕竟 LOL 是团队竞技游戏，双拳难敌四手，一个再强，能发挥的作用是有限的。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/1890238/23149354/559f26a6-f826-11e6-97b1-3bfd620bbc8a.jpg&quot; alt=&quot;Image&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="CheriShe" scheme="https://old.sh.gg/categories/CheriShe/"/>
    
    
      <category term="career" scheme="https://old.sh.gg/tags/career/"/>
    
      <category term="thought" scheme="https://old.sh.gg/tags/thought/"/>
    
  </entry>
  
  <entry>
    <title>前端阅读体验优化-GitBook自动换肤</title>
    <link href="https://old.sh.gg/posts/2017/reading-ux-gitbook/"/>
    <id>https://old.sh.gg/posts/2017/reading-ux-gitbook/</id>
    <published>2017-01-13T02:33:18.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>新键盘入手，<a href="https://s.click.taobao.com/DCiWICx" target="_blank" rel="noopener">HHKB Professional 2 Type-S</a></p><p><img src="https://cloud.githubusercontent.com/assets/1890238/21916492/0384a92c-d97c-11e6-8a0d-8b4cf6e1b96d.jpg" alt="hhkb"></p><p>通过侦听显示器亮度，或根据当地时间，实现自动换肤换色。<br><a id="more"></a></p><h2 id="DeviceLightEvent"><a href="#DeviceLightEvent" class="headerlink" title="DeviceLightEvent"></a>DeviceLightEvent</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'devicelight'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> lux = e.value;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(lux &lt; <span class="number">50</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'dim'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(lux &gt;= <span class="number">50</span> &amp;&amp; lux &lt;= <span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'normal'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(lux &gt; <span class="number">1000</span>)  &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'bright'</span>;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DeviceLightEvent" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/DeviceLightEvent</a></p><p>桌面：</p><ul><li>Firefox 22.0 (Gecko 22.0) (Mac OS X only)</li></ul><p>移动：</p><ul><li>Firefox 15.0 (Gecko 15.0)</li></ul><h2 id="CSS-Media-Query"><a href="#CSS-Media-Query" class="headerlink" title="CSS Media-Query"></a>CSS Media-Query</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> dim) &#123;</span><br><span class="line">  <span class="comment">/* 暗光环境 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> normal) &#123;</span><br><span class="line">  <span class="comment">/* 正常光环境 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> washed) &#123;</span><br><span class="line">  <span class="comment">/* 明亮环境 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="兼容性-1"><a href="#兼容性-1" class="headerlink" title="兼容性"></a>兼容性</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/light-level" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/light-level</a></p><p>Working Draft，暂无支持</p><h2 id="根据时间"><a href="#根据时间" class="headerlink" title="根据时间"></a>根据时间</h2><p>示例：</p><p>暗光环境： [20,21,22,23,0,1,2,3,4,5]<br>正常环境： [6,7,8,17,18,19]<br>明亮环境： [9,10,11,12,13,14,15,16]</p><p>一般大概是这样，也可以根据地域和季节进行调整。</p><p>时间判断，加入class，GitBook插件源码： <a href="https://github.com/willin/gitbook-plugin-autotheme" target="_blank" rel="noopener">https://github.com/willin/gitbook-plugin-autotheme</a></p><p>查看演示： <a href="https://leader.js.cool/" target="_blank" rel="noopener">https://leader.js.cool/</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;新键盘入手，&lt;a href=&quot;https://s.click.taobao.com/DCiWICx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;HHKB Professional 2 Type-S&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/1890238/21916492/0384a92c-d97c-11e6-8a0d-8b4cf6e1b96d.jpg&quot; alt=&quot;hhkb&quot;&gt;&lt;/p&gt;
&lt;p&gt;通过侦听显示器亮度，或根据当地时间，实现自动换肤换色。&lt;br&gt;
    
    </summary>
    
      <category term="dev" scheme="https://old.sh.gg/categories/dev/"/>
    
    
      <category term="plugin" scheme="https://old.sh.gg/tags/plugin/"/>
    
      <category term="js" scheme="https://old.sh.gg/tags/js/"/>
    
      <category term="gitbook" scheme="https://old.sh.gg/tags/gitbook/"/>
    
      <category term="front-end" scheme="https://old.sh.gg/tags/front-end/"/>
    
  </entry>
  
  <entry>
    <title>MX Master Mac配置推荐</title>
    <link href="https://old.sh.gg/posts/2016/mac-input-devices/"/>
    <id>https://old.sh.gg/posts/2016/mac-input-devices/</id>
    <published>2016-12-28T13:41:32.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mac下最好的鼠标，没有之一"><a href="#Mac下最好的鼠标，没有之一" class="headerlink" title="Mac下最好的鼠标，没有之一"></a>Mac下最好的鼠标，没有之一</h2><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523686/5f7edd5c-cd4b-11e6-88b8-fa2e32287d98.jpg" alt="mouses"></p><p>从上到下依次为：</p><ul><li>罗技 <a href="https://s.click.taobao.com/C3vK3Gx" target="_blank" rel="noopener">MX Master</a></li><li>雷蛇 <a href="https://s.click.taobao.com/9bnJ3Gx" target="_blank" rel="noopener">炼狱蝰蛇</a></li><li>苹果 <a href="https://s.click.taobao.com/2QGJ3Gx" target="_blank" rel="noopener">Magic Mouse 2</a></li></ul><p>在MX Master之前，我一直以为 Magic Mouse 是最适合苹果的鼠标了。</p><a id="more"></a><p>雷蛇是在Windows下游戏用的，感觉比赛钛客稍微好一些。之前用过赛钛客无线（R.A.T 9）和赛睿有线的，在无驱动下表现比较差。驱动后游戏性能感觉一般，可能跟笔记本配置有关。</p><p>R.A.T 9是我至今最记忆尤深，充电4小时，使用1小时。。。</p><p>当然，在Mac下我一直用的Magic Mouse，主要是因为频繁使用手势。但有一个比较大的弊端，信号干扰，在公司Wifi特别多的情况下，经常会掉帧。另外就是，真的出了工作不能干别的事情了，比如游戏。</p><p>MX Master，面向大师级玩家的精准装备。可以设置多个手势，所有按键可编程，灵敏度高，在玻璃下也可精准定位。</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>我使用的配置：</p><h3 id="中键：模式切换"><a href="#中键：模式切换" class="headerlink" title="中键：模式切换"></a>中键：模式切换</h3><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523870/d575ede2-cd4c-11e6-9ed2-50272bc4718f.png" alt="Switch"></p><p>配合SmartShift使用</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523936/355a45fa-cd4d-11e6-84db-fadd37e2bfe5.png" alt="SmartShift"></p><p>我比较喜欢老式鼠标分段的感觉，也可以灵活切换为平滑滚动，无顿挫感。</p><h3 id="灵敏度按钮：手势"><a href="#灵敏度按钮：手势" class="headerlink" title="灵敏度按钮：手势"></a>灵敏度按钮：手势</h3><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523958/700075b2-cd4d-11e6-9456-508a430bdf38.png" alt="mid"></p><p>左右桌面间切换，上下Launchpad和Expose。</p><h3 id="拇指按键：Launchpad"><a href="#拇指按键：Launchpad" class="headerlink" title="拇指按键：Launchpad"></a>拇指按键：Launchpad</h3><p>这个按键我会频繁使用，所以拇指也设置了。</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523999/c34f4d92-cd4d-11e6-9b59-01a98426e45a.png" alt="Finger"></p><h2 id="键盘推荐"><a href="#键盘推荐" class="headerlink" title="键盘推荐"></a>键盘推荐</h2><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523676/4f7d303e-cd4b-11e6-8dbf-559fbbef1ca6.jpg" alt="keyboards"></p><p>图片倒置了，分别为：</p><ul><li>左上： 樱桃 <a href="https://s.click.taobao.com/Q0L73Gx" target="_blank" rel="noopener">G80-1869HYNUS-2</a> 红轴，已绝版</li><li>左下： 罗技 <a href="https://s.click.taobao.com/0co63Gx" target="_blank" rel="noopener">K780</a></li><li>右： ikbc <a href="https://s.click.taobao.com/5yr53Gx" target="_blank" rel="noopener">Poker 3</a> 茶轴</li></ul><p>Cherry 红轴是我用过打字最轻松的键盘，打字速度快，声音也很温婉，就是容错率太低，经常按错。</p><p>罗技键盘可以跟鼠标公用Options配置软件，键位可编程。而且可以同时连接三个设备，快速切换，槽位足够同时放下两个平板电脑，而且支持蓝牙和无线USB。</p><p>现在用的是ikbc的Poker 3，好像现阶段到处都缺货了。按键均可编程，声音清脆，不会按错。不过没有方向键，得通过fn+按键，需要一段时间适应。</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/21524015/e4a433e0-cd4d-11e6-81d3-f3303e26ba75.jpg" alt="k480"></p><p>上图是已经淘汰的 罗技 <a href="https://s.click.taobao.com/YuH53Gx" target="_blank" rel="noopener">K480</a>，该款小巧便携，适合随身携带。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Mac下最好的鼠标，没有之一&quot;&gt;&lt;a href=&quot;#Mac下最好的鼠标，没有之一&quot; class=&quot;headerlink&quot; title=&quot;Mac下最好的鼠标，没有之一&quot;&gt;&lt;/a&gt;Mac下最好的鼠标，没有之一&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/1890238/21523686/5f7edd5c-cd4b-11e6-88b8-fa2e32287d98.jpg&quot; alt=&quot;mouses&quot;&gt;&lt;/p&gt;
&lt;p&gt;从上到下依次为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;罗技 &lt;a href=&quot;https://s.click.taobao.com/C3vK3Gx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;MX Master&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;雷蛇 &lt;a href=&quot;https://s.click.taobao.com/9bnJ3Gx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;炼狱蝰蛇&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;苹果 &lt;a href=&quot;https://s.click.taobao.com/2QGJ3Gx&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Magic Mouse 2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在MX Master之前，我一直以为 Magic Mouse 是最适合苹果的鼠标了。&lt;/p&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="mac" scheme="https://old.sh.gg/tags/mac/"/>
    
  </entry>
  
  <entry>
    <title>CloudFlare配置SSL及性能优化</title>
    <link href="https://old.sh.gg/posts/2016/cloudflare-ssl/"/>
    <id>https://old.sh.gg/posts/2016/cloudflare-ssl/</id>
    <published>2016-12-15T01:41:32.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h3><p><img src="https://www.cloudflare.com/a/static/images/ssl/ssl.png" alt="Flexible"></p><h4 id="默认值：Flexible"><a href="#默认值：Flexible" class="headerlink" title="默认值：Flexible"></a>默认值：Flexible</h4><p>适用于Github、Coding.net等之类的，没有采用SSL加密的源站。</p><h4 id="Full-Full-Strict"><a href="#Full-Full-Strict" class="headerlink" title="Full / Full(Strict)"></a>Full / Full(Strict)</h4><p>适用于源站也有SSL证书，Strict模式校验证书。</p><a id="more"></a><h3 id="Automatic-HTTPS-Rewrites"><a href="#Automatic-HTTPS-Rewrites" class="headerlink" title="Automatic HTTPS Rewrites"></a>Automatic HTTPS Rewrites</h3><p>默认关闭，可以打开。</p><p>自动将页面中的HTTP资源改用HTTPS方式请求。</p><h2 id="Firewall"><a href="#Firewall" class="headerlink" title="Firewall"></a>Firewall</h2><p>Cloudflare的验证码是最烦的东西了。</p><h3 id="Security-Level"><a href="#Security-Level" class="headerlink" title="Security Level"></a>Security Level</h3><p>默认： Medium</p><p>可以改为 <code>Essentially Off</code>，减少验证码弹出。</p><h3 id="Challenge-Passage"><a href="#Challenge-Passage" class="headerlink" title="Challenge Passage"></a>Challenge Passage</h3><p>默认：半小时，可以改为一天。</p><h2 id="Speed"><a href="#Speed" class="headerlink" title="Speed"></a>Speed</h2><p>可以将 <code>javascript</code>、<code>css</code>、<code>html</code> 自动压缩全部勾选上。</p><h2 id="Page-Rules"><a href="#Page-Rules" class="headerlink" title="Page Rules"></a>Page Rules</h2><p>免费3条，只需要建一条即可将所有HTTP请求跳转到HTTPS上。</p><p>URL如：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//*.willin.wang/*</span></span><br></pre></td></tr></table></figure><p>选择 <code>Always Use HTTPS</code> 选项，保存并发布。</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Crypto&quot;&gt;&lt;a href=&quot;#Crypto&quot; class=&quot;headerlink&quot; title=&quot;Crypto&quot;&gt;&lt;/a&gt;Crypto&lt;/h2&gt;&lt;h3 id=&quot;SSL&quot;&gt;&lt;a href=&quot;#SSL&quot; class=&quot;headerlink&quot; title=&quot;SSL&quot;&gt;&lt;/a&gt;SSL&lt;/h3&gt;&lt;p&gt;&lt;img src=&quot;https://www.cloudflare.com/a/static/images/ssl/ssl.png&quot; alt=&quot;Flexible&quot;&gt;&lt;/p&gt;
&lt;h4 id=&quot;默认值：Flexible&quot;&gt;&lt;a href=&quot;#默认值：Flexible&quot; class=&quot;headerlink&quot; title=&quot;默认值：Flexible&quot;&gt;&lt;/a&gt;默认值：Flexible&lt;/h4&gt;&lt;p&gt;适用于Github、Coding.net等之类的，没有采用SSL加密的源站。&lt;/p&gt;
&lt;h4 id=&quot;Full-Full-Strict&quot;&gt;&lt;a href=&quot;#Full-Full-Strict&quot; class=&quot;headerlink&quot; title=&quot;Full / Full(Strict)&quot;&gt;&lt;/a&gt;Full / Full(Strict)&lt;/h4&gt;&lt;p&gt;适用于源站也有SSL证书，Strict模式校验证书。&lt;/p&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="security" scheme="https://old.sh.gg/tags/security/"/>
    
      <category term="domain" scheme="https://old.sh.gg/tags/domain/"/>
    
      <category term="dns" scheme="https://old.sh.gg/tags/dns/"/>
    
      <category term="ssl" scheme="https://old.sh.gg/tags/ssl/"/>
    
  </entry>
  
  <entry>
    <title>2016.06.20 我们都在乞讨</title>
    <link href="https://old.sh.gg/posts/2016/we-beg/"/>
    <id>https://old.sh.gg/posts/2016/we-beg/</id>
    <published>2016-06-20T06:26:40.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>每个人内心都有对金钱的进一步渴望，无关我们口袋里究竟有多少。</p><p>记得我刚开始写博客的时候，总想着怎么在页面上植入广告，卖文字链接，动不动就会跑到广告平台上看看今天的收入有多少。那时候没什么钱，每天多个一角半分都十分开心。</p><p>从开始建站以来，基本上在域名、VPS上的投入林林总总加起来每年会有小几千的开销。而这么多年，通过广告所产生的收益不足其九牛一毛。工作了之后，没有太多精力折腾个人网站了，把广告移除之后有了很长一段时间的空窗期。而这段时间里，我一直也在想着，有没有什么方法能够将这部分的支出赚回来。</p><a id="more"></a><h2 id="不劳而获与乞讨"><a href="#不劳而获与乞讨" class="headerlink" title="不劳而获与乞讨"></a>不劳而获与乞讨</h2><p>一分耕耘，一分收获。人不能奢望天上掉馅饼，也不能奢求有免费的午餐。世界上唯一可以不劳而获的就是贫穷，唯一可以无中生有的是梦想。</p><p>有的时候，在路边看到乞丐伸手，会不自觉地加快脚步走开。为什么一个有手有脚不靠自己的努力去赚钱，而却只是在伸手要钱？</p><p>有的时候，不得不感慨，为什么只能凭双手赚钱，明明可以靠思想。但是时代不一样了，强制付费已经行不通了，只好可怜兮兮地挂出打赏的牌子。有的时候，也挺想做自己喜欢的事情，不论钱多钱少，开心就好。不过生活总有压力，所以有时有得锱铢必较，付出得有回报，即便口袋里有点闲钱，也需要未雨绸缪。所以我又将下面的打赏挂了出来，可惜粉丝经济体系告诉我，我这么做这必然是徒劳。无论回报多少，至少是种慰藉。</p><h2 id="消费和投资"><a href="#消费和投资" class="headerlink" title="消费和投资"></a>消费和投资</h2><p>举个栗子：一般而言，买一套房是消费，买第二套房是投资。因为当你只有一套房的时候，哪怕房价涨再高，与你并无关联。因为如果你将房子卖了，依然需要以高昂的价格再去购买，或者以或高或低但都不会有回报的价格去租。</p><p>在我理解中，消费和投资的主要区别是：消费出去的钱不会再回来，投资出去有回头钱。所以无论域名、服务器，我都不太想让其成为一种消费。当然域名有一定投资价值，但前提是你得放弃它的所有权。我所提倡的是理性消费，并且越早开始投资，越早开始有回报。</p><p>投资，分为很多种，能直接来钱的除了炒股还有买彩票。我不建议通过冒险的方式进行投资，人需要做自己有把握的事情，靠实力，不靠运气；拼努力，不拼爹。有点闲钱我宁可去买本书充实自己，也不愿意把致富寄托到赌运气上。</p><p>如果日子过得不舒坦，就把钱花到学习上吧。</p><p>我听过这么一句话：</p><blockquote class="blockquote-center"><p>人穷得时候，钱要花给别人；<br>富的时候，钱要花给亲人和爱人。</p></blockquote><p>现在想想觉得很有道理。先投资人情，后消费享乐。我感觉，穷的时候需要投资自己的未来，为自己的消费买单；而富裕了之后，则应该投资别人的未来，为别人的消费买单；才能充分将金钱得到更好的利用。</p><h2 id="我们都在乞讨"><a href="#我们都在乞讨" class="headerlink" title="我们都在乞讨"></a>我们都在乞讨</h2><p>其实我们都在乞讨，然而，这并不应该成为我们立身之本。理性消费，合理投资。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;每个人内心都有对金钱的进一步渴望，无关我们口袋里究竟有多少。&lt;/p&gt;
&lt;p&gt;记得我刚开始写博客的时候，总想着怎么在页面上植入广告，卖文字链接，动不动就会跑到广告平台上看看今天的收入有多少。那时候没什么钱，每天多个一角半分都十分开心。&lt;/p&gt;
&lt;p&gt;从开始建站以来，基本上在域名、VPS上的投入林林总总加起来每年会有小几千的开销。而这么多年，通过广告所产生的收益不足其九牛一毛。工作了之后，没有太多精力折腾个人网站了，把广告移除之后有了很长一段时间的空窗期。而这段时间里，我一直也在想着，有没有什么方法能够将这部分的支出赚回来。&lt;/p&gt;
    
    </summary>
    
      <category term="CheriShe" scheme="https://old.sh.gg/categories/CheriShe/"/>
    
    
      <category term="thought" scheme="https://old.sh.gg/tags/thought/"/>
    
  </entry>
  
  <entry>
    <title>浮云淡、解甲——二十七周岁沉思</title>
    <link href="https://old.sh.gg/posts/2016/27th-birth/"/>
    <id>https://old.sh.gg/posts/2016/27th-birth/</id>
    <published>2016-06-03T15:53:51.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<script type="text/javascript" src="http://www.xiami.com/widget/player-single?uid=0&sid=1774520995&mode=js"></script><blockquote><p>红尘若梦，沧海桑田，几人能看透？</p></blockquote><h2 id="Ranking-排名"><a href="#Ranking-排名" class="headerlink" title="Ranking - 排名"></a>Ranking - 排名</h2><p>前几天偶然间登录MSDN发现，几年没有再看过.NET的东西了，排名竟然还没有掉出前 <strong>5%</strong> 。</p><p><img src="https://cloud.githubusercontent.com/assets/1890238/15771426/3d0d701e-299d-11e6-9647-53f79179e87f.png" alt="msdn"></p><a id="more"></a><p>不知道从什么时候开始，什么都要排名，支付宝昨天超越了几万名小伙伴，QQ达人超越了全球百分之多少QQ用户…游戏有排名，学习有排名，工作有排名，消费也有排名，不消费也有排名…不管到哪里，都要被排排名次。很庆幸，每项排名基本上都在我满意的范围内。</p><ul><li>QQ：等级101，好友排名第1，超越全球98%用户。</li><li>QQ空间：等级148，好友排名第1，全国排名39833。</li><li>QQ会员：SVIP8，好友排名第1，全球排名139369。</li><li>迅雷：等级37，全球排名444570。</li><li>MSDN：全球排名前5%。</li><li>搜搜问问：[网页制作]领域专家，最高排名第3。</li><li>HackerRank： 积分5717，全球排名第98。</li><li>Codewars： 1dan 大师，全球排名90。</li></ul><p>无论Top几，永远都只有几。而每个人，不管成功，还是失败，在努力着的，都是无可比拟的。所以，如果又有什么新的应用要上排名，我想我应该会很排斥。</p><p>如果非要问我有什么排行榜特别想上榜，我想应该是福布斯。很多人都在做价值的搬运工，却不知道该怎么去创造价值，传递价值以及获取价值。最近突发奇想，想闲扯点什么，写本小书，开门小课，名字就叫做《百万富翁之路》，去帮助更多人创造更大的价值，以及收获更多的价值。</p><h2 id="Value-价值"><a href="#Value-价值" class="headerlink" title="Value - 价值"></a>Value - 价值</h2><p>之前写过一篇文章叫《<a href="/posts/2016/thing-about-foolish/">不要当傻瓜</a>》，提到了两种类型的傻瓜：</p><blockquote><p>一种是一心钻技术，技术再深，在产品中无用武之地；另一种是一心构想理想化的产品，产品再宏大，无法被现有技术实现。</p></blockquote><p>最近愈发觉得真的是这样，所以即便再喜欢技术，也需要广泛涉猎一些其他方面的知识。能创造多少价值，不在于技术有多高、知识有多广、思想有多深，而是在于能将多少能真真实实用到实际产品中。</p><p>这就是为什么有的人，明明技术很厉害，却只拿着微薄的薪水；而有的人看上去不学无术的，却屡建奇功。</p><h3 id="我们能创造多少价值？"><a href="#我们能创造多少价值？" class="headerlink" title="我们能创造多少价值？"></a>我们能创造多少价值？</h3><p>答案我不知道，不过感觉上很少。创新是件很难的事情，也需要很深的积累，创造就更不用说了。</p><p>大多数情况，我们所做的工作，只是在做价值的搬运，将别人的技术引入到产品中运用，机械地重复着业务功能的堆彻。这个时候，我们并没有创造出价值，只是个价值的搬运工。所以会有码农这样形象生动的比喻，因为确实这样的工作与搬砖无差，只是体力劳动，而并非脑力劳动。</p><p>很多人，高估了自己的价值。想要做到无可取代，就必须与众不同。能做到别人做不到的事情，能做好别人不愿意做的事情，能捕捉到别人不在意的细节。</p><p>很多人，低估了自己的价值。反反复复如机械般度日，最会消磨人的意志，衰减人的热情。无法改变世界，可以从改变自己做起，从改变一个人做起。</p><p>或许，我们大多数人，无法颠覆这个世界，但至少，做点什么，改善一点点，并不难。</p><h3 id="怎么样才是忙得有价值？"><a href="#怎么样才是忙得有价值？" class="headerlink" title="怎么样才是忙得有价值？"></a>怎么样才是忙得有价值？</h3><p>在我看来， <strong>忙</strong> 有这么三种：</p><h4 id="假忙"><a href="#假忙" class="headerlink" title="假忙"></a>假忙</h4><p>第一种情况，效率低，积压任务太多，所以有一种忙的假象。</p><p>懒癌是一种病，拖延症也是一种病。问题积压下来，感觉忙不过来了，只会让问题越积越多，恶性循环，问题解决不了，任务无法完成。</p><h4 id="瞎忙"><a href="#瞎忙" class="headerlink" title="瞎忙"></a>瞎忙</h4><p>第二种情况，没有大局观，如同猴子捡西瓜，顾此失彼。虽然也能做成一些事情，但很难做出更大的贡献来。没有时间做自己想做的事情，没有时间考虑怎么提升，勉强足够应付当前面临的任务和问题。</p><h4 id="真忙"><a href="#真忙" class="headerlink" title="真忙"></a>真忙</h4><p>真正的忙，不是什么都不顾只专注一个目标，也不是什么都做一个不放。</p><p>真正的忙，表面上并不忙，应该是在忙着提升效率，忙着减少问题，忙着避免重复的工作，以及忙着减少工作的投入却提高工作的产出。</p><h3 id="如何实现价值输出最大化？"><a href="#如何实现价值输出最大化？" class="headerlink" title="如何实现价值输出最大化？"></a>如何实现价值输出最大化？</h3><h4 id="进化"><a href="#进化" class="headerlink" title="进化"></a>进化</h4><p>自我进化是必须的，只有不断学习，才能保证持续的价值输出。</p><h4 id="取舍"><a href="#取舍" class="headerlink" title="取舍"></a>取舍</h4><blockquote class="blockquote-center"><p>慈不带兵 义不养财</p></blockquote><p>无论在哪方面，很多时候都是这样，有舍才有得。没有牺牲，就没有胜利。懂得取舍，才能成就未来。</p><h4 id="实用主义"><a href="#实用主义" class="headerlink" title="实用主义"></a>实用主义</h4><p>二八定律，将80%精力放在最有价值产出的20%事情上，不为无谓的琐事纠缠。忠于事实，驾驭工具，不为条条框框牵绊。</p><h2 id="Tomorrow-is-another-day"><a href="#Tomorrow-is-another-day" class="headerlink" title="Tomorrow is another day."></a>Tomorrow is another day.</h2><blockquote class="blockquote-center"><p>那就走吧</p><p>别忘了带上吉他和悲伤外壳</p><p>大概吧</p><p>我也可以是吟游诗人</p></blockquote><p>繁华落尽，洗尽铅华。</p><p>不求做伟大的人，却要做大写的人，这就是我。</p>]]></content>
    
    <summary type="html">
    
      &lt;script type=&quot;text/javascript&quot; src=&quot;http://www.xiami.com/widget/player-single?uid=0&amp;sid=1774520995&amp;mode=js&quot;&gt;&lt;/script&gt;

&lt;blockquote&gt;
&lt;p&gt;红尘若梦，沧海桑田，几人能看透？&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Ranking-排名&quot;&gt;&lt;a href=&quot;#Ranking-排名&quot; class=&quot;headerlink&quot; title=&quot;Ranking - 排名&quot;&gt;&lt;/a&gt;Ranking - 排名&lt;/h2&gt;&lt;p&gt;前几天偶然间登录MSDN发现，几年没有再看过.NET的东西了，排名竟然还没有掉出前 &lt;strong&gt;5%&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cloud.githubusercontent.com/assets/1890238/15771426/3d0d701e-299d-11e6-9647-53f79179e87f.png&quot; alt=&quot;msdn&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="diary" scheme="https://old.sh.gg/categories/diary/"/>
    
    
      <category term="love" scheme="https://old.sh.gg/tags/love/"/>
    
      <category term="life" scheme="https://old.sh.gg/tags/life/"/>
    
      <category term="career" scheme="https://old.sh.gg/tags/career/"/>
    
      <category term="birth" scheme="https://old.sh.gg/tags/birth/"/>
    
  </entry>
  
  <entry>
    <title>Gitbook捐赠打赏插件</title>
    <link href="https://old.sh.gg/posts/2016/gitbook-plugin-donate/"/>
    <id>https://old.sh.gg/posts/2016/gitbook-plugin-donate/</id>
    <published>2016-06-03T05:53:51.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Gitbook-Donate-Plugin"><a href="#Gitbook-Donate-Plugin" class="headerlink" title="Gitbook Donate Plugin"></a>Gitbook Donate Plugin</h2><p><a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a> <a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a> <a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dt/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a></p><p>项目主页：<a href="https://plugins.gitbook.com/plugin/donate" target="_blank" rel="noopener">https://plugins.gitbook.com/plugin/donate</a></p><p>Config:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"plugins"</span>: [<span class="string">"donate"</span>],</span><br><span class="line">    <span class="attr">"pluginsConfig"</span>: &#123;</span><br><span class="line">        <span class="attr">"donate"</span>: &#123;</span><br><span class="line">          <span class="attr">"wechat"</span>: <span class="string">"例：/images/qr.png"</span>,</span><br><span class="line">          <span class="attr">"alipay"</span>: <span class="string">"http://blog.willin.wang/static/images/qr.png"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"默认空"</span>,</span><br><span class="line">          <span class="attr">"button"</span>: <span class="string">"默认值：Donate"</span>,</span><br><span class="line">          <span class="attr">"alipayText"</span>: <span class="string">"默认值：支付宝捐赠"</span>,</span><br><span class="line">          <span class="attr">"wechatText"</span>: <span class="string">"默认值：微信捐赠"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><p>演示： <a href="http://money.js.cool/" target="_blank" rel="noopener">http://money.js.cool/</a></p><p>这是一本最近打算写的书，中文名叫《百万富翁之路》。</p><h2 id="LICENSE"><a href="#LICENSE" class="headerlink" title="LICENSE"></a>LICENSE</h2><p>MIT</p><p>贡献代码： <a href="https://github.com/willin/gitbook-plugin-donate" target="_blank" rel="noopener">https://github.com/willin/gitbook-plugin-donate</a></p><p>如果喜欢，千万别吝啬打赏~</p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Gitbook-Donate-Plugin&quot;&gt;&lt;a href=&quot;#Gitbook-Donate-Plugin&quot; class=&quot;headerlink&quot; title=&quot;Gitbook Donate Plugin&quot;&gt;&lt;/a&gt;Gitbook Donate Plugin&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://npmjs.org/package/gitbook-plugin-donate&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/v/gitbook-plugin-donate.svg?style=plastic&quot; alt=&quot;npm&quot;&gt;&lt;/a&gt; &lt;a href=&quot;https://npmjs.org/package/gitbook-plugin-donate&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/dm/gitbook-plugin-donate.svg?style=plastic&quot; alt=&quot;npm&quot;&gt;&lt;/a&gt; &lt;a href=&quot;https://npmjs.org/package/gitbook-plugin-donate&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;&lt;img src=&quot;https://img.shields.io/npm/dt/gitbook-plugin-donate.svg?style=plastic&quot; alt=&quot;npm&quot;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;项目主页：&lt;a href=&quot;https://plugins.gitbook.com/plugin/donate&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://plugins.gitbook.com/plugin/donate&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Config:&lt;/p&gt;
&lt;figure class=&quot;highlight json&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;plugins&quot;&lt;/span&gt;: [&lt;span class=&quot;string&quot;&gt;&quot;donate&quot;&lt;/span&gt;],&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;attr&quot;&gt;&quot;pluginsConfig&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;attr&quot;&gt;&quot;donate&quot;&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;wechat&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;例：/images/qr.png&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;alipay&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;http://blog.willin.wang/static/images/qr.png&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;title&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;默认空&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;button&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;默认值：Donate&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;alipayText&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;默认值：支付宝捐赠&quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;          &lt;span class=&quot;attr&quot;&gt;&quot;wechatText&quot;&lt;/span&gt;: &lt;span class=&quot;string&quot;&gt;&quot;默认值：微信捐赠&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="dev" scheme="https://old.sh.gg/categories/dev/"/>
    
    
      <category term="node.js" scheme="https://old.sh.gg/tags/node-js/"/>
    
      <category term="plugin" scheme="https://old.sh.gg/tags/plugin/"/>
    
      <category term="gitbook" scheme="https://old.sh.gg/tags/gitbook/"/>
    
  </entry>
  
  <entry>
    <title>JS判断一个数是否为2的N次幂</title>
    <link href="https://old.sh.gg/posts/2016/power-2/"/>
    <id>https://old.sh.gg/posts/2016/power-2/</id>
    <published>2016-05-28T10:10:22.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>问题：</p><blockquote><p>判断一个数(x)是否为2的N次幂，如果是，返回是2^n中的n，如果不是返回false</p></blockquote><p>约束： <code>x &lt;= 2^800</code></p><h2 id="SB青年版"><a href="#SB青年版" class="headerlink" title="SB青年版"></a>SB青年版</h2><p>不用说，递归肯定是最sb的版本：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2sb</span>(<span class="params">x,n</span>) </span>&#123;</span><br><span class="line">  n = n || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span>(x === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>( x &lt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> power2sb(x / <span class="number">2</span>, n + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果测试：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="LowB青年版"><a href="#LowB青年版" class="headerlink" title="LowB青年版"></a>LowB青年版</h2><p>低级循环版，与上一个版本半斤八两。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2lb</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>( x &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(x === <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    x = x / <span class="number">2</span>;</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果测试：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure><h2 id="普通青年版"><a href="#普通青年版" class="headerlink" title="普通青年版"></a>普通青年版</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2nm</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 奇数肯定不是2的N次幂</span></span><br><span class="line">  <span class="keyword">if</span>(x % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 总结规律</span></span><br><span class="line">  <span class="comment">// 2^2=4</span></span><br><span class="line">  <span class="comment">// 2^3=8</span></span><br><span class="line">  <span class="comment">// 2^4=16</span></span><br><span class="line">  <span class="comment">// 2^5=32</span></span><br><span class="line">  <span class="comment">// 2^6=64</span></span><br><span class="line">  <span class="comment">// 2^7=128</span></span><br><span class="line">  <span class="comment">// 2^8=256</span></span><br><span class="line">  <span class="comment">// 2^9=512</span></span><br><span class="line">  <span class="comment">// 所以，个位不可能为 0</span></span><br><span class="line">  <span class="keyword">if</span>(x % <span class="number">10</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>( x &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(x === <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    x = x / <span class="number">2</span>;</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="文艺青年版"><a href="#文艺青年版" class="headerlink" title="文艺青年版"></a>文艺青年版</h2><p>位运算，无循环。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2fs</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一句话版本</span></span><br><span class="line">  <span class="keyword">return</span> (x &amp; ( x - <span class="number">1</span>)) === <span class="number">0</span> ? (x<span class="number">-1</span>).toString(<span class="number">2</span>).length : <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    解释：</span></span><br><span class="line"><span class="comment">    1. (x &amp; ( x - 1)) === 0</span></span><br><span class="line"><span class="comment">    先来寻找一下规律：</span></span><br><span class="line"><span class="comment">    2^2=4 对应二进制为</span></span><br><span class="line"><span class="comment">    100</span></span><br><span class="line"><span class="comment">    2^3=8</span></span><br><span class="line"><span class="comment">    1000</span></span><br><span class="line"><span class="comment">    2^4=16</span></span><br><span class="line"><span class="comment">    10000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    所以，</span></span><br><span class="line"><span class="comment">    2^N=1+N个0</span></span><br><span class="line"><span class="comment">    2^N-1=N个1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     100</span></span><br><span class="line"><span class="comment">    &amp; 11</span></span><br><span class="line"><span class="comment">    ----</span></span><br><span class="line"><span class="comment">     000</span></span><br><span class="line"><span class="comment">    4 &amp; 3 = 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     1000</span></span><br><span class="line"><span class="comment">    &amp; 111</span></span><br><span class="line"><span class="comment">    -----</span></span><br><span class="line"><span class="comment">     0000</span></span><br><span class="line"><span class="comment">    8 &amp; 7 = 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    2. (x-1).toString(2).length</span></span><br><span class="line"><span class="comment">    (8-1).toString(2) // 111, length: 3</span></span><br><span class="line"><span class="comment">    (16-1).toString(2) // 1111, length: 4</span></span><br><span class="line"><span class="comment">    或者还可以写成 x.toString(2).length - 1，结果一样</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>结果测试：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure><h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>上面4个版本都有一个共同的缺点，那就是只能计算到 2^52 次方。</p><p>JavaScript中双精度类型最大53位，即2^53-1 = 9007199254740991。</p><h2 id="NB青年版"><a href="#NB青年版" class="headerlink" title="NB青年版"></a>NB青年版</h2><p><del>~通过字符串直接处理，整理后释出。</del>~</p><blockquote class="blockquote-center"><p>2016年7月6日更新</p></blockquote><p>这题的原题来自： <a href="https://www.hackerrank.com/challenges/two-two" target="_blank" rel="noopener">https://www.hackerrank.com/challenges/two-two</a></p><h3 id="字符串直接匹配解题思路"><a href="#字符串直接匹配解题思路" class="headerlink" title="字符串直接匹配解题思路"></a>字符串直接匹配解题思路</h3><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">统计<span class="number">2</span>幂个数/字符串/ /统计<span class="number">2</span>幂个数/字符串</span><br><span class="line"><span class="number">1</span><span class="number">1</span><span class="number">0</span><span class="number">01</span></span><br><span class="line"><span class="number">1</span><span class="number">2</span><span class="number">0</span><span class="number">02</span></span><br><span class="line"><span class="number">1</span><span class="number">4</span><span class="number">0</span><span class="number">04</span></span><br><span class="line"><span class="number">1</span><span class="number">8</span><span class="number">0</span><span class="number">08</span></span><br><span class="line"><span class="number">2</span><span class="number">16</span><span class="number">0</span><span class="number">016</span></span><br><span class="line"><span class="number">2</span><span class="number">32</span><span class="number">0</span><span class="number">032</span></span><br><span class="line"><span class="number">2</span><span class="number">64</span><span class="number">0</span><span class="number">064</span></span><br><span class="line"><span class="number">4</span><span class="number">128</span><span class="number">0</span><span class="number">0128</span></span><br><span class="line"><span class="number">2</span><span class="number">256</span><span class="number">0</span><span class="number">0256</span></span><br><span class="line"><span class="number">3</span><span class="number">512</span><span class="number">0</span><span class="number">0512</span></span><br><span class="line"><span class="number">4</span><span class="number">1024</span><span class="number">0</span><span class="number">01024</span></span><br><span class="line"><span class="number">4</span><span class="number">2048</span><span class="number">0</span><span class="number">02048</span></span><br><span class="line"><span class="number">2</span><span class="number">4096</span><span class="number">0</span><span class="number">04096</span></span><br><span class="line"><span class="number">4</span><span class="number">8192</span><span class="number">0</span><span class="number">08192</span></span><br><span class="line"><span class="number">4</span><span class="number">16384</span><span class="number">0</span><span class="number">016384</span></span><br><span class="line"><span class="number">4</span><span class="number">32768</span><span class="number">0</span><span class="number">032768</span></span><br><span class="line"><span class="number">1</span><span class="number">65536</span><span class="number">0</span><span class="number">065536</span></span><br><span class="line"><span class="number">4</span><span class="number">131072</span><span class="number">0</span><span class="number">0131072</span></span><br><span class="line"><span class="number">6</span><span class="number">262144</span><span class="number">0</span><span class="number">0262144</span></span><br><span class="line"><span class="number">6</span><span class="number">524288</span><span class="number">0</span><span class="number">0524288</span></span><br><span class="line"><span class="number">4</span><span class="number">1048576</span><span class="number">0</span><span class="number">01048576</span></span><br><span class="line"><span class="number">4</span><span class="number">2097152</span><span class="number">0</span><span class="number">02097152</span></span><br><span class="line"><span class="number">5</span><span class="number">4194304</span><span class="number">0</span><span class="number">4194304</span></span><br></pre></td></tr></table></figure><p>通过该方式，先通过计算，得出一张类似上述的对照表。<br>通过查表法去快速推算结果。虽然这样能够通过系统评分的判断，但是实际上效率非常低下，这张对照表的产生花费大量的计算。</p><h3 id="大数计算"><a href="#大数计算" class="headerlink" title="大数计算"></a>大数计算</h3><p>先把思路做一下调整，之前在做这个题的时候，总是在做字符串的遍历，查询，效率非常低下。<br>而实际上2^0到2^800一共只有801个组合，只需要将这801个出现的次数匹配出来，就是结果。</p><p>这里用到了一个库：</p><p><a href="https://github.com/peterolson/BigInteger.js" target="_blank" rel="noopener">https://github.com/peterolson/BigInteger.js</a></p><p>让JavaScript能够支持大数的计算。</p><p>最终满分通过答案：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bigInt;<span class="comment">//引入代码省略</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processData</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = input.split(<span class="string">"\n"</span>);</span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">0</span>; i &lt; data[<span class="number">0</span>]; i++) &#123;</span><br><span class="line">    compute(data[i+<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compute</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> base = <span class="keyword">new</span> bigInt(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">0</span>; i &lt;= <span class="number">800</span>; i++ ) &#123;</span><br><span class="line">    <span class="keyword">var</span> s = base.pow(i).toString(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">var</span> idx = <span class="number">0</span>, nextIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      idx = word.indexOf(s, nextIdx);</span><br><span class="line">      <span class="keyword">if</span>( idx != <span class="number">-1</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">      &#125;</span><br><span class="line">      nextIdx = idx +<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span>( idx != <span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">process.stdin.resume();</span><br><span class="line">process.stdin.setEncoding(<span class="string">"ascii"</span>);</span><br><span class="line">_input = <span class="string">""</span>;</span><br><span class="line">process.stdin.on(<span class="string">"data"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">input</span>) </span>&#123;</span><br><span class="line">    _input += input;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">process.stdin.on(<span class="string">"end"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   processData(_input);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><img src="http://w3log.qiniudn.com/blog/two-two.png" alt="150"></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;问题：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;判断一个数(x)是否为2的N次幂，如果是，返回是2^n中的n，如果不是返回false&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;约束： &lt;code&gt;x &amp;lt;= 2^800&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;SB青年版&quot;&gt;&lt;a href=&quot;#SB青年版&quot; class=&quot;headerlink&quot; title=&quot;SB青年版&quot;&gt;&lt;/a&gt;SB青年版&lt;/h2&gt;&lt;p&gt;不用说，递归肯定是最sb的版本：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;function&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;power2sb&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;x,n&lt;/span&gt;) &lt;/span&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  n = n || &lt;span class=&quot;number&quot;&gt;0&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;(x === &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; n;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;if&lt;/span&gt;( x &amp;lt; &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;false&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; power2sb(x / &lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;, n + &lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;结果测试：&lt;/p&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(power2sb(&lt;span class=&quot;number&quot;&gt;4&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// 2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(power2sb(&lt;span class=&quot;number&quot;&gt;5&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(power2sb(&lt;span class=&quot;number&quot;&gt;65536&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// 16&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(power2sb(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.pow(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;52&lt;/span&gt;)+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// false&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;console&lt;/span&gt;.log(power2sb(&lt;span class=&quot;built_in&quot;&gt;Math&lt;/span&gt;.pow(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;number&quot;&gt;53&lt;/span&gt;)+&lt;span class=&quot;number&quot;&gt;1&lt;/span&gt;)); &lt;span class=&quot;comment&quot;&gt;// false 实际结果：53&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="dev" scheme="https://old.sh.gg/categories/dev/"/>
    
    
      <category term="js" scheme="https://old.sh.gg/tags/js/"/>
    
      <category term="algorithm" scheme="https://old.sh.gg/tags/algorithm/"/>
    
      <category term="logic" scheme="https://old.sh.gg/tags/logic/"/>
    
      <category term="performance" scheme="https://old.sh.gg/tags/performance/"/>
    
  </entry>
  
  <entry>
    <title>入手新域名js.cool</title>
    <link href="https://old.sh.gg/posts/2016/js-cool/"/>
    <id>https://old.sh.gg/posts/2016/js-cool/</id>
    <published>2016-05-10T10:32:44.000Z</published>
    <updated>2021-11-08T09:56:35.420Z</updated>
    
    <content type="html"><![CDATA[<p>这是一个溢价域名，注册的过程也算是一波三折。</p><a id="more"></a><p>在得知这个域名可注册之后，比较了几个域名服务商，最后选在了Linost，价格为255元。</p><p>也算是老用户了，我的很多域名都是在这边注册的。付费成功之后发现域名状态一直在Pending，提交工单一问，竟然说要给我退款，不让注册。唉，人情淡漠，何况老用户，抵不过那丁点金钱利益。</p><p>我个人感觉吧，无论怎么样的失误，都不应该让顾客承担。以后改价格是以后的事情，但当前价格错了并不是顾客造成的吧，仅一句退款，伤了几层心？！简直Low爆了。</p><p>后来，换了一家注册，也就只贵了100来块而已。</p><p>至此，已将所有域名从 Linost 转出，以后不再使用，也不再推荐他人。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这是一个溢价域名，注册的过程也算是一波三折。&lt;/p&gt;
    
    </summary>
    
      <category term="note" scheme="https://old.sh.gg/categories/note/"/>
    
    
      <category term="life" scheme="https://old.sh.gg/tags/life/"/>
    
      <category term="domain" scheme="https://old.sh.gg/tags/domain/"/>
    
  </entry>
  
</feed>
