<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>道不尽、流年——二十周岁感言</title>
    <url>/posts/2009/20th-birth/</url>
    <content><![CDATA[<p>我21岁了，不仅未能顶天立地，甚至还没找到属于自己的位置。</p>
<p>总结这20年，主要是生活、爱情、事业三个方面。</p>
<hr>
<h2 id="【生活】"><a href="#【生活】" class="headerlink" title="【生活】"></a>【生活】</h2><p>以前乱糟糟、现在乱糟糟。但好了许多。</p>
<p>可能有了些小洁癖，开始爱干净了，但还是不会打扮自己、也没打算。有的时候把自己的地方整理的干净、整齐。或许坚持不了多久，但隔一段时间就会觉得自己太没条理，又整理一遍。</p>
<a id="more"></a>
<p>老朋友的联系少了，但还会经常想起。</p>
<p>新朋友的关系远了，不敢轻易去相信。</p>
<p>有的时候想要无私地去为他人或者学校做些什么，却不会有人相信、甚至还会有无耻的人拿我的思路用于商路。</p>
<p>胆子似乎变小了，没有什么勇气了。曾经的霸气已经被人遗忘了。</p>
<p>对于功利的渴求，日益剧减。平静地接受当下的工作，如校学生会秘书部。院副部竞聘、校级其他部门部长、副部长竞聘我都没有参加，也有人问起，我说我在秘书部好好的干吗要走？我走了工作丢给谁？</p>
<p>或许好多人活着就是为了向上爬，一有新的机遇就要拍拍屁股走人。这样很好，很实际。我想这点是我不好，太碌碌无为了。</p>
<p>但我并不是甘于平庸的人，我追求平淡，却有着明确的理想。</p>
<p>毕竟这是生活，人人都要选择自己的路。我无法左右别人、努力把握好自己，并坚定地承担起自己的责任。</p>
<p>值得庆幸，虽然我依旧多愁善感，但开朗了许多，不让自己显得脆弱。</p>
<p>I can. Just smile.</p>
<hr>
<h2 id="【爱情】"><a href="#【爱情】" class="headerlink" title="【爱情】"></a>【爱情】</h2><p>“普遍撒网、重点捞鱼。”我听了两次。</p>
<p>妹看我写的文，说我肯定是个爱浪漫的人。我笑笑。她对我说“一表人才，风流倜傥，文采出众，怎么着也要找个秀外慧中的漂亮MM呀！”</p>
<p>我一直觉得爱情是很神圣的。如姜太公钓鱼，愿者上。可是我发现我近来也有撒网的倾向。</p>
<p>一直以来，我都没有什么女性的朋友，点来点去就只有干妹妹和燕子，很纯净的友情。</p>
<p>我觉得也挺好，至少免除了未来恋人吃醋的烦恼。</p>
<p>但是却完全不会和异性交流。</p>
<p>到了大学，在身边的女孩子似乎多了许多。但没一个是恋人关系。</p>
<p>一直在寻找另一半，还不知道谁才是适合我的，也不知道谁会来关心我。但我相信，只是目前。</p>
<p>我不像以前那么规避与女生接触了，但我感觉并不好。把握不住分寸，不懂说什么会太过分。我一直不喜欢拿感情来开玩笑，但似乎现在也就拿手这一套了。细想想，我真够猥琐的。</p>
<p>我想我现在是在远离幸福。爱情应该坦诚、专注。无需我刻意去强求。感情应该是宁缺毋滥的，一个人有何可怕？要长久的爱情，就绝不能随随便便。</p>
<p>我还是一个人。我明白我还不够好。</p>
<p>但我会等待，一个人，让我珍惜、珍惜我。</p>
<p>To have and to hold,to love and to cherish.</p>
<p>For just one girl,and For good.</p>
<hr>
<h2 id="【事业】"><a href="#【事业】" class="headerlink" title="【事业】"></a>【事业】</h2><p>我不是廉价的劳动力，也不是一个人工作的机器。</p>
<p>我想钻研、深入地去研究一些东西，也想要一个可以合作、配合的团队。我也有许多商业的想法和思路、想要付诸实践，但我不会轻易再对谁说出来。</p>
<p>常有人问：凭你的能力，凭你老爸的人际关系，还怕没有工作？</p>
<p>我想学一些前沿的东西、专业的深入的东西，有时候很力不从心。无论从事NIIT，或者Web2.0开发，都不是一个人的事情。或许可以依赖外包，但外包也是一个团队去做，很少有一个人就能扛得起的。</p>
<p>我找不到合作的伙伴，没有Team固然也没有TeamWork。或许现在还很年轻，很多人都不懂团队的意义，但是我觉得起步已经太晚。中国的IT，起步也太晚。</p>
<p>学一些软件的时候，我总是和我的舍友说，什么是最新、什么是最前沿、什么科技含量最高、什么有发展前景……除了劝服他们换上了最新的操作系统和Office，貌似他们并没有接受其他。Adobe CS3太老了，我说我用的CS4，他们换上了。但我现在只用DreamWeaver了，因为Flash成本太高、PhotoShop、FireWorks不能用于团队而且可以用几句简单的代码实现。我想4个人组成一个小团队还是可以的，一起学习一些前沿的东西，一起发展，一起做一番项目。可晚上、看Song还在继续学Flash，班长也在看Flash的书、Lee看些杂七杂八的。</p>
<p>我不管他们是否相信，我看IT虽然谈不上权威，但绝不会有太大偏差。他们学出多大本事、做出多大项目、获得多少价值，与我无益。但我还是希望有一些人相信我的话、也希望多一些志同道合，我没考虑过我自己能获得多少利益，但我还是希望有一个Team，相互促进，相互帮助。即便Team Over，也能收获许多。</p>
<p>我想如果我以后搞钻研的话，我不会待在国内，国情不允许。如果我留在过年，我会从商。</p>
<p>我不做奸商。</p>
<p>但是谁想要利用我的话，我不会给他任何甜头的。我知道中国“盗版”很厉害，侵权的事做得也很绝。我想我已经感受不少了，还好摊上的早，我也慢慢学会适应了。在这点上我得申明，我做人不会这么下贱。我的所有思路，都将来自我自己，或者是通过授权或购买。我鄙视剽窃、更鄙视没有思想只能通过下贱手段谋取暴利的，那不是商人，是狗。</p>
<p>没什么明确目标，但我知道方向。世界瞬息万变，我会找到自己的位置。无论在哪、在什么位置，我都会把自己的工作做好。</p>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>不求做伟大的人，却要做大写的人，这就是我。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>照无眠、荏苒——二十二周岁碎念</title>
    <url>/posts/2011/22nd-birth/</url>
    <content><![CDATA[<p>也许我看着很牛B，或者装着很牛B，其实很SB。<br>我不想为自己辩解什么，其实我很庸俗，甚至可以说，是恶俗。</p>
<hr>
<h2 id="【生活】"><a href="#【生活】" class="headerlink" title="【生活】"></a>【生活】</h2><p>不知不觉，又到了离别的季节，或许说再见，就再也见不到面。有些难过，但我一定得离开。“再多各自牛B的时光，也比不上一起傻B的岁月。”但是傻逼B的岁月就这么离我而去了，虽然我依旧那么执念，那么幼稚。</p>
<a id="more"></a>
<p>日子久了，自身的缺点慢慢突显，其中有三点尤为致命。</p>
<p>不能够善始敬终。<br>开学初的时候还坚持定期打扫整理，现在桌上已经有些凌乱。溜冰鞋在宿舍里睡了两年了，说要学吉他也有一年都没有再动它。还想学法语，但也至今还没有开始。对于明天，也总是没有计划，今朝有酒今朝醉。不会理财，无论生活费或是赚了多少都会在月底前花光。一旦事情多了，生活就会没有规律。不能按时睡觉，也不能按时吃饭。当然，也一直没有坚持锻炼，所以身体徘徊在亚健康、或亚健康的状态。</p>
<p>我希望离开了学校以后能够把锻炼身体的事情坚持下来，毕竟，只有好好地活着，才能考虑什么有意义。然后，还要带着学习法语，不仅是为了兴趣，如果可以的话，以后可能还可以移民到魁北克或者瑞士。小时候一直梦想着有一天能够到瑞士去，哪怕只是转一圈。如果比较闲的话，把其他好好学学，看视频里弹《加勒比海盗》主题曲的那个孩子，简直无比的羡慕嫉妒恨啊~</p>
<p>倔犟、固执。<br>典型的程序员性格，从来不遵从逻辑。因为我们都可以自己创造所有的逻辑。认为对的就是对的，认为错的谁也不能把它说成对的。有的时候会听不进意见，更有的时候会将坏脾气转移到不相关的人身上。</p>
<p>我脾气一直很差，不好相处。太直率，我会把对人的厌恶非常直截了当地摆在脸上。或许这是个缺点，也或许这是个优点。我不会圆滑，我只是想做我自己。当然，我知道这种想法很幼稚，但是很庆幸我始终没有丢了自己。但是一直以来，我经常控制不住我的坏脾气，我会经常生气，有时候暴跳如雷。</p>
<p>脾气是该好好改改，但原则是不会改的。我不希望有一天，我发现不知道自己在扮演的谁。那是多么悲哀的一件事啊~</p>
<p>一副空皮囊。<br>探求真理的人不可心存傲慢，但是我骨子有一种自负。我会的其实并不多，但是我总是觉得我能够做最好的。我希望所有人都认同我，至少，尊重我。但其实我只是一副空皮囊，我不仅没有足够的实力，更没有足够的勇气。即使我用大声的吼叫，也不能减轻我内心的胆怯。我最害怕，就是得不到尊重。</p>
<p>真正肚子里有货的人，会无所畏惧。我有许多敬佩的Hackers（不是Crackers），也很欣赏那些开源的贡献者。有的时候，我害怕别人比我强，还是因为怕得不到尊重的缘故吧。我怕自己头脑里的东西被人窃取，这样，我就会消散在别人的视线里。</p>
<p>说到底，我还是应该武装自己，用知识，更要用人品。还有很长的路要走。我不够自信，也不能承受挫败。我需要接受更多的磨砺，才能真正变得锋利。</p>
<hr>
<h2 id="【事业】"><a href="#【事业】" class="headerlink" title="【事业】"></a>【事业】</h2><p>我说过，我不是廉价的劳动力，也不想成为一个赚钱的机器。所以我在做项目的时候，带着很重的个人情绪。</p>
<p>我工作不是为了赚钱。所以或许我不能够赚很多的钱，或许我不能够有很广的业务面。或许因为我还在花家里的钱，还没有到需要养活自己的份上。我只希望用工作来赚自己的价值，来换面子。我不愿意做吃苦、受累、收益少的工作。眼高手低？或是只是满足自己的虚荣心？</p>
<p>关于创业，一直有许多想法。但是连家里的支持都得不到。或许我还是太嫩了。妈妈一直想我留在连云港工作，拿一份大约每月只有一千到两千的工资，过着安稳平庸的生活。只要简简单单的活着，她就会很满意，她不指望我养着，更不希望我承担风险。</p>
<p>但是这个世界是到处有风险需要承担的。我希望我能够出去锻炼锻炼，毕业以后再回到连云港。毕竟这也是我与兄弟们的承诺。无论在哪、在什么位置，都应该把自己的工作做好，这才是最重要的。</p>
<p>渐渐发现，或许我并不适合从商，虽然我觉得我头脑是足够用的。做一个程序员其实没有什么不好，虽然很容易老，但趁我还年轻。以后再考虑转行的事宜反正不会迟。</p>
<hr>
<h2 id="【爱情】"><a href="#【爱情】" class="headerlink" title="【爱情】"></a>【爱情】</h2><p>够了领证的年龄了，但是还没有愿意跟我一同去领证的人儿。我自我感觉良好，至少会修电脑。可是已经好久没有姑娘中意我了……我不知道是我个人魅力衰退了，还是我根本没有什么魅力。</p>
<p>可能是太久没有写文字的原因，现在写出来的文字都很蹩脚，甚至连自己都打动不了。我开始着急了，我是个害怕孤单的人，想有一个人关心我。</p>
<p>前几天把高中喜欢的女孩儿扔进黑名单里了。其实原因很简单，就是回了一条关心的评论，然后被嘲讽了又相互嘲讽一番。后来由于系统原因还是收到了一条她的新状态，说不想骂我，贱人，神经病一类字眼。并且还获得了许多她朋友的苟同。即使早已不再爱，心里仍不禁委屈万分。</p>
<p>多么深的一道伤啊。几年前，我追了她整整一个月，她在圣诞节的那天接受我，说因为被我感动而和以前的男朋友分手。但我一直却不知道她有男朋友。这是一个老故事了，听过的人很多，或许两个当事人都在对此事做出描述的话，会有不同的情节。但我确定，她欺骗了我的感情。后来想想，很庆幸她在一周后就背叛了我。我其实一直没有怪她。因为我觉得我不够好，至少我还是个穷小子。</p>
<p>还好现在我有能力自己赚钱了，可以很大方地请朋友吃饭，花自己赚的钱。至少我不同了，我进步了。我不反对女孩子拜金，但是起码你应该会尊重人吧。也还好，我从来不觉得有什么亏欠她，该给的真心我也给了，当我自己面对破裂的心，我不会觉得内疚。也不想相互攻击或者继续去记恨，只想别再有任何交集其实就很好。</p>
<p>不过是被辜负而已。我虽然对自己这么说，但心里还是会觉得很凄凉。</p>
<blockquote>
<p>我还是一个人。我明白我还不够好。<br>但我会等待，一个人，让我珍惜、珍惜我。<br>To have and to hold,to love and to cherish.<br>For just one girl,and For good.</p>
</blockquote>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>不求做伟大的人，却要做大写的人，这就是我。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>理还乱、浮沉——二十三周岁反思</title>
    <url>/posts/2012/23th-birth/</url>
    <content><![CDATA[<p>Shown off, Shone out.<br>想自己闪耀，就得想到燃烧殆尽的那一刻。</p>
<p>A bit blundering, then a bit elbowed.<br>每一丝浮躁，都会换来一丝排挤。</p>
<hr>
<h2 id="【生活】"><a href="#【生活】" class="headerlink" title="【生活】"></a>【生活】</h2><p>想着成为大伙中不可或缺的一份子。一但表现得激进，便会被厌恶；一但表现得拘谨，便会被冷落。我努力想做好自己，为了得到大家的认可，但始终在背道而驰。或许，是因为，连我自己都还没有认可。</p>
<a id="more"></a>
<p>我曽分析过自己在生活上有三点非常致命的问题：1、不能够善始敬终。2、倔强、固执。3、一副空皮囊。解决了一些问题，又出现了一些问题。又仔细地想想，分析的问题也并不十分到位。重新总结了两个：</p>
<p>坚持自己应该坚持的，放弃自己应该放弃的。<br>有原则没错要坚持，不是什么都有必要坚持到最后，也不是所有执念坚持了就会有好的结果。所以应该会取舍，当机立断。经历过无谓的坚持惹来的麻烦，才知道犹豫不决，会造成多大的烦恼。倔强、任性是小孩子专有的权力，犹豫、固执是大笨蛋共有的特色，太计较得失只会让自己活得太累。</p>
<p>心理素质迫切有待提高<br>几乎所有问题，除了由于选择的错误，都是由心理因素引起的。</p>
<p>首先得说最差的一点体现，是——浮躁。浮躁是指轻浮，做事无恒心，见异思迁，不安分守己，总想投机取巧，整天无所事事，脾气大。虽然上述词典的解释有些过于贬低，但大多数形容都可以挂牌在我身上。</p>
<p>荣辱之责，在乎己而不在乎人。患得患失，畏首畏尾，不能够泰然自若地面对所有的问题，不仅让我身边的人也受到影响，同时也使得我脾气更加暴躁。</p>
<p>一直以来，我觉得我的脾气在一次次受伤后被抚平，但实际上不是。只是对伤痛麻木，磨平了锐气。内心的孤傲与日俱增，以至于现在连开心都觉得是件很奢侈的事情。</p>
<p>最近看有一句话说：决定你人生高度的，不是你的才能，而是你的态度。所以，我决定，改善生活，从改变态度做起。</p>
<hr>
<h2 id="【事业】"><a href="#【事业】" class="headerlink" title="【事业】"></a>【事业】</h2><p>不知不觉，正在经历着一次重大的转变。一直以来，钻研的都是前台与后台的中间交互，现在却在研究后台与数据库的交互。一直以来，主要用的是.net + ms sql，偶尔搭一些php + mysql，现在又涉猎J2EE和Oracle。人生也算完整了，三大主流web语言全部所有染指了。</p>
<p>我曾经说过，我不是廉价的劳动力，也不是一个人工作的机器。</p>
<p>但是那时候，我不知道一个词，叫做公益(Public Welfare)，也不知道一个词，叫做开源(Open Source)。在学校的时候，我大多数时候接各种大小项目，最后除了赚了点钱，没其他什么收获。赚钱干了什么都？吃饭、吃饭、吃饭，胖得跟猪一样。硬盘里已经放了8Gb我写的代码，想来我这前半生所写代码行数应该可以用亿计量了。我的进步非常地缓慢，能有今天这样的成绩，顶多算是因为笨鸟先飞。但其实我看到，大多数码农跟我一样的处境。我不认为我是一个优秀的程序猿，但我愿意引导其他人成为，让我们国家的信息技术得以飞跃，所以我把我的作品开源，让代码如诗。</p>
<p>一直也在提团队，我也曽试图管理一个自己的团队，但已经失败了好几次了。我也加入过几个团队，发展得也并不尽如人意。团队精神的一个重要环节是交流，正好好在我的交流能力很差，有的时候会拖团队的后腿。</p>
<p>总体来说，我觉得我的能力值不低，但是我实现的价值不高。空有学识五车，倒不是因为没有伯乐之才，而是因我态度不够端正。比技术更需要掌握的，是所接触的业务和与团队的合作。</p>
<hr>
<h2 id="【爱情】"><a href="#【爱情】" class="headerlink" title="【爱情】"></a>【爱情】</h2><blockquote>
<p>To have and to hold from this day forward. For better, for worse, for rich, for poor, in health, and in sickness. To love and to cherish, till death, do we part.</p>
</blockquote>
<p>分开事小，纠缠乱大。</p>
<p>我一直想要的爱情，很简单。付出一颗心，收获一颗心，别无他求。</p>
<p>前一段感情，当我付出了一颗心的时候，收获了空欢喜。当终于那么一天心消耗殆尽，痛下决心放弃，收获了更大的伤心。该珍惜时不珍惜，错过了便不会有机会再重新来过。这简单道理谁都应该知道，但是她却给我的生活带来了一道道额外附赠的创伤。</p>
<p>反反复复，重来了又还。没有谁走入我的世界，融入我的生活，便悄然离开了。</p>
<p>下一段感情，我不知道该如何去设想。终于发现，诚如姜太公钓鱼，不是为了等愿者上，而是因为我没有鱼饵。我期待，到无奈。从未曽被捧在掌心，虽然我知道这样并不该，但至少，珍惜。</p>
<p>站在幸福的门外，心里住着爱，但我却感觉空得慌。但……</p>
<p>我还是一个人。我明白我还不够好。<br>但我会等待，一个人，让我珍惜、珍惜我。</p>
<p>To have and to hold,to love and to cherish.<br>For just one girl,and For good.</p>
<p>大德无言，大爱希声。其实还有很多话没有说出来，那就留在岁月中，接受时间的洗礼吧。</p>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>经各方面反思，发现我还没有什么过人之处能被人挖掘。差到如此，还有什么能更差的呢？所以不如开开心心过好以后的每一天。</p>
<p>不求做伟大的人，却要做大写的人，这就是我。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>qTranslate插件日期乱码的解决方案</title>
    <url>/posts/2012/qtranslate-date-formatting/</url>
    <content><![CDATA[<p>当我在Wordpress 3.4.2版本下安装了qTranslate插件之后，发帖时候的日期格式变成了乱码，没有被解析出来:</p>
<pre><code>Posted on %e de %B de %Y by Willin
</code></pre><p>翻看了外国一些论坛找到了一个解决方法:</p>
<a id="more"></a>
<p>编辑 qtranslate_utils.php, 从第 143 行中找到:</p>
<pre><code>$date_parameters[] = &apos;#%#&apos;;     
$strftime_parameters[] = &apos;%%&apos;;
</code></pre><p>修改成:</p>
<pre><code>$date_parameters[] = &apos;#%#&apos;;
$strftime_parameters[] = &apos;%&apos;;
</code></pre><p>插件设置里，依然采用第一个，date()模式，不要改成strftime()或其他什么的。</p>
<p>相关资源</p>
<ul>
<li>官方论坛 <a href="http://www.qianqin.de/qtranslate/forum/viewtopic.php?f=3&amp;t=1573&amp;p=5988#p5988" target="_blank" rel="noopener">http://www.qianqin.de/qtranslate/forum/viewtopic.php?f=3&amp;t=1573&amp;p=5988#p5988</a> 包括了解决方案。</li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>wordpress</tag>
        <tag>plugin</tag>
        <tag>php</tag>
      </tags>
  </entry>
  <entry>
    <title>离别赠言·给连云港电子口岸的发展建议</title>
    <url>/posts/2012/to-lyg-eport/</url>
    <content><![CDATA[<p>从六月份来到EDI，到九月份离开，仅有短暂的三个月时间。感谢领导，和各位同事，在这段时间里，给与我的照顾与教诲。常言道，言多必失，少说话多做事。但就要离开了，我想把这段时间总结的一些心得建议反馈给领导，仅代表个人的意见，望领导能批评指正。</p>
<a id="more"></a>
<hr>
<h2 id="【长期发展建议】"><a href="#【长期发展建议】" class="headerlink" title="【长期发展建议】"></a>【长期发展建议】</h2><ul>
<li>一、能集成，不独立。</li>
<li>二、走“SaaS”服务模式（与现有的SaaS模式略有不同）的路线（向云计算靠拢）。</li>
<li>三、提高服务系统的性能、安全性、用户体验等。</li>
</ul>
<h3 id="【一、集成与独立】"><a href="#【一、集成与独立】" class="headerlink" title="【一、集成与独立】"></a>【一、集成与独立】</h3><p>当公司经手的独立项目数量越多，运营维护就会越来越困难，维护的成本升高那么利润就会降低。</p>
<p><img src="http://w3log.qiniudn.com/wp-content/uploads/2012/10/QQ20120923-1.png" alt="pic-1"></p>
<p>当几个独立的系统相关性、粘和度较高，集成的优势体现在：</p>
<ol>
<li>代码维护 量减少。</li>
<li>数据冗余 量减少。</li>
<li>易于产品化，SaaS化。</li>
</ol>
<p>☆ 我公司虽有EDI中心之名，也有很深的EDI技术基础，但有一些时候（比如，几个需要交互的系统都为我们公司所做，并且所用的数据库表结构相同），可以将系统集成为一个大系统，或者将涉及到的模块整合，共用，减少报文发送接收和入库的相关处理，可以一步到位。</p>
<h3 id="【二、SaaS】"><a href="#【二、SaaS】" class="headerlink" title="【二、SaaS】"></a>【二、SaaS】</h3><p>我个人理解云平台，就是将多个小系统集成、优化，整合成一个大系统，放入云端中，通过对每个用户设置不同的权限，来使其能够进行多种业务的操作（每个业务对应的子系统，也可以看成是功能模块）。所以[云]这个概念，除了分布式一大特点之外，我个人认为，“高度集成”也是一大主要显著特征。云，可以看成是一个大的系统，所有的子系统都只是大系统其中的一个模块（举例：Discuz插件平台）。</p>
<p>虽然公司现在也是以SaaS服务提供商身份对外提供服务，但相对零散。个人总结三点针对点：</p>
<h4 id="一、复用性"><a href="#一、复用性" class="headerlink" title="一、复用性"></a>一、复用性</h4><p><img src="http://w3log.qiniudn.com/wp-content/uploads/2012/10/QQ20120923-2.png" alt="pic-2"></p>
<p>将可复用的代码封装。</p>
<h4 id="二、通用性"><a href="#二、通用性" class="headerlink" title="二、通用性"></a>二、通用性</h4><p>对于Saas B/S结构系统主要为浏览器兼容性。</p>
<p>应当采取的对策是：针对主流，向下兼容。</p>
<p>符合W3C规范，不能以IE 6，7，8作为重点，IE9和其他浏览器反而不能很好支持。</p>
<p>####三、适用性</p>
<p>将可复用的业务功能块集成合并。尽量避免相同的功能在不同的相关系统中重复。</p>
<p>系统结构应当简洁明朗，并且运行速度不能太慢，报错几率不能太高，导致宕机或间歇瘫痪几率不能太高。</p>
<h3 id="【三、性能、安全性、用户体验】"><a href="#【三、性能、安全性、用户体验】" class="headerlink" title="【三、性能、安全性、用户体验】"></a>【三、性能、安全性、用户体验】</h3><h4 id="一、性能优化"><a href="#一、性能优化" class="headerlink" title="一、性能优化"></a>一、性能优化</h4><p>现状：下午4-5点业务量大时，服务器间歇瘫痪。</p>
<p>改善手段：</p>
<ol>
<li>使用缓存，减少数据库连接。</li>
<li>数据库操作优化：优化SQL语句，合并页面中的多个查询等。</li>
</ol>
<h4 id="二、安全性优化"><a href="#二、安全性优化" class="headerlink" title="二、安全性优化"></a>二、安全性优化</h4><p>现状：受以前系统的开发习惯影响，存在诸多SQL注入、跨站攻击、文件上传的漏洞。</p>
<p>若以后贸易市场等系统开放了在线支付接口，存在很大安全隐患。</p>
<h4 id="三、用户体验"><a href="#三、用户体验" class="headerlink" title="三、用户体验"></a>三、用户体验</h4><p>现状：</p>
<ol>
<li>界面风格不统一。</li>
<li>浏览器兼容性差。</li>
</ol>
<p>☆ 用户体验是吸收用户的重要指标之一。</p>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>由于我对港口业务的了解不是很深，所以没有太多从业务角度去分析，确实对业务的理解比技术的实现更加重要。公司中对于港口业务熟悉的同事有很多，而且也有技术高的同事，能够将技术融入到业务过程中去。最后，祝公司越来越壮大！</p>
<p>于2012.9.19</p>
]]></content>
      <categories>
        <category>career</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>suggestion</tag>
      </tags>
  </entry>
  <entry>
    <title>Unix时间戳(Unix timestamp)学习笔记</title>
    <url>/posts/2012/unix-timestamp-notes/</url>
    <content><![CDATA[<h3 id="如何在不同编程语言中获取现在的Unix时间戳-Unix-timestamp-？"><a href="#如何在不同编程语言中获取现在的Unix时间戳-Unix-timestamp-？" class="headerlink" title="如何在不同编程语言中获取现在的Unix时间戳(Unix timestamp)？"></a>如何在不同编程语言中获取现在的Unix时间戳(Unix timestamp)？</h3><a id="more"></a>
<table><br><tbody><br><tr><br><td>Java</td><br><td>time</td><br></tr><br><tr><br><td>JavaScript</td><br><td>Math.round(new Date().getTime()/1000)<br><br><span>getTime()返回数值的单位是毫秒</span></td><br></tr><br><tr><br><td>Microsoft .NET / C#</td><br><td>epoch = (DateTime.Now.ToUniversalTime().Ticks - 621355968000000000) / 10000000</td><br></tr><br><tr><br><td>MySQL</td><br><td>SELECT unix_timestamp(now())</td><br></tr><br><tr><br><td>Perl</td><br><td>time</td><br></tr><br><tr><br><td>PHP</td><br><td>time()</td><br></tr><br><tr><br><td>PostgreSQL</td><br><td>SELECT extract(epoch FROM now())</td><br></tr><br><tr><br><td>Python</td><br><td><span>先</span> import time <span>然后</span> time.time()</td><br></tr><br><tr><br><td>Ruby</td><br><td><span>获取Unix时间戳：</span>Time.now <span>或</span> Time.new<br><br><span>显示Unix时间戳：</span>Time.now.to_i</td><br></tr><br><tr><br><td>SQL Server</td><br><td>SELECT DATEDIFF(s, ‘1970-01-01 00:00:00’, GETUTCDATE())</td><br></tr><br><tr><br><td>Unix / Linux</td><br><td>date +%s</td><br></tr><br><tr><br><td>VBScript / ASP</td><br><td>DateDiff(“s”, “01/01/1970 00:00:00”, Now())</td><br></tr><br><tr><br><td>其他操作系统<br><br><span style="font-weight: normal; font-size: 12px;">(如果Perl被安装在系统中)</span></td><br><td><span>命令行状态：</span>perl -e “print time”</td><br></tr><br></tbody><br></table>

<h3 id="如何在不同编程语言中实现Unix时间戳-Unix-timestamp-→-普通时间？"><a href="#如何在不同编程语言中实现Unix时间戳-Unix-timestamp-→-普通时间？" class="headerlink" title="如何在不同编程语言中实现Unix时间戳(Unix timestamp) → 普通时间？"></a>如何在不同编程语言中实现Unix时间戳(<em>Unix timestamp</em>) → 普通时间？</h3><table class="getcurrentunixtimetable"><br><tbody><br><tr><br><td>Java</td><br><td>String date = new java.text.SimpleDateFormat(“dd/MM/yyyy HH:mm:ss”).format(new java.util.Date(<span style="text-decoration: underline;">Unix timestamp</span> <em> 1000))</em></td><br></tr><br><tr><br><td>JavaScript</td><br><td><span>先</span> var unixTimestamp = new Date(<span style="text-decoration: underline;">Unix timestamp</span>  1000) <span>然后</span> commonTime = unixTimestamp.toLocaleString()</td><br></tr><br><tr><br><td>Linux</td><br><td>date -d @<span style="text-decoration: underline;">Unix timestamp</span></td><br></tr><br><tr><br><td>MySQL</td><br><td>from_unixtime(<span style="text-decoration: underline;">Unix timestamp</span>)</td><br></tr><br><tr><br><td>Perl</td><br><td><span>先</span> my $time = <span style="text-decoration: underline;">Unix timestamp</span> <span>然后</span> my ($sec, $min, $hour, $day, $month, $year) = (localtime($time))[0,1,2,3,4,5,6]</td><br></tr><br><tr><br><td>PHP</td><br><td>date(‘r’, <span style="text-decoration: underline;">Unix timestamp</span>)</td><br></tr><br><tr><br><td>PostgreSQL</td><br><td>SELECT TIMESTAMP WITH TIME ZONE ‘epoch’ + <span style="text-decoration: underline;">Unix timestamp</span>) * INTERVAL ‘1 second’;</td><br></tr><br><tr><br><td>Python</td><br><td><span>先</span> import time <span>然后</span> time.gmtime(<span style="text-decoration: underline;">Unix timestamp</span>)</td><br></tr><br><tr><br><td>Ruby</td><br><td>Time.at(<span style="text-decoration: underline;">Unix timestamp</span>)</td><br></tr><br><tr><br><td>SQL Server</td><br><td>DATEADD(s, <span style="text-decoration: underline;">Unix timestamp</span>, ‘1970-01-01 00:00:00’)</td><br></tr><br><tr><br><td>VBScript / ASP</td><br><td>DateAdd(“s”, <span style="text-decoration: underline;">Unix timestamp</span>, “01/01/1970 00:00:00”)</td><br></tr><br><tr><br><td>其他操作系统<br><br><span style="font-weight: normal; font-size: 12px;">(如果Perl被安装在系统中)</span></td><br><td><span>命令行状态：</span>perl -e “print scalar(localtime(<span style="text-decoration: underline;">Unix timestamp</span>))”</td><br></tr><br></tbody><br></table>

<h3 id="如何在不同编程语言中实现普通时间-→-Unix时间戳-Unix-timestamp-？"><a href="#如何在不同编程语言中实现普通时间-→-Unix时间戳-Unix-timestamp-？" class="headerlink" title="如何在不同编程语言中实现普通时间 → Unix时间戳(Unix timestamp)？"></a>如何在不同编程语言中实现普通时间 → Unix时间戳(<em>Unix timestamp</em>)？</h3><table><br><tbody><br><tr><br><td>Java</td><br><td>long epoch = new java.text.SimpleDateFormat(“<span style="text-decoration: underline;">dd/MM/yyyy HH:mm:ss</span>“).parse(“01/01/1970 01:00:00”);</td><br></tr><br><tr><br><td>JavaScript</td><br><td>var commonTime = new Date(Date.UTC(<span style="text-decoration: underline;">year</span>, <span style="text-decoration: underline;">month</span> - 1, <span style="text-decoration: underline;">day</span>, <span style="text-decoration: underline;">hour</span>, <span style="text-decoration: underline;">minute</span>, <span style="text-decoration: underline;">second</span>))</td><br></tr><br><tr><br><td>MySQL</td><br><td>SELECT unix_timestamp(<span style="text-decoration: underline;">time</span>)<br><br><span>时间格式: YYYY-MM-DD HH:MM:SS 或 YYMMDD 或 YYYYMMDD</span></td><br></tr><br><tr><br><td>Perl</td><br><td><span>先</span> use Time::Local <span>然后</span> my $time = timelocal($sec, $min, $hour, $day, $month, $year);</td><br></tr><br><tr><br><td>PHP</td><br><td>mktime(<span style="text-decoration: underline;">hour</span>, <span style="text-decoration: underline;">minute</span>, <span style="text-decoration: underline;">second</span>, <span style="text-decoration: underline;">day</span>, <span style="text-decoration: underline;">month</span>, <span style="text-decoration: underline;">year</span>)</td><br></tr><br><tr><br><td>PostgreSQL</td><br><td>SELECT extract(epoch FROM date(‘<span style="text-decoration: underline;">YYYY-MM-DD HH:MM:SS</span>‘));</td><br></tr><br><tr><br><td>Python</td><br><td><span>先</span> import time <span>然后</span> int(time.mktime(time.strptime(‘<span style="text-decoration: underline;">YYYY-MM-DD HH:MM:SS</span>‘, ‘%Y-%m-%d %H:%M:%S’)))</td><br></tr><br><tr><br><td>Ruby</td><br><td>Time.local(<span style="text-decoration: underline;">year</span>, <span style="text-decoration: underline;">month</span>, <span style="text-decoration: underline;">day</span>, <span style="text-decoration: underline;">hour</span>, <span style="text-decoration: underline;">minute</span>, <span style="text-decoration: underline;">second</span>)</td><br></tr><br><tr><br><td>SQL Server</td><br><td>SELECT DATEDIFF(s, ‘1970-01-01 00:00:00’, <span style="text-decoration: underline;">time</span>)</td><br></tr><br><tr><br><td>Unix / Linux</td><br><td>date +%s -d”Jan 1, 1970 00:00:01”</td><br></tr><br><tr><br><td>VBScript / ASP</td><br><td>DateDiff(“s”, “01/01/1970 00:00:00”, <span style="text-decoration: underline;">time</span>)</td><br></tr><br></tbody><br></table>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>unix</tag>
      </tags>
  </entry>
  <entry>
    <title>IIS环境下PHP重写设置(支持中文参数)</title>
    <url>/posts/2012/iis-php-rewrite-config/</url>
    <content><![CDATA[<p>在网站根目录下加入:</p>
<a id="more"></a>
<p>Web.Config:</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding=”UTF-8″?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">rewrite</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">rules</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"cnUrl"</span> <span class="attr">stopProcessing</span>=<span class="string">"true"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">match</span> <span class="attr">url</span>=<span class="string">"!^(index\.php|images|assets|robots\.txt)"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Rewrite"</span> <span class="attr">url</span>=<span class="string">"cnurl.php"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">rule</span> <span class="attr">name</span>=<span class="string">"Default"</span> <span class="attr">patternSyntax</span>=<span class="string">"Wildcard"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">match</span> <span class="attr">url</span>=<span class="string">"*"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">conditions</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;REQUEST_FILENAME&#125;"</span> <span class="attr">matchType</span>=<span class="string">"IsFile"</span> <span class="attr">negate</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">add</span> <span class="attr">input</span>=<span class="string">"&#123;REQUEST_FILENAME&#125;"</span> <span class="attr">matchType</span>=<span class="string">"IsDirectory"</span> <span class="attr">negate</span>=<span class="string">"true"</span> /&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">conditions</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">action</span> <span class="attr">type</span>=<span class="string">"Rewrite"</span> <span class="attr">url</span>=<span class="string">"index.php"</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">rule</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">rules</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rewrite</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>cnurl.php:</p>
<pre><code class="php"><span class="meta">&lt;?php</span>
<span class="keyword">if</span> (<span class="keyword">isset</span>($_SERVER[<span class="string">'HTTP_X_ORIGINAL_URL'</span>])) {
   <span class="comment">// IIS Mod-Rewrite</span>
   $_SERVER[<span class="string">'REQUEST_URI'</span>] = $_SERVER[<span class="string">'HTTP_X_ORIGINAL_URL'</span>];
} <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">isset</span>($_SERVER[<span class="string">'HTTP_X_REWRITE_URL'</span>])) {
   <span class="comment">// IIS Isapi_Rewrite</span>
   $_SERVER[<span class="string">'REQUEST_URI'</span>] = $_SERVER[<span class="string">'HTTP_X_REWRITE_URL'</span>];
} <span class="keyword">else</span> {
   <span class="comment">// Use ORIG_PATH_INFO if there is no PATH_INFO</span>
   (!<span class="keyword">isset</span>($_SERVER[<span class="string">'PATH_INFO'</span>]) &amp;&amp; <span class="keyword">isset</span>($_SERVER[<span class="string">'ORIG_PATH_INFO'</span>])) &amp;&amp; ($_SERVER[<span class="string">'PATH_INFO'</span>] = $_SERVER[<span class="string">'ORIG_PATH_INFO'</span>]);
   <span class="comment">// Some IIS + PHP configurations puts the script-name in the path-info (No need to append it twice)</span>
   <span class="keyword">if</span> (<span class="keyword">isset</span>($_SERVER[<span class="string">'PATH_INFO'</span>])) {
       ($_SERVER[<span class="string">'PATH_INFO'</span>] == $_SERVER[<span class="string">'SCRIPT_NAME'</span>]) ? ($_SERVER[<span class="string">'REQUEST_URI'</span>] = $_SERVER[<span class="string">'PATH_INFO'</span>]) : ($_SERVER[<span class="string">'REQUEST_URI'</span>] = $_SERVER[<span class="string">'SCRIPT_NAME'</span>] . $_SERVER[<span class="string">'PATH_INFO'</span>]);
   }
   <span class="comment">// Append the query string if it exists and isn't null</span>
(<span class="keyword">isset</span>($_SERVER[<span class="string">'QUERY_STRING'</span>]) &amp;&amp; !<span class="keyword">empty</span>($_SERVER[<span class="string">'QUERY_STRING'</span>])) &amp;&amp; ($_SERVER[<span class="string">'REQUEST_URI'</span>] .= <span class="string">'?'</span> . $_SERVER[<span class="string">'QUERY_STRING'</span>]);
}
<span class="keyword">require</span>(<span class="string">"index.php"</span>);
</code></pre>
<p>支持IIS环境下跑各种开源PHP项目，如：Wordpress、Emlog、Typecho等。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>iis</tag>
      </tags>
  </entry>
  <entry>
    <title>Marathon Tool 汉化版，基于时间的SQL盲注工具</title>
    <url>/posts/2012/marathon-tool/</url>
    <content><![CDATA[<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>此为Marathon Tool 盲注工具汉化版，源码开源，原作者：Daniel Kachakil 、Chema Alonso、Alejandro Martín。</p>
<p>汉化：Willin Wang，仅供交流。</p>
<p>下载地址：<a href="http://willin.org/wp-content/uploads/2012/11/marathontool.zip" target="_blank" rel="noopener">marathontool.zip</a> (中/英两个版本)</p>
<a id="more"></a>
<p><img src="http://code.msdn.microsoft.com/site/view/file/71397/1/QQ%E6%88%AA%E5%9B%BE20121129173537.png" alt></p>
<p>调试环境：</p>
<p>Visual Studio 2012， VB.net (4.5推荐)，无需数据库。</p>
<p>目标框架：.net framework 2.0。</p>
<p>源码下载：<a href="http://code.msdn.microsoft.com/Marathon-Tool-c2e0f4a4" target="_blank" rel="noopener">http://code.msdn.microsoft.com/Marathon-Tool-c2e0f4a4</a></p>
<p><strong>项目介绍</strong></p>
<p>Marathon Tool 是一款基于时间的SQL注入工具。支持 Microsoft SQL Server, Microsoft Access, MySQL 或 Oracle Databases.</p>
<p><strong>支持特性:</strong></p>
<ul>
<li>数据库摘要获取 SQL Server, Oracle, MySQL</li>
<li>数据获取 Microsoft Access 97/2000/2003/2007</li>
<li>参数注入 GET /  POST</li>
<li>SSL 支持</li>
<li>HTTP 代理</li>
<li>授权: Anonymous, Basic, Digest and NTLM</li>
<li>其他</li>
</ul>
<p><strong>参考盲注资料</strong></p>
<ul>
<li><a href="http://technet.microsoft.com/en-us/library/cc512676.aspx" target="_blank" rel="noopener">http://technet.microsoft.com/en-us/library/cc512676.aspx</a></li>
</ul>
]]></content>
      <categories>
        <category>hack</category>
      </categories>
      <tags>
        <tag>sql</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>CodeIgniter邮件SMTP发送响应超时配置解决方案</title>
    <url>/posts/2012/codeigniter-smtp/</url>
    <content><![CDATA[<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>本地环境配置QQ企业邮箱的SMTP后，发送邮件的时候总是一直在等待等待，没有响应。用php函数发送的时候则是瞬间完成。在网上找了一下，发现了有类似的问题，提示为：</p>
<p><strong>Fatal error: Maximum execution time of 60 seconds exceeded in xxx </strong></p>
<a id="more"></a>
<p>即执行超时。是由换行符导致的错误。</p>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$config[<span class="string">'newline'</span>] = <span class="string">"\r\n"</span>;</span><br><span class="line">$config[<span class="string">'crlf'</span>] = <span class="string">"\r\n"</span>;</span><br></pre></td></tr></table></figure>
<p>将配置文件中加入以上两个配置属性。</p>
<p>英文论坛原文：<a href="http://ellislab.com/forums/viewthread/88690/" target="_blank" rel="noopener">http://ellislab.com/forums/viewthread/88690/</a></p>
<blockquote>
<p>I concur with Soar. I was having that Max execution time probleme when trying to send email through SMTP using a Windows 2008 server with MailEnable. I then change my parameters and used my FC6 Unix server with Exam as the MTA and it worked right away.</p>
<p>EDIT: I added these 2 lines:</p>
</blockquote>
<pre><code>$config[&apos;newline&apos;]=&quot;\r\n&quot;;
$config[&apos;crlf&apos;]=&quot;\r\n&quot;; 
</code></pre><blockquote>
<p>and it started working right away with my Windows server.</p>
</blockquote>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>php</tag>
        <tag>codeigniter</tag>
      </tags>
  </entry>
  <entry>
    <title>AJAX U Need 2 Know (AJAX常见误区整理)</title>
    <url>/posts/2012/ajax-u-need-2-know/</url>
    <content><![CDATA[<h3 id="CORRECT-your-BAD-habits-on-AJAX-development"><a href="#CORRECT-your-BAD-habits-on-AJAX-development" class="headerlink" title="CORRECT your BAD habits on AJAX development"></a>CORRECT your BAD habits on AJAX development</h3><p>为了更好的用户体验和系统性能。本项目所有AJAX示例代码基于jQuery 1.8.3。</p>
<a id="more"></a>
<h4 id="示例一：基于表单"><a href="#示例一：基于表单" class="headerlink" title="示例一：基于表单"></a>示例一：基于表单</h4><p>不要直接使用button按钮的onclick点击事件。(那浏览器禁用JavaScript了的话怎么办呢？)</p>
<h4 id="示例二：含广告页面"><a href="#示例二：含广告页面" class="headerlink" title="示例二：含广告页面"></a>示例二：含广告页面</h4><p>当页面中含有Adsense等js广告的时候,最好的方法是用符合W3C规范的object容器包裹.</p>
<h4 id="示例三：PJAN"><a href="#示例三：PJAN" class="headerlink" title="示例三：PJAN"></a>示例三：PJAN</h4><p>PJAN= HTML5 PushState + AJAX + JSON.</p>
<h5 id="系统截图"><a href="#系统截图" class="headerlink" title="系统截图"></a>系统截图</h5><p><img src="http://code.msdn.microsoft.com/site/view/file/71200/1/QQ%E6%88%AA%E5%9B%BE20121126141052.png" alt></p>
<p><img src="http://code.msdn.microsoft.com/site/view/file/71201/1/QQ%E6%88%AA%E5%9B%BE20121126141108.png" alt></p>
<p><a href="http://willin.org/wp-content/uploads/2012/11/ajax-u-need2know-ads.png" target="_blank" rel="noopener"><img src="http://w3log.qiniudn.com/wp-content/uploads/2012/11/ajax-u-need2know-ads-300x192.png" alt="ajax-u-need2know-ads" title="ajax-u-need2know-ads"></a></p>
<p>演示项目环境：Visual Studio 2012  / .NET Framework 4.5 / MVC 4</p>
<p>纠正你的AJAX开发习惯。欢迎交流。</p>
<p>MSDN：<a href="http://code.msdn.microsoft.com/AJAX-U-Need-2-KnowAJAX-ef2df43f" target="_blank" rel="noopener">http://code.msdn.microsoft.com/AJAX-U-Need-2-KnowAJAX-ef2df43f</a></p>
<p>Last Updated: 2012-12-11</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>asp.net</tag>
        <tag>jquery</tag>
        <tag>ajax</tag>
      </tags>
  </entry>
  <entry>
    <title>保护你的WordPress，隐藏真实评论Meta信息</title>
    <url>/posts/2012/wordpress-comment-meta-info/</url>
    <content><![CDATA[<h3 id="隐藏Wordpress评论的真实ip和user-agent信息"><a href="#隐藏Wordpress评论的真实ip和user-agent信息" class="headerlink" title="隐藏Wordpress评论的真实ip和user agent信息"></a>隐藏Wordpress评论的真实ip和user agent信息</h3><p><img src="http://w3log.qiniudn.com/wp-content/uploads/2012/12/hide-info-wordpress-comment.png" alt="hide-info-wordpress-comment"></p>
<a id="more"></a>
<h4 id="代码位置"><a href="#代码位置" class="headerlink" title="代码位置:"></a>代码位置:</h4><p>wp_includes/comment.php</p>
<h4 id="所属方法"><a href="#所属方法" class="headerlink" title="所属方法:"></a>所属方法:</h4><p>wp_new_comment</p>
<h4 id="行号"><a href="#行号" class="headerlink" title="行号:"></a>行号:</h4><p>1390-1391</p>
<h4 id="源代码"><a href="#源代码" class="headerlink" title="源代码"></a>源代码</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line">$commentdata[<span class="string">'comment_author_IP'</span>] = preg_replace( <span class="string">'/[^0-9a-fA-F:., ]/'</span>, <span class="string">''</span>,$_SERVER[<span class="string">'REMOTE_ADDR'</span>] );</span><br><span class="line">$commentdata[<span class="string">'comment_agent'</span>] = substr($_SERVER[<span class="string">'HTTP_USER_AGENT'</span>], <span class="number">0</span>, <span class="number">254</span>);</span><br></pre></td></tr></table></figure>
<h4 id="之后添加"><a href="#之后添加" class="headerlink" title="之后添加"></a>之后添加</h4><figure class="highlight php"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>($commentdata[<span class="string">'user_id'</span>]==<span class="number">1</span>)&#123;  <span class="comment">//一般情况admin的id是1，情侣博客加个或等于2即可</span></span><br><span class="line"> 	$commentdata[<span class="string">'comment_author_IP'</span>] = <span class="string">'1.1.1.1'</span>; <span class="comment">//我会告诉你我填的什么吗</span></span><br><span class="line">	$commentdata[<span class="string">'comment_agent'</span>] = <span class="string">'Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.1 (KHTML, like Gecko) Chrome/21.0.1180.89 Safari/537.1'</span>;<span class="comment">//我会告诉你我填的什么吗</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>hack</category>
      </categories>
      <tags>
        <tag>wordpress</tag>
        <tag>php</tag>
        <tag>security</tag>
      </tags>
  </entry>
  <entry>
    <title>梦想清单8号：王之琳Willin</title>
    <url>/posts/2013/dream-list/</url>
    <content><![CDATA[<p>给捕梦者的投稿：</p>
<h2 id="1-建立一个家"><a href="#1-建立一个家" class="headerlink" title="1.建立一个家"></a>1.建立一个家</h2><p>找一个能够相亲相爱的人，一起过完一辈子。</p>
<h2 id="2-在家工作，经常出去旅游"><a href="#2-在家工作，经常出去旅游" class="headerlink" title="2.在家工作，经常出去旅游"></a>2.在家工作，经常出去旅游</h2><p>当然，如果能不工作就养家最好，但这不现实，还好我学的这行对工作地点没有要求，哪里有网，哪里就是我的办公室。</p>
<a id="more"></a>
<h2 id="3-通过自己的努力，买辆兰博基尼"><a href="#3-通过自己的努力，买辆兰博基尼" class="headerlink" title="3.通过自己的努力，买辆兰博基尼"></a>3.通过自己的努力，买辆兰博基尼</h2><p>虽然这一条是可有可无的奢侈追求，但人要为自己的话负责。儿时吹的牛B，也是得兑现的。</p>
<h2 id="4-实现自己的价值"><a href="#4-实现自己的价值" class="headerlink" title="4.实现自己的价值"></a>4.实现自己的价值</h2><p>作为一个抱着键盘长大的孩子，我一直对电脑充满了热情。我也曾以为我会一直从事这一类的工作，但是经常坐在电脑前让我觉得在慢慢提前死亡。所以我希望在年轻的这几年内做些成果出来，实现我对IT的价值，然后转型。</p>
<h2 id="5-帮助未来的她实现她的梦想"><a href="#5-帮助未来的她实现她的梦想" class="headerlink" title="5.帮助未来的她实现她的梦想"></a>5.帮助未来的她实现她的梦想</h2><p>谁都有自己的理想，我以前总是很自私地想要取得这个成绩那个成就。如果我有足够的时间，我想这些都是很容易获得的。但我的生命不只属于我自己，还有我的亲人，爱人。我现在没有其他什么奢望，我的理想就是协助她，实现她的理想。</p>
<h2 id="6-出版几本不同类别的书"><a href="#6-出版几本不同类别的书" class="headerlink" title="6.出版几本不同类别的书"></a>6.出版几本不同类别的书</h2><p>我一直想当一个作家，曽自诩为写代码的诗人。我有一本没写完的自传体小说《真惜CheriShe》，虽然搁置了很久，但在未来的日子里，会慢慢把她写完。目前正在写一本AJAX技术的教程。</p>
<h2 id="7-陪父母走完他们苍老的年岁"><a href="#7-陪父母走完他们苍老的年岁" class="headerlink" title="7.陪父母走完他们苍老的年岁"></a>7.陪父母走完他们苍老的年岁</h2><p>父母在，不远行。可能未来肩上承担的是一家三口，外加4个老人。我希望能让操劳一生的爸妈安享晚年，并让他们认可我的成就，以我为荣。</p>
<h2 id="8-教育一个自立、自信的孩子"><a href="#8-教育一个自立、自信的孩子" class="headerlink" title="8.教育一个自立、自信的孩子"></a>8.教育一个自立、自信的孩子</h2><p>有的时候我觉得自己很失败，很难与人相处，很难克服困难，不自信，不能坚持。我希望我的孩子在这点上不要像我，我不会只重视文化的教育。更重要的，是要他做一个正直而大写的人。</p>
<p>P.S.<br>本文写于2011年初。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
      </tags>
  </entry>
  <entry>
    <title>北京，我将要离开你。挥别66脑</title>
    <url>/posts/2013/goodbye-beijing-goodbye-66nao/</url>
    <content><![CDATA[<p>其实我不怎么喜欢北京，不是因为北京的人情不好，而是这里的环境太恶劣了。自从来了这里，每天都是在拉肚子中度过，每次刷牙都是满嘴的血沫子，指甲盖也劈了好几次。</p>
<p>终于，我选择了离开北京。也离开我现在所在的团队。我们的团队是一群很出色的人聚集的团队，我们的产品却一直迟迟没有上线。作为技术合伙人，我和经理华东在对产品的定位上有着很大的偏差。人生嘛难免有分歧，谁都是有理想有抱负的人。完美的东西，我们谁都想追求，只是代价太高，时间太长。只是歧路坎坷，没有必要太过计较对与错。我尊重华东，更尊重华东想要的完美产品，只是我的能力给不了他。所以，也差不多该是离开的时候了。</p>
<a id="more"></a>
<hr>
<p>我已经不只一次提出建议，我们的脑训练产品应该先有产品的核心价值，实现一套完整的商业模式，才是第一步的工作重心。具体可以通过技术方面的深入，来提升我们产品的价值。零零散散提过许多想法，好好总结一下：</p>
<h2 id="一、数据库设计优化环节建议"><a href="#一、数据库设计优化环节建议" class="headerlink" title="一、数据库设计优化环节建议"></a>一、数据库设计优化环节建议</h2><p>最吸引我加入智精灵教育科技团队的，不是待遇的优厚，不是福利的完整。而是大脑信息库相关的介绍。从我来这里之前我就强调了，数据的价值是不可斗量的。我希望我的工作重心都放在数据库上，比如从一开始就对数据库进行设计，避免冗余数据。但是我们从来不讨论数据库优化的环节，甚至不过问数据查询的优化，和数据采集的细节。当然，我们有足够的理由忽略这个环节。我们需要上线，那么实现功能即可。这样的话，不仅会产生大量的冗余数据，也会忽略很多关键数据的采集。</p>
<p>虽然华东说，我们不用管未来大数据量时候的事情，到时候重新设计，再做转移。我确实不逊地反驳了他很多，但是这句没有。因为这确实是能够实现的，但代价有多大，懂点技术的人应该都会了解。或许冗余的数据在转移的时候不会造成太大的影响，但数据的一致性、完整性该如何保证？我举个例子，当我们在脑信息库（转移后的新数据库）中需要分析某个年龄段某种职业下的人群的某种脑能力分布情况，而我们在测评中的数据，和用户信息库中年龄、职业信息不能够一一对应的时候，这些数据还有价值吗？我只是举一个例子，或许这样的事情不会发生，但难免会有同类的问题出现。如果这样的话，那我们的人群中的排名就只能依赖公式猜想的正态分布值来估算吗，那真正精确的分布曲线该怎么从我们已有的数据中计算出来呢？</p>
<hr>
<h2 id="二、性能优化环节建议"><a href="#二、性能优化环节建议" class="headerlink" title="二、性能优化环节建议"></a>二、性能优化环节建议</h2><p>我在本地的测试环境上，经常会出现这样的情况，一个页面加载了好几秒才能够完成。那么产品上线之后面对大量用户该怎么办？平均每个页面都会有很多次的查询，比如顶部的导航栏，边栏，训练里面的数据查询，可能还有底部和其他，往往一个页面对数据库的查询多达几十次。当然，用Ucenter本身是可以静态化来提高速度的。但是反复的数据查询、提交，当用户稍微有些累积的时候，可能就会出现问题。当然，我们依然有足够的理由忽略这个环节。我们需要上线，那么功能实现即可。</p>
<p>反正99%的网站在遇到性能问题之前已经死了，所以只要功能实现了就行。那么，我们真的就只是奔着那99%的路去的？这个问题其实根本没有讨论的空间，因为轶平也总是说，功能实现了就行。到时候再说吧。那好吧，也放放。</p>
<hr>
<h2 id="三、原型先上线的建议"><a href="#三、原型先上线的建议" class="headerlink" title="三、原型先上线的建议"></a>三、原型先上线的建议</h2><p>其实我并不确切了解之前产品的进度是什么样，我也觉得没有太多必要去过问。因为我看过开始给我的一些文档，觉得实现起来并不困难。而且，约定了封闭开发一个月，清明节之前上线。虽然我也感觉有点紧，但是稍微加加班，赶赶进度，也是能完成的。当然，我说的这是在没有加所谓的角色和情节之前。后来，给训练程序加上了角色和情节，就很随意的，一个月的工期变成了两个月，而且我们也都很明白，两个月，其实也很紧张，几乎是没有太大希望能在五月初上线的。我也给华东举过很多小工作室和微博应用成功的例子，最初上线的只是一个简单的原型，比如微博统计的应用，最初很粗糙，而且速度也很慢，但是它的特色吸引了很多用户。后来，才不断美化，不断优化，变成了一个既好看又效率高的微博管理应用。</p>
<p>华东想要一个完整的产品，这个想法是好的。既好玩，又能体现科学性，第一版能够这样上线也确实不错。但是科学性的体现，我个人觉得，真的没有办法从所谓的正反馈中彰显出来。对了一题得了10分就得了10分吧，非要闪个动画蹦一下消失掉，非要给个小星星，其实一开始还想要小星星飞出来的动画效果，还要给小闪电。不是我不愿意做这些花里胡哨的东西，只是我真的没有弄明白，加上这些东西，我们的产品就有科学性了？而且，得了多少闪电，得了几颗星星，最后训练完了是不会提交到数据库的。训练程序其实早就做好了，但为了正反馈需要根据反应时间而加上闪电的奖励，去大动干戈，这除了让产品不断推迟上线，还能有什么其他立即能看到的效果呢？</p>
<p>正反馈的最终效果究竟怎么样，这个我不好给评价，但眼下推迟一天上线，产品的价值变减少一分，这个我个人觉得非常严重的一个问题，我真心建议领导能够多多关注一下。而且另外，我还想多分享一点个人的见解。常言道，萝卜青菜，各有所爱。我其实也建议过，先不加角色和情节。等到以后改版重做的时候，再把这些好的创意融入到下一个版本的产品中去。 这不仅仅是为了提前交工，也是根据长尾理论触发来考虑的。</p>
<p>摘一段百度百科的解释先：</p>
<blockquote>
<p>长尾理论（The Long Tail）是网络时代兴起的一种新理论，由美国人克里斯·安德森提出。长尾理论认为，由于成本和效率的因素，当商品储存流通展示的场地和渠道足够宽广，商品生产成本急剧下降以至于个人都可以进行生产，并且商品的销售成本急剧降低时，几乎任何以前看似需求极低的产品，只要有卖，都会有人买。这些需求和销量不高的产品所占据的共同市场份额，可以和主流产品的市场份额 相比，甚至更大。</p>
</blockquote>
<p>过去人们只能关注重要的人或重要的事，如果用正态分布曲线来描绘这些人或事，人们只能关注曲线的“头部”，而将处于曲线“尾部”、需要更多的精力和成本才能关注到的大多数人或事忽略。例如，在销售产品时，厂商关注的是少数几个所谓“VIP”客户，“无暇”顾及在人数上居于大多数的普通消费者。而在网络时代，由于关注的成本大大降低，人们有可能以很低的成本关注正态分布曲线的“尾部”，关注“尾部”产生的总体效益甚至会超过“头部”。例如，某著名网站是世界上最大的网络广告商，它没有一个大客户，收入完全来自被其他广告商忽略的中小企业。安德森认为，网络时代是关注“长尾”、发挥“长尾”效益的时代。</p>
<p>出于对互联网的了解，我觉得数据非常重要，这也导致了用户的重要性，因为数据的来源主要是用户。既然萝卜青菜各有所爱，那么为何不在第一版产品中，训练产品都已原型的形式出现？虽然略显枯燥，但这是训练本身，虽然不可能让用户喜欢，但如果对此反感，即使再好的角色情节设计，他也不会坚持玩，因为他就是反感这个训练。当然，聪明的人明显能从这话里发现破绽，因为角色情节的设计吸引他来玩也是可能的。但注意我也有加限定词，是坚持，不可能坚持，因为他对训练本身没有任何兴趣。反过来，一些用户可能会因为设计的角色、情节不对他们的胃口，也连坐反感我们的训练程序，使之不能坚持下去。这岂不是出力不讨好的一件事情吗？</p>
<p>我听说了，之前也调查过一批人，将产品打回来，说没什么兴趣，那个我也看过，确实不能提起任何兴趣。但这跟训练没有什么关系，跟有没有角色和情节也没有任何关系，只是界面的人机交互用户体验实在是太差。简单说，就是丑，太简陋。其实现在这个模板框架的设计已经很大气了，训练程序只要简单的UI美化一下，完全可以作为第一个版本上线来接受市场的考验。在没有任何用户的时候，应该优先考虑的是将用户最大化，哪怕只是来玩一次两次，至少也算个有效用户了，而不是说为了用户粘度，在没有用户基础的时候就放弃掉一部分用户，来黏住小部分用户。我曾经经常在说感情的时候会说，普遍撒网，重点捞鱼也是这样的道理，你要先撒大网捞，然后才去考虑扔掉你不想要的小鱼啊。一开始就有针对性地撒个小网，怎么可能捞上许多大鱼呢对不对？</p>
<hr>
<h2 id="四、关于技术选用的建议"><a href="#四、关于技术选用的建议" class="headerlink" title="四、关于技术选用的建议"></a>四、关于技术选用的建议</h2><p>确实，创业初期资金是一个很大的问题。我能理解，但我也经常对华东说这样一句话：为了赶进度而采用一些比较容易上手的技术，往往只会让进度拖延；同样，为了解决成本而采用一些跨平台的技术，往往也不能真的把成本节约下来，并且很可能就根本实现不了理想中要的效果。对于技术的选用，在公司里我应该最有发言权。因为我接触编程非常早，从小学，turbo basic，到现在公司用的php，和公司没有用的其他主流技术。我没有说我们用的哪种技术不好，也没有说哪种技术非常好非用不可。同样，我也并没有为了图方便而让公司多浪费钱，也没有为了追求完美而要加大投入成本。所以，对于技术的选用，我多分享一些我的心得，毕竟是个技术人嘛。</p>
<p>首先，是UC Home和PHP用不用的问题。我的答案是PHP可以用，也可以不用，但UC Home是完全没必要用的。不仅仅是因为基于UC Home的二次开发对训练和测评的功能性扩展有着很大的束缚，还有UC Home本身是一个社交类的产品，而我们的产品主要特色并不在社交关键词上，便会有一种本末倒置的感觉。现有的社交类产品非常多，那么我们在融入社交元素的时候，也要考虑到社交环节的特色。不然的话，不仅不能够提高用户的粘度，反而会适得其反。PHP也还行，但是我更加推荐用ASP.NET，我觉得更贴近我们的开发。Visual Studio自带的代码提示功能和TFS代码控制非常方便，而且我们对于数据库的设计不明确，这对用ASP.NET分层模式开发来讲，比PHP中对封装的修改要方便得多，甚至可以利用工具生成代码，而降低工作量。</p>
<p>其次，是关于HTML5和Flash的。flash确实是一种快要落伍的技术，而且我也压根懒得去了解它，但不代表它现在已经落伍了。同时，html5的兼容性非常差，毕竟它是一门未来技术。几年后的互联网，一定是属于它的，但现在，这一天并没有到来。这也是为什么Lumosity中使用了大量的HTML5来提升用户体验，但训练程序依然是用Flash做的原因之一。如果我们率先采用HTML5或JS来实现训练测评的全部功能，那在Flash训练测评的基础之上，效果会更好。所以，在放弃Flash的时候，其实我们就已经把IE 6、7、8和360 XX浏览器也一起放弃掉了。不然，想想，又能兼容各种智能手机，又想兼容IE和什么360，怎么可能？当然也是可能的，但是做这样那样的Hack，成本真的会比用Flash还低吗？而且效率真的会高过Flash？当然不能只是说运行的效率，运行效率或许JS在Client上会快很多，但崩溃的几率也大，还有不容忽视的，就是开发效率。HTML5 的硬伤就是没有开发调试的IDE（JS也差不多，根本找不到一个好的IDE），一下子Flash又可以沾沾自喜出来了，如果它真的没什么优势的话，我想它今天已经不存在了。而且，即使是较新的一些不是主流的浏览器，也不能完全兼容HTML5和CSS3的大部分特性，虽然CSS3能够实现很多动画的效果。而且对于用户体验来讲，目前使用JS这种训练测评程序，会有很大的硬伤，暂时还是没法跟Flash实现的东西拼的。所以，我至今不是很明白到底是出于什么原因我们的产品把Flash给淘汰掉了。但也就只是不明白，想想而已。</p>
<p>然后，就是PhoneGap。PhoneGap和HTML5类似，它也是属于未来的。曾有人提出这样的说法，未来是iOS的，更是Android，归根结底还是PhoneGap的。虽然未来的App Store中，也许可能大概，苹果官方会放宽对Web App的审入，但至少目前没有，那么我们想要一步到位同时发布到iOS和Android上，这就有点不切实际了。虽然苹果很冠冕堂皇地说了，不会因为App使用的用户界面基于HTML而去拒绝一个应用。虽然这种情况更为常见，但这并不是最主要的一个劣势。像我们知道的常用手机Apps，比如QQ，微博，Facebook，人人，都是如出一辙，用的是Native开发，为什么呢？因为PhoneGap目前尚且实现不了一些Native的特效。而且这种实现不了不同于HTML5的兼容性，能在部分兼容的上面跑，而是根本无法实现。既然这些大公司都还没有抢先吃这口螃蟹，我们何必要拿我们的产品做这种不一定成功的尝试？而且虽说PhoneGap做的话只要做一次，不用针对iOS和Android分别做两次开发，但是除了将两个分工完成的工作扣到了一个人的头上，其他也没什么可减少的，无论项目周期还是开发成本。</p>
<hr>
<h2 id="五、其他建议"><a href="#五、其他建议" class="headerlink" title="五、其他建议"></a>五、其他建议</h2><p>关于成本，我并没有要求预算更大化，或是预算内最大化。我总是希望能省则省，尤其是吸收经验这种事情，我个人觉得是完全没有必要跟金钱挂钩的。华东常说的几句话是，我们是创业公司，一开始没有什么资金实力。就当花钱买个经验吧。我们是创业公司，这钱不花怎么能学到经验。我倒不是因为给我的工资很低让我觉得很憋屈，而是真心不希望公司浪费预算。就比如说设计师吧，定了换到现在也不知道有没有个准数。而且先前那个设计师，说工资拿得那么高而却连简单的切图做html都不会，这让我真心没看懂他那么高工资是怎么拿到的。当然，这里我也有点愤青了，我承认是我的不对，既然我也意识到我的错误了，也容我多吐槽一句吧，想我堂堂技术出身，苦学实干了那么多年，掌握熟悉的技能也好多样了才拿那么点微薄的工资，真是苦逼啊！而且，从后来外包和不断面试新招的人来看，抛开审美不谈我承认这个审美是不好评论的，但是就技术而言，好像都没有把图切完了给过我html，也没见过有根据浏览器分辨率给过我不同尺寸的图，当然，更没见过把图切了之后最后根据web优化拼成一张完整的图给我的。至于究竟是什么原因，还是对这些设计师褒赞有嘉，这点我是真的不得而知不得而知啊……我这话绝对没有讽刺意味，因为我没法不承认，每一个我接触到的设计作品，都是很大气清新的。只是对于我们创业团队而且还是做web产品的来说，切图啊，转html啊，再优化啊这些都是要人来做的，所以我更希望在考察设计师的时候更多关注技能，而不是设计风格。当然啦，我的原因还是那句俗话，毕竟萝卜青菜各有所爱嘛。</p>
<p>不积跬步，无以至千里；不积小流，无以成江海。所以我觉得，一个产品，需要从很多细节的角度完善，才能成为一个好的产品。我这里说的细节，主要是针对技术核心和商业价值等一些需要重点关注的环节来说，不包括角色和情节的设计细节。</p>
<p>我只是表达个人意见，没有什么决定权。所以最后当然是要尊重领导的意见了。领导说，想要做一个具备科学性的，又要好玩、又要好看，不仅有训练、测评功能，又有社区互动环节，同时又能保持用户粘度的脑训练产品。这谁不想呢，当然也是我最大的愿望。很不幸的是，这不是在原型上线之前就能够实现得了的。假如我们真的实现了，也许是一件让人欢欣的事情。然而，我们依然会面对一个头疼的问题，那就是我们的产品有那么多形容词做定语，那么多功能点做扩充，那么我们就把特色给弄丢了。因为我们既不可能把科学性、好玩、好看、用户粘度高、社交功能作为我们的特色，也不能让用户主观猜测我们系统的特色究竟是什么。甚至，作为一个产品缔造的参与者，我也不能很好的定位出一个这么多形容词，这么多功能点的一个初期产品，究竟什么才是我们产品的特色。</p>
<hr>
<p>当不断发现现有产品环节中的各种问题存在，并且没有得到很好的解决。我只能否定掉这个产品了。虽然我个人并不能代表市场，但市场的最终考验的答案，对我来说并不是那么重要了。作为一个技术人，从技术的角度出发，我们现在的产品，已经失败了。我并不是那么悲观的一个人，推翻，对我来说，只是一个新的开始。而且对于互联网行业来说，这也应该是个屡见不鲜的事情。重做，有的时候看上去是在浪费成本，但也可能，只是为了节约成本的考虑，不是吗？</p>
<p>梦想可以很渺远，但是理想必须很现实。退一步说，理想可以很丰满，但是产品必须先骨感。但没有一个好的产品是从一大堆定语开始的。我相信有一天，66脑产品会变成一个好的产品。因为经过我手的产品和项目，就没有失败的。所以这个产品，虽然目前没上线，上线也不一定立马成功，但绝对不会失败的。</p>
<p>虽然我在这边的几个月里，提的建议一条没有被接受过，但对我来说，依然是一段宝贵的成长经验。进66脑的时候，我投的是技术合伙人/CTO的职位。在最初和华东谈的时候也谦虚的说了，可以先把我当项目经理一起成长。但是很可惜，我在这里一点决策权也没有，甚至连话语权其实也形同虚设。因为总是在苦口婆心地说，但从来没有实现到产品中去。后来我是真的懒得再说了其实，但出于对产品的负责，我还是经常重复地念叨。其实说实话，我心也有不甘。因为华东毕竟也是听进过别人很多意见的。比如，某位专家说，要做得好玩又好看，然后我们产品就加了两个定语。再比如，某位专家说JS实现跨平台应用非常方便，于是Flash死了。但是有什么办法呢，对于这个团队，还有这个产品，我已经尽心尽力了。虽然晓怡总是说，你努力了吗？我怎么没有看到你的付出。这我可以毫不谦虚的说，我就是那种可以为了一个好的结果，不图回报，默默奉献的那种人。我的工作效率非常高，这毋庸置疑，别人一周完成的工作，我可能只要半天就能完成。低调做人，高调做事，宝剑锋自磨砺出，效率高我必须高调。但并没有因为我的效率高，我就荒废了时间不去努力。我是个很会分配时间的人。华东偶尔会看到我玩游戏，也说我工作不上心。我和聪颖解释过，我是在研究游戏中的匹配规则，看和我们的排名有什么区别，也是为了验证能力的分布并不是呈标准正态分布的。同时，也是为了通过团队竞技，锻炼我的团队合作能力，增强团队意识，这不也是在工作嘛。我为这个团队付出了很多，不仅仅是付出了这上面列出来的那么多杂乱的建议，我也一直都在闲暇的时间里，考虑产品的规划，设计了一套产品框架的草稿，细化到系统模块和用什么技术去实现，后来轶平继续做了。如果只从任务角度来说，不仅我从来没有将我手头的工作延期完成，反而都是超前完成，这怎么能说我不够努力呢。除此之外，其实我也从大街网上推荐过好几个设计师和程序员了，我从大街网上收到了近300封简历，认认真真地每一个都仔细看完，筛选出了那么十几个给华东和晓怡参考。其实有好几个，我真的觉得很优秀，但后来，都没有后来了。就这样，我就成了一个既没有决策权，又没有在努力的一个闲人了。</p>
<p>我现在的工资是5000，还是我主动要低点的，因为我选择了期权。但后来仔细斟酌了好久，发现我其实亏大了。因为期权这个东西，不是股权，它不是永久的，而且对于我们现在连产品都没有的创业公司来讲，是没有效益的，所以即使我有了50%的期权，只是一个数字而已，对一个职员来讲，并没有任何意义。而且，反过来说，即使我没有选期权而要求更高工资的话，公司为了留住人才，以后也依然会主动给期权我的。所以毕竟对期权这概念不了解，就糊里糊涂地被绕进去了。我不是那么斤斤计较的人，我把这个分析出来只是因为想必也不会有多少人耐心看到这里，如果有误打误撞进来看到并且耐心看到这里的话，不是刚毕业，就是跟我一样内心闷骚的技术宅，分享一点心得也算是惺惺相惜吧：进公司之前谈待遇的时候，跳过期权的话题吧。</p>
<p>只有先对自己负责，才能对产品负责。我今年已经25、6岁，由于前一段时间境遇的不顺，害父母也跟着操心。我想要成家立业，安定下来。按我现在的工资来算，无论是在北京还是在南京，几个月不吃不喝，也不够买房子的一平米。我很想买套房，然后成个家。所以我不允许自己荒废青春，面对这样一个产品，一耗再耗，我怕我等不起它成功的那一天。</p>
<p>再见，北京。如果有期望，我再回来看您。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>suggestion</tag>
      </tags>
  </entry>
  <entry>
    <title>言有尽、蹉跎——二十四周岁自嘲</title>
    <url>/posts/2013/24th-birth/</url>
    <content><![CDATA[<p>如果好久没有消息，那一定是过得不好。<br>是的，混得不是很好，甚至都懒得写些什么了，无论是记录心迹，还是技术相关。</p>
<p>转瞬间，毕业一年了。</p>
<hr>
<h2 id="【生活】"><a href="#【生活】" class="headerlink" title="【生活】"></a>【生活】</h2><p>乱世人多事，耕桑或失时。邋遢了许多，其实也还好，只是处在一个邋遢的环境里没有以前那么整洁了。俗话说，嚼得菜根，做得大事。现在一个人蜷缩在一个肮脏潮湿的笑角落里，遥望着咸鱼翻身的一天呢。</p>
<a id="more"></a>
<p>因为辞职没工作的原因，生活作息很不规律。而且仔细想想，在没有找到新下家之前就辞职，真的是很冲动的行为。所以也导致了生活质量的下降。这心疼那舍不得的，天天都在抠着脚指头过日子的感觉。</p>
<p>我不喜欢斤斤计较，但是生活说，必须锱铢必较。没什么办法，基本上天天宅在家里了现在。</p>
<p>感觉说得好凄凉啊。不过还好，还能有什么更糟的情况呢，反正我也没有欠一屁股债，也算有一些积蓄的，虽然生活不是特别滋润，但也不算特别寒酸。</p>
<hr>
<h2 id="【事业】"><a href="#【事业】" class="headerlink" title="【事业】"></a>【事业】</h2><p>这一年中，已经换了三份工作。兜兜转转，回到了原点。甚至算得上是履历上不光彩的一篇，找份合适的工作会变得很困难。</p>
<p>很多事情怨不得别人，既然已经是错，无论责怪或是自责，谁都不会更好过。很惭愧，学了这么多年编程，还是个半吊子，学艺不精。很多时候，还是有些眼高手低。</p>
<p>当然，不得不说，千里马常有，而伯乐不常有。虽然我觉得做技术，我在技术方面不是特别强的，但我在其他方面的能力是不容小觑的。比如学习能力，无论是学技术，还是学业务流程；比如创新意识，会从互联网发展的大潮入手，对新技术、新方向的热情；比如责任心，我总会把手头的工作当成自己的孩子一样对待，而且不会夹杂太多个人的感情，而是从项目本身的角度出发去考虑。</p>
<p>总得来说，我还是个蛮优秀的年轻人，即使遇到挫败也不会轻易低头，这就是我与我的乐观。只是还有些浮躁，需要找个安稳的工作，静下心来，认认真真学习几年。</p>
<p>会有一番作为，虽然走了许多的弯路了，但现在还早。</p>
<hr>
<h2 id="【爱情】"><a href="#【爱情】" class="headerlink" title="【爱情】"></a>【爱情】</h2><p>一个人过得久了，就会慢慢习惯一个人的生活。独立坚强不依赖别人。</p>
<p>可惜我是个爷们，本来就很独立。不再像从前，那么害怕一个人独处了，因为现在大多数的时间，都是一个人。一个人的时候，会想得多一些。或许吧，多多少少每个人心中都曾有过那么一个人，也许有可能，但更多的是不可能。用一句刚看来的话讲就是——“不管你以后是谁的女人，但你永远是我的女神！”</p>
<p>也许吧，只有一个人的成长才是真的成长。至少一个人的时候，你不能太孩子气，因为不会有别人看，累了自己扛。</p>
<p>没什么可说的，和事业一样，感情也走了很多弯路，到目前为止一直在失败。其实我自己也很想知道，谁牵着我的手，谁陪我到最后。</p>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>我不哭，我服输。告别了青春，不该再有太多不切实际的幻想。踏踏实实，从头来过。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu 13.04优化设置</title>
    <url>/posts/2013/ubuntu-13-04-optimization/</url>
    <content><![CDATA[<p>快捷命令：</p>
<p>选择窗体强制关闭进程：</p>
<blockquote>
<p>xkill</p>
</blockquote>
<p>截图：</p>
<blockquote>
<p>gnome-screenshot -a</p>
</blockquote>
<a id="more"></a>
<p><img src="http://w3log.qiniudn.com/wp-content/uploads/2013/07/2013-07-19.png" alt="2013-07-19"></p>
<p>查询内存：</p>
<blockquote>
<p>free -m</p>
</blockquote>
<p>设置自动清理内存：</p>
<blockquote>
<p>echo 3 &gt; /proc/sys/vm/drop_caches</p>
</blockquote>
<hr>
<p>官方说明：</p>
<p>Writing to this will cause the kernel to drop clean caches, dentries and inodes from memory, causing that memory to become free.<br>To free pagecache:</p>
<ul>
<li>echo 1 &gt; /proc/sys/vm/drop_caches<br>To free dentries and inodes:</li>
<li>echo 2 &gt; /proc/sys/vm/drop_caches<br>To free pagecache, dentries and inodes:</li>
<li>echo 3 &gt; /proc/sys/vm/drop_caches<br>As this is a non-destructive operation, and dirty objects are notfreeable, the user should run “sync” first in order to make sure allcached objects are freed.</li>
</ul>
<p>This tunable was added in 2.6.16.</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>unix</tag>
        <tag>ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>Mac OS X 配置Ruby On Rails环境</title>
    <url>/posts/2013/os-x-install-rails-mysql/</url>
    <content><![CDATA[<p>环境为 OS X 10.8 + RVM Ruby + Mysql 5.5 + MAMP 2.1.4</p>
<h3 id="Mac-OS-X-80-端口莫名占用解决"><a href="#Mac-OS-X-80-端口莫名占用解决" class="headerlink" title="Mac OS X 80 端口莫名占用解决:"></a>Mac OS X 80 端口莫名占用解决:</h3><blockquote>
<p>sudo launchctl unload -w /System/Library/LaunchDaemons/org.apache.httpd.plist<br>如果哪天你想让它开机启动了,则将unload 改为 load 即可:<br>sudo launchctl load -w /System/Library/LaunchDaemons/org.apache.httpd.plist</p>
</blockquote>
<a id="more"></a>
<h3 id="Gem-Sources-更新"><a href="#Gem-Sources-更新" class="headerlink" title="Gem Sources 更新"></a>Gem Sources 更新</h3><blockquote>
<p>gem sources -r <a href="https://rubygems.org/" target="_blank" rel="noopener">https://rubygems.org/</a></p>
<p>gem sources -a <a href="http://ruby.taobao.org/" target="_blank" rel="noopener">http://ruby.taobao.org/</a></p>
</blockquote>
<h3 id="MAMP-MySQL-Client库安装"><a href="#MAMP-MySQL-Client库安装" class="headerlink" title="MAMP MySQL Client库安装"></a>MAMP MySQL Client库安装</h3><ol>
<li>下载MySQL 5.5.29源文件</li>
<li>复制 lib 下文件到 /Applications/MAMP/Library/lib</li>
<li>复制 include 下文件到 /Applications/MAMP/Library/include</li>
</ol>
<p>安装mysql2</p>
<blockquote>
<p>sudo env ARCHFLAGS=”-arch x86_64” gem install mysql2 – –with-mysql-config=/Applications/MAMP/Library/bin/mysql_config</p>
</blockquote>
<p>设置Lib路径</p>
<blockquote>
<p>export DYLD_LIBRARY_PATH=”$DYLD_LIBRARY_PATH: /Applications/MAMP/Library/lib/“<br>&nbsp;</p>
</blockquote>
<p>P.S.</p>
<p>MAMP MySQL Socket文件路径：</p>
<blockquote>
<p>/Applications/MAMP/tmp/mysql/mysql.sock</p>
</blockquote>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>sql</tag>
        <tag>mac</tag>
        <tag>ruby</tag>
      </tags>
  </entry>
  <entry>
    <title>RubyMine for Mac最佳内存设置</title>
    <url>/posts/2013/rubymine-config-mac/</url>
    <content><![CDATA[<p><img src="http://w3log.qiniudn.com/wp-content/uploads/2013/12/rubymine.png" alt="rubymine6"></p>
<p>对于RubyMine 6.0 往后的版本，设置文件在：</p>
<blockquote>
<p>/Applications/RubyMine/bin/idea.vmoptions</p>
</blockquote>
<a id="more"></a>
<p>如果没有的话，可以手动新建一个。</p>
<p>我的电脑配置是： MacBook Pro Retina 2.6 GHz Intel Core i7 + 16 GB 内存 + 1TB SSD，所以我将设置文件改为：</p>
<blockquote>
<p>-Xms128m</p>
<p>-Xmx2048m</p>
<p>-XX:MaxPermSize=500m</p>
<p>-XX:ReservedCodeCacheSize=128m</p>
<p>-XX:+UseCodeCacheFlushing</p>
<p>-XX:+UseCompressedOops</p>
</blockquote>
<p>对于 RubyMine 5.4 和之前的版本配置文件名为： rubymine.vmoptions.</p>
<h2 id="P-S-其他情况下会出现："><a href="#P-S-其他情况下会出现：" class="headerlink" title="P.S. 其他情况下会出现："></a>P.S. 其他情况下会出现：</h2><p><img src="http://w3log.qiniudn.com/wp-content/uploads/2013/12/rubymin-config.png" alt="rubymin-config"></p>
<p>来源参考国外博客:  <a href="http://coderberry.me/blog/2013/02/20/rubymine-memory-config-vmoptions/" target="_blank" rel="noopener">http://coderberry.me/blog/2013/02/20/rubymine-memory-config-vmoptions/</a></p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>ruby</tag>
        <tag>ide</tag>
      </tags>
  </entry>
  <entry>
    <title>志难酬、虚妄——二十五周岁放诞</title>
    <url>/posts/2014/25th-birth/</url>
    <content><![CDATA[<p>人生天地之间，若白驹过隙，忽然而已。</p>
<p>不知不觉又是一个春夏，没有记录太多。虽是奔着多做事、少放屁，但也还是未见精进。</p>
<hr>
<h2 id="【生活】"><a href="#【生活】" class="headerlink" title="【生活】"></a>【生活】</h2><p>所谓生活，无非就是生下来、活下去。相较于很多同龄的朋友、同事、亲戚、同学而言，我也就只能算是活着，谈不上生活，更别说享受生活。</p>
<a id="more"></a>
<p>生活的艰辛，无非两种可能，要么被现实压迫，要么被欲望压迫。几年下来最大的愿望是买辆车，不过至今还停留在0%的进度上。</p>
<p>身体状况也不太尽如人意。也算是太懒了吧，也有为钱途担忧，亚健康状态愈加明显。不适的时间，我经常会回首过去，把自己和欲望看得太重，有愧于好多朋友，一些重要的朋友渐行渐远。一颗平常心很重要，不能因为在意而念念不忘，也不能因为厌恶而抛诸脑后。世事无常，不能太计较是非、对错、得失，才能处之泰然。</p>
<hr>
<h2 id="【事业】"><a href="#【事业】" class="headerlink" title="【事业】"></a>【事业】</h2><p>从基层做起，或许只是一个美丽的口号。</p>
<p>空有一身技术，却无施展空间。虽说学艺不精，但也好歹浸淫多年，始终停留在打杂的层面，做着一些形同端茶倒水一般的事情。</p>
<p>不禁感慨，千里马常有，而伯乐不常有。前途堪忧，惶惶不可终日，对于事业，看不到什么希冀。俗话说先苦后甜，但苦尽甘来应该不发生在“基层”。或许，只有自己才是自己的伯乐，才能指点江山。</p>
<p>曾以为，以我的资质，会很容易证明自己的价值。到如今，依然还是碌碌无为。也曾想做些事情，不为利益，只为实现理想，而理想丰满，现实骨感。</p>
<p>梦想这回事，对于很多人来讲就是用来破灭的。若再不能做出点成绩，这一生就将注定要惨淡落幕了。半百之半，或尚有一线转机。</p>
<hr>
<h2 id="【爱情】"><a href="#【爱情】" class="headerlink" title="【爱情】"></a>【爱情】</h2><p>幸福最深是平淡。套用一句说就是：“恋爱虽易，婚姻不易，且行且珍惜。”</p>
<p>爱情不是隐忍，而是包容。没有谁离不开谁，只有谁容得下谁。“海纳百川，有容乃大；壁立千仞，无欲则刚。”自私的人注定孤独，如果只是爱自己，那又何需爱情？</p>
<p>无论事业、生活，或是爱情，终究不过是一份责任。但得起，就有；担不起，则无。</p>
<hr>
<h2 id="【总结】"><a href="#【总结】" class="headerlink" title="【总结】"></a>【总结】</h2><p>不求做伟大的人，却要做大写的人。</p>
<p>看似容易，其实不然。少言、多做，再出发吧。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>你好，世界！</title>
    <url>/posts/2014/hello-world/</url>
    <content><![CDATA[<p>这是我在Jekyll的第一篇，现在的时间是2014-06-28 16:33:27，这个模板是我用一夜时间粗糙赶工做成，日后将会不断优化完善。</p>
<a id="more"></a>
<p>如果你喜欢，可以在<a href="http://gitcafe.com/signup?invited_by=willin" target="_blank" rel="noopener">GitCafe</a>上Fork我：<a href="https://gitcafe.com/willin/willin?invited_by=willin" target="_blank" rel="noopener">https://gitcafe.com/willin/willin?invited_by=willin</a>。</p>
<p>开发环境需要两样：node.js和ruby。</p>
<p>其中ruby不用多说，是jekyll运行的环境，node.js是用于scss、js实时生成。</p>
<p>之前博客命名为 <em>W3log</em> ，意为 <em>Willin Wang Weblog</em> ，也可以当成是 <em>WBlog</em> 。</p>
<p>现在，更轻量了，所以我将名字改为 <em>W2B</em> ， 意为 <em>Willin Wang’s Blog</em> 或 <em>(你懂的)</em> 。</p>
<p>过段时间将有用文章重新整理转移过来，并且重新绑定域名。然后再考虑上博客评论功能，敬请关注。</p>
]]></content>
      <categories>
        <category>other</category>
      </categories>
      <tags>
        <tag>none</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown 语法速记表</title>
    <url>/posts/2014/markdown-start/</url>
    <content><![CDATA[<p>##1 标题与文字格式</p>
<p>标题</p>
<pre><code># 这是H1 &lt;h1&gt;
## 这是H2 &lt;h2&gt;
###### 这是H6 &lt;h6&gt;
</code></pre><a id="more"></a>
<p>文字格式</p>
<pre><code>**这是文字粗体格式**
*这是文字斜体格式*
~~在文字上添加删除线~~
</code></pre><hr>
<p>##2 列表</p>
<p>无序列表</p>
<pre><code>* 项目1
* 项目2
* 项目3
</code></pre><p>有序列表</p>
<pre><code>1. 项目1
2. 项目2
3. 项目3
</code></pre><hr>
<p>##3 其他</p>
<p>图片</p>
<pre><code>![图片名称](http://gitcafe.com/image.png)
</code></pre><p>链接</p>
<pre><code>[链接名称](http://gitcafe.com)
</code></pre><p>引用</p>
<pre><code>&gt; 第一行引用文字
&gt; 第二行引用文字
</code></pre><p>水平线</p>
<pre><code>***
</code></pre><p>代码</p>
<pre><code>`&lt;hello world&gt;`
</code></pre>]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>卸载Mac默认的Xcode附带的git</title>
    <url>/posts/2014/uninstall-mac-xcode-git/</url>
    <content><![CDATA[<p>这里说的优雅的卸载其实不是真正的卸载，而是不用动Xcode附带的git，通过用户~/.bashprofile的文件来优雅的完成。仅仅需要在~/.bashprofile文件后追加如下的导出变量代码即可:</p>
<a id="more"></a>
<p><code>export GIT_HOME=/usr/local/git</code></p>
<p><code>export PATH=$GIT_HOME/bin:$PATH</code></p>
<p>通git官网下载的mac安装包进行安装，git会被安装到</p>
<p><code>/usr/local/git</code></p>
<p>Xcode附带的git被安装到</p>
<p><code>/usr/bin</code></p>
<p>不必移动或者删除这里的git版本，仅仅需要更改一下用户下面的~/.bash_profile的文件即可优雅的解决git版本的问题.</p>
<p>如果您非要卸载旧的也可以通过下面的命令来完成</p>
<p><code>sudo cd /usr/bin</code></p>
<p><code>sudo mkdir old-git</code></p>
<p><code>sudo mv git* old-git</code></p>
<p><code>ln -s /usr/local/git ./</code></p>
<p>请关注。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>mac</tag>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title>全栈工程师常用在线工具整理</title>
    <url>/posts/2014/fullstack-online-tools/</url>
    <content><![CDATA[<h2 id="在线建模UML绘图工具"><a href="#在线建模UML绘图工具" class="headerlink" title="在线建模UML绘图工具"></a>在线建模UML绘图工具</h2><p><a href="https://www.processon.com/diagrams" target="_blank" rel="noopener">https://www.processon.com/diagrams</a></p>
<a id="more"></a>
<h2 id="前端在线调试"><a href="#前端在线调试" class="headerlink" title="前端在线调试"></a>前端在线调试</h2><p><a href="http://runjs.cn/code" target="_blank" rel="noopener">http://runjs.cn/code</a></p>
<p><a href="http://codepen.io/pen/" target="_blank" rel="noopener">http://codepen.io/pen/</a></p>
<p><a href="http://jsfiddle.net/" target="_blank" rel="noopener">http://jsfiddle.net/</a></p>
<h2 id="APP在线测试"><a href="#APP在线测试" class="headerlink" title="APP在线测试"></a>APP在线测试</h2><p>云测 <a href="http://www.testin.cn/" target="_blank" rel="noopener">http://www.testin.cn/</a></p>
<h2 id="在线文档"><a href="#在线文档" class="headerlink" title="在线文档"></a>在线文档</h2><p><a href="http://tool.oschina.net/apidocs" target="_blank" rel="noopener">http://tool.oschina.net/apidocs</a></p>
<h2 id="HTML-gt-JADE"><a href="#HTML-gt-JADE" class="headerlink" title="HTML -&gt; JADE"></a>HTML -&gt; JADE</h2><p><a href="http://html2jade.org/" target="_blank" rel="noopener">http://html2jade.org/</a></p>
<h2 id="HTML-gt-MarkDown"><a href="#HTML-gt-MarkDown" class="headerlink" title="HTML -&gt; MarkDown"></a>HTML -&gt; MarkDown</h2><p><a href="http://higrid.net/c-html2md.htm" target="_blank" rel="noopener">http://higrid.net/c-html2md.htm</a></p>
<h2 id="MarkDown-gt-HTML"><a href="#MarkDown-gt-HTML" class="headerlink" title="MarkDown -&gt; HTML"></a>MarkDown -&gt; HTML</h2><p><a href="http://tool.oschina.net/markdown" target="_blank" rel="noopener">http://tool.oschina.net/markdown</a></p>
<p><a href="http://tools.dedecms.com/markdown.html" target="_blank" rel="noopener">http://tools.dedecms.com/markdown.html</a></p>
<h2 id="Encrypt"><a href="#Encrypt" class="headerlink" title="Encrypt"></a>Encrypt</h2><p><a href="http://tool.oschina.net/encrypt" target="_blank" rel="noopener">http://tool.oschina.net/encrypt</a></p>
<h2 id="JavaScript-美化-压缩"><a href="#JavaScript-美化-压缩" class="headerlink" title="JavaScript 美化/压缩"></a>JavaScript 美化/压缩</h2><p><a href="http://tool.lu/js/" target="_blank" rel="noopener">http://tool.lu/js/</a></p>
<h2 id="CSS-美化-压缩"><a href="#CSS-美化-压缩" class="headerlink" title="CSS 美化/压缩"></a>CSS 美化/压缩</h2><p><a href="http://tool.lu/css/" target="_blank" rel="noopener">http://tool.lu/css/</a></p>
<h2 id="图标字体相关"><a href="#图标字体相关" class="headerlink" title="图标字体相关"></a>图标字体相关</h2><p><a href="http://fontello.com/" target="_blank" rel="noopener">http://fontello.com/</a></p>
<p><a href="http://www.iconfont.cn/" target="_blank" rel="noopener">http://www.iconfont.cn/</a></p>
<p><a href="https://icomoon.io/app/" target="_blank" rel="noopener">https://icomoon.io/app/</a></p>
<p>更新日期: 2014-10-26 不断整理更新中…</p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>none</tag>
      </tags>
  </entry>
  <entry>
    <title>2014年终总结(物联)</title>
    <url>/posts/2015/wulian-1st-year/</url>
    <content><![CDATA[<p>从2014-08-11到2015-02-11，刚刚满半年。翻开<a href="http://now.willin.wang/" target="_blank" rel="noopener">当时写的记录</a>，还记得那段时间其实有很多选择，而最终我选了物联。虽然不是待遇最好的，却是最能让我充满热情和憧憬的一个行业——智能家居。不忘初心，方得始终。</p>
<h2 id="自身尚存的缺点"><a href="#自身尚存的缺点" class="headerlink" title="自身尚存的缺点"></a>自身尚存的缺点</h2><h3 id="一、恃才傲物。"><a href="#一、恃才傲物。" class="headerlink" title="一、恃才傲物。"></a>一、恃才傲物。</h3><p>这是一个新问题，因为为今很多年轻人会错拿无知当个性（<a href="http://baike.baidu.com/view/2467944.htm" target="_blank" rel="noopener">达克效应</a>）。</p>
<a id="more"></a>
<p>自小我父母就教导我说“自后者人先之，自下者人高之。”凡事以和、宽容、谦逊为做人根本。我也自知一个人真正伟大之处就在于他能够认识到自己的渺小，所以，总是要求自己多学习，少说话；多做事，少做梦。虽然在工作中偶尔会被一些幼稚的问题气恼，但有一句古话“说才高不必自傲。”，其实还是自己未达到这样的高度。所以今后的工作中还需克制自己，更加谦逊。</p>
<h3 id="二、避轻就重。"><a href="#二、避轻就重。" class="headerlink" title="二、避轻就重。"></a>二、避轻就重。</h3><p>作为一个专业的技术人，可能内心最深处还是只是想浸淫在某一块技术的海洋中，做一些有深度的钻研。虽然很多方面懂得不少，却并没有做得面面俱到，总是觉得太简单的事情就放给其他人去做，自己来做会耽误了自己的时间。但根据墨菲定律，任何事都没有表面看起来那么简单，所以即便想要先行深入，却还是会需要停下来等，或者再回过头来帮忙。海尔总裁张瑞敏说过：“坚持把简单的事情做好就是不简单。”</p>
<h3 id="三、杂而不精。"><a href="#三、杂而不精。" class="headerlink" title="三、杂而不精。"></a>三、杂而不精。</h3><p>伍子胥上知天文，下知地理，千古难见。坦白说，我什么都懂点，但什么都不精。就如整理需求文档一事，虽然经验上明白该怎么做，但实际在辅助蒲茂林写的时候，很多细节元素还需要先检索才明白具体是什么。还是需要深入了解，知其然，知其所以然，才是成事之道。</p>
<h2 id="自我感觉的亮点"><a href="#自我感觉的亮点" class="headerlink" title="自我感觉的亮点"></a>自我感觉的亮点</h2><h3 id="一、高效率。"><a href="#一、高效率。" class="headerlink" title="一、高效率。"></a>一、高效率。</h3><p>善于安排时间，并充分利用琐碎的时间，是我事半功倍的秘诀。工作之余，也会丰富自己的业余生活，如对理财投资、奢侈品、游戏、学习提高等也广泛关注。并且，我会经常将一些提高效率的方法和经验和其他人分享。</p>
<h3 id="二、高要求。"><a href="#二、高要求。" class="headerlink" title="二、高要求。"></a>二、高要求。</h3><p>我最反感想当然，要么不做，要做就尽力做好。眼睛里容不得沙子，不畏困难。UI设计中需要建模处理的，用PS做出简单模型效果；APP应用中算法偏差大的，绘制数学模型写出精确算法，比如摄像头APP中的手势识别部分用的就是我设计的优化算法。</p>
<h3 id="三、高主动性。"><a href="#三、高主动性。" class="headerlink" title="三、高主动性。"></a>三、高主动性。</h3><p>不会思考，则只能被动。创业团队要的是激情，如果总是在等事做，或者被动跟着别人的脚步走，会跟不上团队进步的节奏。干一行要爱一行，我想要做的，是能够放到我自己家里的智能产品，是我自己和家人都会喜欢用的高端产品，所以会多考虑一些，将思想和感情注入到自己的产品设计中。</p>
<h2 id="工作中的问题"><a href="#工作中的问题" class="headerlink" title="工作中的问题"></a>工作中的问题</h2><p>用盖房子来比喻做产品，楼想建得高，根基得打得深。由于目前团队根基尚浅，所以存在一些问题亟待解决：</p>
<h3 id="一、团队太年轻。"><a href="#一、团队太年轻。" class="headerlink" title="一、团队太年轻。"></a>一、团队太年轻。</h3><p>年轻是无知的代名词，年轻就需要成长。跟着团队一起进步，才能更加珍惜所取得的成就。学如逆水行舟，不进则退。做产品也是一样，不做出更好的产品超越已有的，丰富再多经验那也只是在倒退。厚积而薄发，所以我个人会不断做深层次的积累，也希望团队能够往深度、高度、广度这样的方向发展。</p>
<h3 id="二、体制不健全。"><a href="#二、体制不健全。" class="headerlink" title="二、体制不健全。"></a>二、体制不健全。</h3><p>最大的体现在公司群，动辄会有检讨、扣分，检讨来检讨去，扣分来扣分去似乎已经形成套路，总是那么些面孔，也不见有什么实质性的措施。另外，部门内部和部门间的配合没有明确的规范流程，导致工作开展受阻，效率低下。开会的次数较多，很多会前应当小范围准备的工作都留到会上耽误了大家的时间。并且对于规范、流程、体制的理解欠缺，曲解了各阶段会议和评审的目的和意义，忽略了各类文档的价值和作用。</p>
<h3 id="三、文档匮乏。"><a href="#三、文档匮乏。" class="headerlink" title="三、文档匮乏。"></a>三、文档匮乏。</h3><p>文档撰写和UML建模都属于产品和技术人员必备的基础技能。虽然一些大团队会配备专门的文档工程师，但不代表做设计和研发的人员就不用输出文档了。项目中，人人都是文档工程师，所以这也是为什么开发、测试等都可以转职专门做文档工作。</p>
<h3 id="四、产品有待提高。"><a href="#四、产品有待提高。" class="headerlink" title="四、产品有待提高。"></a>四、产品有待提高。</h3><p>我们现有的产品市面上都有同类型产品，并且我们的网关稳定性差，App体验也不好。虽然我们一直在说我们起步早，但却并没有发现什么走在行业前沿的核心竞争力。</p>
<p>后边的问题实际上也还都是团队太年轻的问题。要有动力，就得有压力。有不足，才有改进的空间。</p>
<h2 id="量化工作统计"><a href="#量化工作统计" class="headerlink" title="量化工作统计"></a>量化工作统计</h2><p>过去的2014年里，参与GitLab项目13个（其中创建10个，协作3个），输出代码总计184.6万行（其中GitLab上提交22.2万行），目前在运行系统5个（API接口，后台定时任务，VAdmin后台，SSO帐号管理，UDP心跳处理），输出各类UML等图稿65张，文档30篇，为团队提供各类学习参考资料百余篇，为公司其他部门如海外部（周小洁）、网站组（江涛）、软件部（邹峰）等多次提出若干建设性意见。</p>
<p><img src="http://w3log.qiniudn.com/wulian/code.png" alt="code"></p>
<h2 id="非量化工作统计"><a href="#非量化工作统计" class="headerlink" title="非量化工作统计"></a>非量化工作统计</h2><p>将系统从用PHP开发转移到用Ruby on Rails，最终确定使用Node.js，并且多次推翻重做提提高系统的性能。从对Node.js一无所知，到能够实现功能，再到能够针对性能进行进一步优化，收获了不少。<br>刚进公司便参与了对路由产品的规划设计。在路由项目中，提出了“简单化智能”的概念，并将目光投向中老年市场。在国庆节时设计了最初的服务器架构，由于对于OpenSips所承担角色理解的不到位，忽略了其通信中存在的安全隐患和性能问题。后来参与摄像头项目的服务器端支持，配合App完成了接口的支持，进行对OpenSips的功能性扩充。​</p>
<p>在手头工作完成的前提下，在做一些关于数据计算处理、机器学习和深度学习方面的预研和积累。此外，用心帮助团队其他人共同进步，建立了产品思维学习群，组织过几次产品思维训练，并不定期分享一些优秀的经验和技巧。</p>
<p>引入了之前累积的先进思想和经验，包括规范化的体系，如CMMI，ISO27001等，并且深入研究了敏捷Scrum模型。回顾过往，我依然还是一个新人，对于团队的融入还有欠缺，所以虽然尝试过旁敲侧击将这些成熟的体系慢慢灌输给团队却不尽如人意。体系规范无好坏之分，重要的则其善而行之，改善工作结构，提高协作效率。</p>
<p>将心理学、管理学、经济学等多元化思想融入到产品项目中。如睡眠者效应（心理学），通过对用户的心理按时潜移默化地培养用户习惯。如KISS原则（电影理论），“Keep It Simple, Stupid.”把产品做的连白痴都会用，追求简约而不简单。如帕累托法则（管理学），对用户需求理性取舍，满足用户所有的需求是不切实际的，所以需要筛选细化，满足用户的核心需求。如长尾理论（统计学），聚沙成塔，集腋成裘，可以通过低门槛，高基数的方式从微利中累积，淡化产品硬件价值，通过增值服务创造更多价值。</p>
<h2 id="外界的这一年"><a href="#外界的这一年" class="headerlink" title="外界的这一年"></a>外界的这一年</h2><p>2014是不平凡的一年，这一年中发生了很多大事件。</p>
<p>其中我印象非常深刻的有：</p>
<h3 id="一、亿觅创意获得千万投资。"><a href="#一、亿觅创意获得千万投资。" class="headerlink" title="一、亿觅创意获得千万投资。"></a>一、亿觅创意获得千万投资。</h3><p>亿觅（emie.com）是一个建立于2012年的设计师众包社区。当时我在之前的公司参与一个类似的设计师社区项目么么（memeing.cn），明信片在线设计和在线销售的平台。明信片现在已经慢慢退出人们的视线了，设计师也只是一个小众的群体，所以我对产品的定位存在异议，最后意见的分析让我选择离开。而亿觅很及时地意识到路线的问题，并进行了转型。现在他们的供应链已经基本健全，智能手表也已经即将出货。</p>
<h3 id="二、拉手和三胞联姻。"><a href="#二、拉手和三胞联姻。" class="headerlink" title="二、拉手和三胞联姻。"></a>二、拉手和三胞联姻。</h3><p>弱弱联合的出处。现在再看，也基本上销声匿迹未有作为。强强联手才是致胜的关键，不怕神一样的对手，就怕猪一样的队友，祝好运。</p>
<h3 id="三、小米入股美的。"><a href="#三、小米入股美的。" class="headerlink" title="三、小米入股美的。"></a>三、小米入股美的。</h3><p>12亿多的投资是不小的手笔。小米对于智能家居的野心已经不是一天两天，而一直以来小米最大的问题在于抄袭和低端。小米最大的优势在于资金链和供应链，但从技术链而言，可以算近乎为零。而因为小米的大手笔，其麾下也有几个技术大牛，目前小米的存储和计算团队14人，负责运维高达15个业务集群。也该是时候打造我们自己的高素质后端团队了。</p>
<h3 id="四、联想收购摩托。"><a href="#四、联想收购摩托。" class="headerlink" title="四、联想收购摩托。"></a>四、联想收购摩托。</h3><p>成长和成功未必都是一个劳累艰辛的过程。从目前的形势来看，联想需要担忧的问题恐怕得不少。相较而言，我更为欣赏谷歌的远见。人无远虑，必有近忧，凡事三思而后行，方能决胜于千里之外。</p>
<h2 id="2015年工作计划"><a href="#2015年工作计划" class="headerlink" title="2015年工作计划"></a>2015年工作计划</h2><h3 id="一、参与完成多功能网关产品的服务器端支持。"><a href="#一、参与完成多功能网关产品的服务器端支持。" class="headerlink" title="一、参与完成多功能网关产品的服务器端支持。"></a>一、参与完成多功能网关产品的服务器端支持。</h3><p>优化现有接口性能，根据通讯协议优化业务流程，高质量完成功能模块。其中有一些需求可以预先做技术的累积，如语音控制、天气预报的语音合成等语音相关技术准备安排部门成员做深入的挖掘。我自己将对人机交互，机器学习，数据计算进一步研究。</p>
<h3 id="二、完善VAdmin系统。"><a href="#二、完善VAdmin系统。" class="headerlink" title="二、完善VAdmin系统。"></a>二、完善VAdmin系统。</h3><p>打造一个完善的多元化监控、管理、运维云平台。现有管理系统中已经完成的模块有产品类别管理，版本发布，设备管理，日志管理，APP错误收集分析；正在做的模块有网关后台的统计分析，APP统计分析；准备做的模块有性能检测，运维管理等。</p>
<h3 id="三、安排团队培训。"><a href="#三、安排团队培训。" class="headerlink" title="三、安排团队培训。"></a>三、安排团队培训。</h3><p>已经安排联系了一些商业模式、文档建模相关的无偿培训指导。如果条件允许，还将计划申请一些外聘专家来进行团队内的研讨，进一步提高团队的技术水平、优化调整技术方向。</p>
<h3 id="四、规划一款定位中老年市场的产品。"><a href="#四、规划一款定位中老年市场的产品。" class="headerlink" title="四、规划一款定位中老年市场的产品。"></a>四、规划一款定位中老年市场的产品。</h3><p>发烧、追求极致、自己动手，一直都是我的标签，但我曾经有一段时间总是不断会想，如果我老了之后，该过怎么样的生活。想要做中老年的产品，不仅仅是为了我家里的长辈，也是在为我自己准备。我一直坚定认为，未来的几年中，中老年市场会成为市场的主流，并且会一直持续很久。在全球老龄化趋势的影响下，开辟中老年智能产品市场，只是早晚的事情。先人一步，遍地黄金。</p>
<h2 id="结束语"><a href="#结束语" class="headerlink" title="结束语"></a>结束语</h2><p>2015，智能家居将遍地开花。在过去的时间里，我们有超越，有停滞。不论过往是进步还是倒退，把握当下。没有人能够预测未来，就像没有人能够改变过去。与其记录历史，我更愿意去创造历史。</p>
<p>不求做伟大的人，却要做大写的人，这就是我。</p>
]]></content>
      <categories>
        <category>career</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>thought</tag>
        <tag>suggestion</tag>
      </tags>
  </entry>
  <entry>
    <title>日本雅虎程序员跳槽程序测试问题</title>
    <url>/posts/2015/yahoo-jp-test/</url>
    <content><![CDATA[<p>一救援机器人有三种跳跃模式，可分别跳跃1m，2m，3m的距离，请用程序实现该机器人行进n米路程时可用的跳跃方式。</p>
<p>程序语言不限，当距离n值足够大时，程序执行时间尽量小。</p>
<p>例：当距离为4米时，输出结果有7种：</p>
<pre><code>1m,1m,1m,1m
1m,1m,2m
1m,2m,1m
1m,3m
2m,1m,1m
2m,2m
3m,1m
</code></pre><a id="more"></a>
<h3 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h3><p>首先想到的,但性能不是很理想,想先算个1000m试试,结果程序直接崩掉了. 不得已换成了35m:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> calc = <span class="function"><span class="keyword">function</span> (<span class="params">dist</span>) </span>&#123;</span><br><span class="line"><span class="meta">	'use strict'</span>;</span><br><span class="line">	<span class="keyword">switch</span> (dist) &#123;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">		<span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">			<span class="keyword">return</span> <span class="number">4</span>;</span><br><span class="line">		<span class="keyword">default</span>:</span><br><span class="line">			<span class="keyword">return</span> (calc(dist - <span class="number">1</span>) + calc(dist - <span class="number">2</span>) + calc(dist - <span class="number">3</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">var</span> result = calc(<span class="number">35</span>);</span><br><span class="line"><span class="keyword">var</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / <span class="number">1000</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">35</span>, result, (end - start).toFixed(<span class="number">3</span>) + <span class="string">'s'</span>);</span><br><span class="line"><span class="comment">//35 1132436852 '3.525s'</span></span><br></pre></td></tr></table></figure>
<h3 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h3><p>直接采用递归的话会有很多重复的计算,比如在distance=7的时候，会有1+1+1+steps(4)，1+2+steps(4)，3+steps(4)，所以step(4)会被重复计算多次.</p>
<p>然后是优化,明显快了很多,1000m都是在1ms内完成.</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> calc2 = <span class="function"><span class="keyword">function</span> (<span class="params">dist</span>) </span>&#123;</span><br><span class="line"><span class="meta">	'use strict'</span>;</span><br><span class="line">	<span class="keyword">let</span> steps = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>];</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">4</span>; i &lt;= dist; i++) &#123;</span><br><span class="line">		steps[i] = steps[i - <span class="number">1</span>] + steps[i - <span class="number">2</span>] + steps[i - <span class="number">3</span>];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> steps[dist];</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> start = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / <span class="number">1000</span>;</span><br><span class="line"><span class="keyword">var</span> result = calc2(<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">var</span> end = <span class="keyword">new</span> <span class="built_in">Date</span>().getTime() / <span class="number">1000</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1000</span>, result, (end - start).toFixed(<span class="number">3</span>) + <span class="string">'s'</span>);</span><br><span class="line"><span class="comment">//1000 2.7588428077664853e+264 '0.001s'</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>API接口性能统计之平均响应时间算法</title>
    <url>/posts/2015/api-average-response-time/</url>
    <content><![CDATA[<h3 id="平均响应时间算法"><a href="#平均响应时间算法" class="headerlink" title="平均响应时间算法"></a>平均响应时间算法</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// count,restime</span></span><br><span class="line"><span class="keyword">let</span> avg = (restime + <span class="built_in">parseFloat</span>(val) * (count - <span class="number">1</span>))/count;</span><br></pre></td></tr></table></figure>
<p>经过反复测试，临界值为平均响应时间乘以2万次（如200ms为400万次），不会再变化。</p>
<p>如果当天请求超过平均响应时间乘以2万次，则不应该再计算新值。</p>
<a id="more"></a>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// count,restime</span></span><br><span class="line"><span class="keyword">let</span> avg = count &gt; <span class="built_in">parseInt</span>(a.toString()[<span class="number">0</span>], <span class="number">10</span>) * <span class="number">10E6</span> ? val : </span><br><span class="line">          ((restime + <span class="built_in">parseFloat</span>(val) * (count - <span class="number">1</span>))/count);</span><br></pre></td></tr></table></figure>
<p>再根据平均值变化规律比较：</p>
<pre><code>第N次请求 请求响应时间ms  真实平均响应时间ms  估算平均响应时间ms 误差时间ms
  100000         845          497.2487          497.2436   -0.0051
  200000         918          498.1223          498.1315    0.0092
  300000         218          498.4573          498.4598    0.0025
  400000         485          498.6902          498.6956    0.0054
  500000         822          498.8887          498.9062    0.0175
  600000         557          498.9837          498.9862    0.0025
  700000         134          499.1102          499.1050   -0.0052
  800000         710          499.1800          499.1870    0.0070
  900000         953          499.2081          499.2134    0.0053
 1000000         208          499.2690          499.2647   -0.0043
 1100000          55          499.1008          499.1059    0.0051
 1200000         948          499.1058          499.1114    0.0056
 1300000         750          499.1675          499.1942    0.0267
 1400000         876          499.2479          499.2886    0.0407
 1500000         253          499.2871          499.3292    0.0421
 2000000         210          499.2330          499.2541    0.0211
 3000000          39          499.1828          499.1958    0.0130
 4000000         718          499.0597          499.0905    0.0308
 5000000         758          499.1318          499.1558    0.0240
 6000000         782          499.0715          499.1010    0.0295
 7000000         485          499.0926          499.1150    0.0224
 8000000         768          499.0867          499.1361    0.0494
 9000000         974          499.0664          499.0814    0.0150
10000000         715          499.1114          499.0791   -0.0323
</code></pre><p>前面估算平均响应时间与最终结果的比较：</p>
<pre><code>第n十万次请求 与最终结果误差ms
  1         -0.2271
  2         -0.7094
  3         -0.1553
  4         -0.3421
  5         -0.0279
  6          0.0584
  7         -0.1672
  8         -0.0973
  9          0.0287
 10          0.0670
 11          0.1468
 12          0.1981
 13          0.1896
 14          0.2556
 15          0.2311
 20          0.2451
 30          0.0722
 40         -0.0506
 50         -0.0816
 60         -0.0248
 70          0.0446
 80         -0.0211
 90         -0.0259
100          0.0000
</code></pre><p>大约在10万次请求之后，误差值会小于0.1ms，最大不超过0.4ms，可以接受。</p>
<h4 id="最终算法"><a href="#最终算法" class="headerlink" title="最终算法"></a>最终算法</h4><pre><code>// count,restime
let avg = count &gt; 10E5 ? val : ((restime + parseFloat(val) * (count - 1))/count);
</code></pre><h4 id="P-S"><a href="#P-S" class="headerlink" title="P.S."></a>P.S.</h4><p>测试脚本</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">'fs'</span>);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">pad</span>(<span class="params">num, n</span>) </span>&#123;</span><br><span class="line"><span class="meta">    'use strict'</span>;</span><br><span class="line">    <span class="keyword">let</span> len = num.toString().length;</span><br><span class="line">    <span class="keyword">if</span> (len &gt; n) &#123;</span><br><span class="line">        <span class="keyword">return</span> num.toString().substr(len - n, n)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (len &lt; n) &#123;</span><br><span class="line">        num = <span class="string">' '</span> + num;</span><br><span class="line">        len++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> num;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// i,rand</span></span><br><span class="line">fs.open(<span class="string">'./log'</span>, <span class="string">'w'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">err, fd</span>) </span>&#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">        'use strict'</span>;</span><br><span class="line">        <span class="keyword">let</span> rand, avg, avg2, sum = <span class="number">0</span>, million = [];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt;= <span class="number">125</span> * <span class="number">10E4</span>; i++) &#123;</span><br><span class="line">            rand = <span class="built_in">Math</span>.floor(<span class="number">0</span> + <span class="built_in">Math</span>.random() * (<span class="number">999</span>));</span><br><span class="line">            sum += rand;</span><br><span class="line">            avg = (sum / <span class="number">1.0</span> / i).toFixed(<span class="number">4</span>);</span><br><span class="line">            <span class="comment">// i,rand</span></span><br><span class="line">            <span class="keyword">let</span> val = (rand + <span class="built_in">parseFloat</span>(avg2) * (i - <span class="number">1</span>)) / i;</span><br><span class="line">            <span class="comment">// 计算结束</span></span><br><span class="line">            <span class="keyword">if</span> (!avg2) &#123;</span><br><span class="line">                sum = rand * i;</span><br><span class="line">                avg = (sum / <span class="number">1.0</span> / i).toFixed(<span class="number">4</span>);</span><br><span class="line">                avg2 = rand;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                avg2 = val.toFixed(<span class="number">4</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">10E4</span> === <span class="number">0</span>) &#123;</span><br><span class="line">                million.push(avg2);</span><br><span class="line">                fs.write(fd, <span class="string">`<span class="subst">$&#123;pad(i, <span class="number">10</span>)&#125;</span>\t<span class="subst">$&#123;pad(rand, <span class="number">10</span>)&#125;</span>\t<span class="subst">$&#123;pad(avg, <span class="number">16</span>)&#125;</span>\t<span class="subst">$&#123;pad(avg2, <span class="number">16</span>)&#125;</span>\t<span class="subst">$&#123;pad((avg2 - avg).toFixed(<span class="number">4</span>), <span class="number">8</span>)&#125;</span>\n`</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;pad(i, <span class="number">10</span>)&#125;</span>\t<span class="subst">$&#123;pad(rand, <span class="number">10</span>)&#125;</span>\t<span class="subst">$&#123;pad(avg, <span class="number">16</span>)&#125;</span>\t<span class="subst">$&#123;pad(avg2, <span class="number">16</span>)&#125;</span>\t<span class="subst">$&#123;pad((avg2 - avg).toFixed(<span class="number">4</span>), <span class="number">8</span>)&#125;</span>`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        million.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">m, i</span>) </span>&#123;</span><br><span class="line">            fs.write(fd, <span class="string">`<span class="subst">$&#123;pad(i + <span class="number">1</span>, <span class="number">3</span>)&#125;</span>\t<span class="subst">$&#123;(million[<span class="number">124</span>] - m).toFixed(<span class="number">4</span>)&#125;</span>\n`</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;pad(i + <span class="number">1</span>, <span class="number">3</span>)&#125;</span>\t<span class="subst">$&#123;(million[<span class="number">124</span>] - m).toFixed(<span class="number">4</span>)&#125;</span>`</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>design</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>js</tag>
        <tag>algorithm</tag>
        <tag>logic</tag>
        <tag>performance</tag>
      </tags>
  </entry>
  <entry>
    <title>js版Leetcode spiral-matrix-ii</title>
    <url>/posts/2015/leetcode-spiral-matrix-ii/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>原题地址： <a href="https://leetcode.com/problems/spiral-matrix-ii/" target="_blank" rel="noopener">https://leetcode.com/problems/spiral-matrix-ii/</a></p>
<p><img src="http://www.2cto.com/uploadfile/Collfiles/20140104/20140104090008127.jpg" alt></p>
<p>Given an integer n, generate a square matrix filled with elements from 1 to n2 in spiral order.</p>
<p>For example,<br>Given <code>n = 3</code>,</p>
<p>You should return the following matrix:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">[</span><br><span class="line"> [ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> ],</span><br><span class="line"> [ <span class="number">8</span>, <span class="number">9</span>, <span class="number">4</span> ],</span><br><span class="line"> [ <span class="number">7</span>, <span class="number">6</span>, <span class="number">5</span> ]</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="JS版-148ms-通过结果"><a href="#JS版-148ms-通过结果" class="headerlink" title="JS版 148ms 通过结果"></a>JS版 148ms 通过结果</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns <span class="type">&#123;number[][]&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> generateMatrix = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = [];</span><br><span class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(;index &lt; n;index++) &#123;</span><br><span class="line">    	result.push(<span class="keyword">new</span> <span class="built_in">Array</span>(n));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span>, j = <span class="number">0</span>, directionX = <span class="number">0</span>, directionY = <span class="number">1</span>;</span><br><span class="line">    index = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(index &lt;= <span class="built_in">Math</span>.pow(n,<span class="number">2</span>)) &#123;</span><br><span class="line">    	result[i][j] = index++;</span><br><span class="line">    	<span class="keyword">if</span>((directionX === <span class="number">0</span> &amp;&amp; directionY === <span class="number">1</span>) &amp;&amp; (j === n<span class="number">-1</span> || result[i][j+<span class="number">1</span>] !== <span class="literal">undefined</span>))&#123;</span><br><span class="line">    		directionX = <span class="number">1</span>;</span><br><span class="line">    		directionY = <span class="number">0</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">else</span> <span class="keyword">if</span>((directionX === <span class="number">1</span> &amp;&amp; directionY === <span class="number">0</span>) &amp;&amp; (i === n<span class="number">-1</span> || result[i+<span class="number">1</span>][j] !== <span class="literal">undefined</span>))&#123;</span><br><span class="line">    		directionX = <span class="number">0</span>;</span><br><span class="line">    		directionY = <span class="number">-1</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">else</span> <span class="keyword">if</span>((directionX === <span class="number">0</span> &amp;&amp; directionY === <span class="number">-1</span>) &amp;&amp; (j === <span class="number">0</span> || result[i][j<span class="number">-1</span>] !== <span class="literal">undefined</span>))&#123;</span><br><span class="line">    		directionX = <span class="number">-1</span>;</span><br><span class="line">    		directionY = <span class="number">0</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	<span class="keyword">else</span> <span class="keyword">if</span>((directionX === <span class="number">-1</span> &amp;&amp; directionY ===<span class="number">0</span>) &amp;&amp; (i === <span class="number">0</span> || result[i<span class="number">-1</span>][j] !== <span class="literal">undefined</span>))&#123;</span><br><span class="line">    		directionX = <span class="number">0</span>;</span><br><span class="line">    		directionY = <span class="number">1</span>;</span><br><span class="line">    	&#125;</span><br><span class="line">    	i += directionX;</span><br><span class="line">    	j += directionY;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>js版Leetcode接受率最低题valid-number</title>
    <url>/posts/2015/leetcode-valid-number/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>原题地址： <a href="https://leetcode.com/problems/valid-number/" target="_blank" rel="noopener">https://leetcode.com/problems/valid-number/</a></p>
<p>Validate if a given string is numeric.</p>
<h3 id="Some-examples"><a href="#Some-examples" class="headerlink" title="Some examples:"></a>Some examples:</h3><blockquote>
<p>“0” =&gt; true</p>
<p>“ 0.1 “ =&gt; true</p>
<p>“abc” =&gt; false</p>
<p>“1 a” =&gt; false</p>
<p>“2e10” =&gt; true</p>
<p>Note: It is intended for the problem statement to be ambiguous. You should gather all requirements up front before implementing one.</p>
</blockquote>
<a id="more"></a>
<h2 id="JS一句话版-通过结果"><a href="#JS一句话版-通过结果" class="headerlink" title="JS一句话版 通过结果"></a>JS一句话版 通过结果</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">s</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isNumber = <span class="function"><span class="keyword">function</span> (<span class="params">s</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="regexp">/^\s*[+-]?(\.[0-9]+|[0-9]+(\.[0-9]*)?)(e[+-]?[0-9]+)?\s*$/</span>.test(s);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>js版Leetcode第一难题wildcard-matching</title>
    <url>/posts/2015/leetcode-wildcard-matching/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>原题地址： <a href="https://leetcode.com/problems/wildcard-matching/" target="_blank" rel="noopener">https://leetcode.com/problems/wildcard-matching/</a></p>
<p> Implement wildcard pattern matching with support for ‘?’ and ‘*’.</p>
<p> ‘?’ Matches any single character.</p>
<p> ‘*’ Matches any sequence of characters (including the empty sequence).</p>
<p> The matching should cover the entire input string (not partial).</p>
<p> The function prototype should be:</p>
<p> bool isMatch(const char *s, const char *p)</p>
<a id="more"></a>
<h3 id="Some-examples"><a href="#Some-examples" class="headerlink" title="Some examples:"></a>Some examples:</h3><blockquote>
<p>isMatch(“aa”,”a”) → false</p>
<p>isMatch(“aa”,”aa”) → true</p>
<p>isMatch(“aaa”,”aa”) → false</p>
<p>isMatch(“aa”, “*”) → true</p>
<p>isMatch(“aa”, “a*”) → true</p>
<p>isMatch(“ab”, “?*”) → true</p>
<p>isMatch(“aab”, “c<em>a</em>b”) → false</p>
</blockquote>
<h2 id="Timeout版-结果"><a href="#Timeout版-结果" class="headerlink" title="Timeout版 结果"></a>Timeout版 结果</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//Timeout Version:</span></span><br><span class="line"><span class="keyword">var</span> isMatch = <span class="function"><span class="keyword">function</span> (<span class="params">s, p</span>) </span>&#123;</span><br><span class="line">	p = p.replace(<span class="regexp">/\?/g</span>, <span class="string">'.'</span>).replace(<span class="regexp">/\*+/g</span>, <span class="string">".*"</span>);</span><br><span class="line">	<span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'^'</span> + p + <span class="string">'$'</span>);</span><br><span class="line">	<span class="keyword">return</span> reg.test(s);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>正则表达式的效率还是很低的.</p>
<h2 id="JS版-通过结果"><a href="#JS版-通过结果" class="headerlink" title="JS版 通过结果"></a>JS版 通过结果</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">str</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">pattern</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> isMatch = <span class="function"><span class="keyword">function</span> (<span class="params">str, pattern</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">var</span> s = <span class="number">0</span>, p = <span class="number">0</span>, match = <span class="number">0</span>, index = <span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">while</span> (s &lt; str.length) &#123;</span><br><span class="line">		<span class="keyword">if</span> (p &lt; pattern.length &amp;&amp; (pattern.charAt(p) == <span class="string">'?'</span> || str.charAt(s) === pattern.charAt(p))) &#123;</span><br><span class="line">			s++;</span><br><span class="line">			p++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (p &lt; pattern.length &amp;&amp; pattern.charAt(p) === <span class="string">'*'</span>) &#123;</span><br><span class="line">			index = p;</span><br><span class="line">			match = s;</span><br><span class="line">			p++;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (index != <span class="number">-1</span>) &#123;</span><br><span class="line">			p = index + <span class="number">1</span>;</span><br><span class="line">			match++;</span><br><span class="line">			s = match;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> (p &lt; pattern.length &amp;&amp; pattern.charAt(p) === <span class="string">'*'</span>) &#123;</span><br><span class="line">		p++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> p === pattern.length;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>待重头、涅槃——二十六周岁思绪</title>
    <url>/posts/2015/26th-birth/</url>
    <content><![CDATA[<p>如果你今天没有努力，明天就不会成功。</p>
<h2 id="风格"><a href="#风格" class="headerlink" title="风格"></a>风格</h2><p>很久没有记录文字，摸起键盘已经不知道该说些什么。我已经忘记了自己曾要做一个诗人，做一个小说作家。翻看回这几年来每一年写的东西，没能让自己读完，太过于悲观，或许是人生中最坎坷曲折的几个年头，但更多的，只是宣泄。就像不知道从什么时候开始，连自己都不愿意看到镜子里的自己，又胖，又黑，这也就罢了，感觉还越来越丑了。</p>
<p>一直在围绕<code>生活</code>、<code>事业</code>、<code>爱情</code>来开展，似乎也是时候换一种风格了。</p>
<a id="more"></a>
<h2 id="进展-Progress-我达到的程度"><a href="#进展-Progress-我达到的程度" class="headerlink" title="进展(Progress) - 我达到的程度"></a>进展(Progress) - 我达到的程度</h2><p>在非技术领域涉猎广泛，尤其对经济学、心理学、物联网产业和产品、用户体验等各个方面。</p>
<p>呵呵，像上面这种废话就没什么说的必要了。虽然确实是事实。</p>
<p>现实和理想还是有差距的。去衡量一个人一段时间提升了多少，最好的方法就是去衡量他创造了多说价值，以及给亲友带来多少便利。换言之，我做的很多事情并没有什么价值，并与我设想的相差甚远。总体来说，做的事情大多是很简单的，简单的事情我完成得也算不错。</p>
<p>说来惭愧，每天挣扎在各种简单没有技术含量的事情中，大多做出来的成果也无非就是把一件简单的事情换另一种更简单的方法实现。而我渴望着，更大的困境和挑战。</p>
<h2 id="过程-Process-我在做的事情"><a href="#过程-Process-我在做的事情" class="headerlink" title="过程(Process) - 我在做的事情"></a>过程(Process) - 我在做的事情</h2><p>不用多说也知道，一直是在做一些服务器相关的事情，目前主要是在做Open API平台和后台管理系统。关键词： DevOps、全栈、算法、性能、安全、并发、数据处理。</p>
<p>正如我刚说的，实际上做的事情都是在重复一些简单过程。是时候做出一些改变了，尝试一些新事物，和一些新创意。</p>
<p>除了主要工作，排在首位的是学习如何进行团队的协作与管理，这是一个薄弱点。</p>
<p>工作之外的事情，并没有什么好消息。</p>
<h2 id="计划-Program-我可能会去尝试"><a href="#计划-Program-我可能会去尝试" class="headerlink" title="计划(Program) - 我可能会去尝试"></a>计划(Program) - 我可能会去尝试</h2><p>我又不是英雄，拯救世界我做不来。<br>在路上，做的都是为了先给自己一个更好的世界，给爱的人一个更好的世界，然后，才可能是给这个世界一个更好的世界。</p>
<p>这里有一份代办事项清单（未来的一年内）：</p>
<ol>
<li><strong>读一些书。</strong>其实今年已经又买了很多，但因为很忙还没读完，如一些幽默故事，诗歌，技术等相关的。</li>
<li><strong>一场远行。</strong>暂定1000KM之外。</li>
<li><strong>复习英语。</strong>落下了很久，已经生疏了。</li>
<li><strong>一次升职。</strong>然后给自己定更高的目标。</li>
<li><strong>改善生活习惯。</strong>健康的身体，革命的本钱。</li>
<li><strong>一段感情。</strong>一起步入爱情的坟墓。</li>
</ol>
<p>或许并不算一件难事，建立一个家，积攒起匮乏的安全感。当然也不是那么简单的一件事。</p>
<h2 id="结束亦是开始"><a href="#结束亦是开始" class="headerlink" title="结束亦是开始"></a>结束亦是开始</h2><p>记忆总是泛着一丝苦味，所以谈起的时候再努力也会显得有些消极，但实际上，面对未来，我是很乐观的人。我喜欢计划，也有明确的方向感。</p>
<p>写到这里的时候我扫视了一遍前文，宠辱不惊的感觉并不喜欢，实际在过去的一年里，喜悲不断。那就少写一点吧，多做一些实事。</p>
<p>不求做伟大的人，却要做大写的人，这就是我。</p>
<hr>
<p>If you are not getting tired out today, you will not succeed tomorrow.</p>
<h2 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h2><p>It has been a very long period before I write something. When I touch the keyboard, my brain goes empty. I can hardly remember I’d like to be a poet, a novelist. Turned back to those words I wrote every birthday, too negative too naive. Perhaps those days could be the worst of all my half life, more behind that are catharses. Just as, I began to hate the guy I see in the mirror, fat, dark, and ugly.</p>
<p>Around with <code>Life</code>, <code>Work</code> and <code>Love</code> things for long, it’s time to have a new style.</p>
<h3 id="Life-Love-and-Work-things"><a href="#Life-Love-and-Work-things" class="headerlink" title="Life Love and Work things"></a>Life Love and Work things</h3><p>The game of life is hard to play. It’s not a easy thing to describe and I choose to leave it unsaid. However to draw a conclusion, there hadn’t been anything important happened during the past year. </p>
<h2 id="Progress-Things-I’ve-done"><a href="#Progress-Things-I’ve-done" class="headerlink" title="Progress - Things I’ve done."></a>Progress - Things I’ve done.</h2><p>In the Non-Technical field, dabbling in many areas especially the economy, the psychology, the IoT industries and products and user experiences.</p>
<p>What a load of crap. Altough it’s the truth.</p>
<p>The ideal is the ideal and the reality is the reality. The best way to evaluate the improvement of a person in a period of time, is to calculate how much value had he created and how much benefits had he brought to ralated.</p>
<p>In another way, most things I done make no sense. And they are far awawy from I expected. In general, most things done are simple, and simple things go well. </p>
<p>It’s ashamed to say, the progress I’m struggling with usually comes in a easy way and be made to another easier way. What I hope to deal with, is something hard and tough.</p>
<h2 id="Process-Things-I’m-doing"><a href="#Process-Things-I’m-doing" class="headerlink" title="Process - Things I’m doing."></a>Process - Things I’m doing.</h2><p>No need to say, the work is always around server-side things. Major in Open API Platform and Admin Dashboard Management System. Keywords: DevOps, Full Stack, Algorithm, Performance, Security, Concurrency, Data Analysis.</p>
<p>As I just said, repeating simple things. And it’s time to make some changes, and do something new, something creative.</p>
<p>Except main job, lerning team cooperation and management is the top thing, ‘coz it’s a weakness of mine.</p>
<p>When not on the job, there is barely good news.</p>
<h2 id="Program-Things-I’ll-do"><a href="#Program-Things-I’ll-do" class="headerlink" title="Program - Things I’ll do."></a>Program - Things I’ll do.</h2><p>I’m not a hero, I can’t save the world. On the road making a better world for myself, my beloved and then perhaps the whole world.</p>
<p>There is a list doing and todo for the following year.</p>
<ol>
<li>Read several books, such as humor stories, poems, technical and so on.</li>
<li>Go on a trip, distance over 1000km.</li>
<li>Review English.</li>
<li>Enhance the job position.</li>
<li>Improve living habits.</li>
<li>Start a relationship. </li>
</ol>
<p>Maybe it’s not a hard thing, to build a home up I need, to gain the the security sense I lost. However it’s not so easy.</p>
<h2 id="Start-Over"><a href="#Start-Over" class="headerlink" title="Start Over"></a>Start Over</h2><p>Memories are always a bit of bitter. When it comes to the begones, it seems some negative but in fact I’m affirmative. I like plans and  I have a clear sense of direction. Write less, do more.</p>
<p>To be Willin, is to be willing.</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo文章计数插件WordCount</title>
    <url>/posts/2015/hexo-wordcount/</url>
    <content><![CDATA[<p>灵感来自<a href="http://www.jianshu.com/users/6c72e78080ff" target="_blank" rel="noopener">简书</a>。</p>
<p>字数统计的结果跟简书有差异，主要是由于本插件只统计了中文字数和英文单词数，所以结果会比简书统计的字数略少一些。</p>
<p>特别适合文字爱好者，比如我。</p>
<a id="more"></a>
<p><a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/hexo-wordcount.svg" alt="npm"></a> </p>
<p><a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dt/hexo-wordcount.svg" alt="npm"></a> </p>
<p>项目地址： <a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener">https://npmjs.org/package/hexo-wordcount</a></p>
<h2 id="安装和使用"><a href="#安装和使用" class="headerlink" title="安装和使用"></a>安装和使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm i <span class="comment">--save hexo-wordcount</span></span><br></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>修改<code>Themes</code>模板文件，在<code>Post</code>文章模板区域加入：</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span></span><span class="template-variable">&#123;&#123; wordcount(post.content) &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>即可统计单篇文章的字数。</p>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span></span><span class="template-variable">&#123;&#123; totalcount(site) &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br></pre></td></tr></table></figure>
<p>上面这句是统计总字数的，可以放到<code>Footer</code>或其他位置里。</p>
<hr>
<p>A Word Count plugin for Hexo.</p>
<h2 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h2><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-wordcount <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<h2 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h2><h3 id="Swig"><a href="#Swig" class="headerlink" title="Swig"></a>Swig</h3><p>Post Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&#123;&#123; wordcount(post.content) &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>Total Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&#123;&#123; totalcount(site) &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Ejs"><a href="#Ejs" class="headerlink" title="Ejs"></a>Ejs</h3><p>Post Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&lt;%= wordcount(post.content) %&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>Total Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&lt;%= totalcount(site) %&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<h3 id="Jade"><a href="#Jade" class="headerlink" title="Jade"></a>Jade</h3><p>Post Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">span.post-count= wordcount(post.content)</span><br></pre></td></tr></table></figure>
<p>Total Count:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">span.post-count= totalcount(site)</span><br></pre></td></tr></table></figure>
<h2 id="LICENSE"><a href="#LICENSE" class="headerlink" title="LICENSE"></a>LICENSE</h2><p>MIT</p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>plugin</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js跨应用TCP Socket连接通讯优化</title>
    <url>/posts/2015/nodejs-socket-performance/</url>
    <content><![CDATA[<h2 id="应用场景描述"><a href="#应用场景描述" class="headerlink" title="应用场景描述"></a>应用场景描述</h2><ol>
<li>有一个Socket应用,会有连接接入进来</li>
<li>另外有一个测试工具应用,会向某一连接下发消息</li>
</ol>
<h2 id="原始方案一"><a href="#原始方案一" class="headerlink" title="原始方案一"></a>原始方案一</h2><p><img src="http://w3log.qiniudn.com/nodejs/1.jpg" alt="原始方案1"></p>
<a id="more"></a>
<p>将测试工具的下行消息暂存到Redis缓存中.</p>
<p>每个接入的Socket分配一个Timer轮询,从缓存中读取消息下发.</p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h3><p>Socket关闭后Timer的清除,有的可以有的不可以(原因不详),就导致了内存泄露,程序崩溃.</p>
<h2 id="原始方案二"><a href="#原始方案二" class="headerlink" title="原始方案二"></a>原始方案二</h2><p><img src="http://w3log.qiniudn.com/nodejs/2.jpg" alt="原始方案2"></p>
<p>依然用Redis缓存下行消息.</p>
<p>一个全局的Timer轮询,每个Socket连接放入堆栈,关闭就pop出去.</p>
<h3 id="问题-1"><a href="#问题-1" class="headerlink" title="问题"></a>问题</h3><p>具体问题描述不详,PM2和Alinode监控内存和CPU占用都很低.</p>
<p>但就是在一段时间后,Socket应用不再工作.</p>
<h2 id="新方案"><a href="#新方案" class="headerlink" title="新方案"></a>新方案</h2><p><img src="http://w3log.qiniudn.com/nodejs/3.jpg" alt="新方案"></p>
<p>不用Redis进行消息缓存,把测试工具也当成一个Socket连接.</p>
<p>当有下行消息,测试工具立即将消息发给Socket应用.</p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><ol>
<li>新方案中不再有轮询,消息实时性高</li>
<li>不再有消息队列,节省服务器资源</li>
</ol>
]]></content>
      <categories>
        <category>design</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>logic</tag>
        <tag>performance</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.1.1 搬家</title>
    <url>/posts/2016/move-house/</url>
    <content><![CDATA[<p>终于把亲水湾的房子退了，租房多年来最令人反感的一个房东。我只记得他姓陈，好像叫陈明武还是什么来着，不重要了，反正已经拉黑了。</p>
<p>令人反感，并不是因为他多丑，至少第一眼看上去挺和善的。总结起来，可能主要有两点，一是不尊重人，也不顾及他人隐私；另一点就是太过于贪婪，占别人便宜。</p>
<a id="more"></a>
<p>最早有想走的念头是因为他总是趁我不在家的时候光顾我这边。我有一个习惯，关门的时候会留一点小心思，这样有人动过我就知道了；发现了几次之后，我不确定是不是房东来过，直到有一天身体不适没去上班，房东带！人！来！看！房！而我衣衫还不整地躺在床上。后来也有过很多次，而却从来没有跟我打过招呼。</p>
<p>住了一年多的时候，热水器老化坏了，我请他来修。修好了之后他跟我说花了几百块钱，要我出。当时我就在想，是不是我修的钱我出了，等我走了就可以带走？为什么由我修给下一个房客用呢？我交了那么多房租，不就是为了跟毛坯房有点不一样的享受么？退房当天漏接了我很多个电话，晚上的时候终于接电话了，说自己喝高了。我不想拆穿这个老人家，真不是演技派，破绽太过了。电话里面晕得要死要活的，见了面跟没事人一样；在嘴里漱了两口酒，毛孔里一点点酒味都散不出来。年轻人可能阅历浅，但这只是相对的；无知果然比知识更容易让人产生自信，为老不尊。床留下来了，床垫留下来了，风扇留下来了，电热毯留下来了，空调留下来了；空调还是新的，2800买的，给了100块（实际上一毛也没给，因为押金是给了2500，他却说押金2400，这是后来才回过头想起来的）。剩的两个月房租也没退，借口是房子要卖两个月也租不出去了。不知道是不是人越老越糊涂了，一是你房子卖不卖租不租出去跟我没有半毛钱关系，我并没义务未你承担风险；二是傻子才信你会卖，要卖早卖了，隔三差五偷偷带个人来看房子，明显是价格要得抬高谈不拢，又贪得无厌不肯让。</p>
<p>很多事情，不方便拆穿。就像不照镜子不知道自己脸多丑，一旦看到自己的脸可能都会被自己吓死。有那么些的人，钱越多反而越贪婪；年岁越高反而越无耻。想想挺可悲的。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>mood</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.1.2 月捐停止</title>
    <url>/posts/2016/stop-tencent-public-welfare/</url>
    <content><![CDATA[<p>截止到2015年12月，我整整为壹基金坚持捐款了五年（60个月）了。</p>
<a id="more"></a>
<p>不知道腾讯公益抽什么风，月捐不能在线付了。改成微信支付，付了还不知道成功了没有。页面上的捐款人数也瞎跳，支付前显示当月已捐赠9人，支付后变成了8人。。。</p>
<p>也不知道，还有没有人，也是跟我一样坚持把公益做了这么久，却被平台抛弃了。</p>
<p>善心常在。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>public welfare</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.01.05 多面世界</title>
    <url>/posts/2016/multiple-world/</url>
    <content><![CDATA[<p>好像，只有难听的话表达得才最为真实。<br>而其他的话，无论好坏，都可能会跟上转折。</p>
<p>比如，你真丑（我真的嫌弃你）；<br>比如，你真胖（我真的嫌弃你）；<br>比如，你真矮（我真的嫌弃你）；<br>比如，……</p>
<a id="more"></a>
<p>比如，天很晚了（我不想见到你）；<br>比如，我吃饱了（我不想见到你）；<br>比如，你很忙啊（我不想见到你）；<br>比如，……</p>
<p>比如，你是好人（但我不喜欢你）；<br>比如，你很优秀（但我不喜欢你）；<br>比如，你很体贴（但我不喜欢你）；<br>比如，……</p>
<p>我一直不能明白，什么话像说出来的那么简单，什么话有更深的一层含义。<br>我也一直不能明白，为什么两个人能一个像夏天，一个像冬天。</p>
<p>有的人，在外面很坚强，总是努力保持着微笑，却总是对着屏幕哭得很伤心；<br>也有的人，内外都脆弱，总是轻易落下眼泪，却也总是对着屏幕开怀大笑。</p>
<p>有的人，想得很多，肩负起责任，想要无忧无虑却总是劳心劳累；<br>也有的人，不去想未来，依然不轻松，想没有烦恼却只能没心没肺。</p>
<p>有的人，充满了希望，总是想从黑暗中找寻出一丝光亮；<br>也有的人，躲在阴影下，即便是晴天也只注意到一片乌云。</p>
<p>这是一个多面的世界，有光照的地方，自然有阴暗。<br>我不愿从别人的表情里揣测到这个世界有多么美好，所以我学会了用耳倾听；<br>我不愿从别人的言语里听闻到这个世界有多么美好，所以我学会了用眼观察；<br>我不愿从别人的生活里目睹到这个世界有多么美好，所以我学会了用心体会。</p>
<p>这是一个不完美的世界，有人欢笑，自然有人哀伤。<br>悲伤的人那么多，不要再多一个两个你我。</p>
<p>每一场暴雨终究都会停歇，就像每一幕黑夜终究都会白昼。<br>每一段烦恼也终究都会消散。<br>一切都会好起来。<br>你要相信。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>mood</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js版Hello Dolly</title>
    <url>/posts/2016/node-hello-dolly/</url>
    <content><![CDATA[<p><img src="https://badge.fury.io/js/hello-dolly.svg" alt="version"><br><img src="https://img.shields.io/npm/dm/hello-dolly.svg" alt="downloads"><br><img src="https://img.shields.io/npm/dt/hello-dolly.svg" alt="downloads"> </p>
<p>This is not just a plugin, it symbolizes the hope and enthusiasm of an entire generation summed up in two words sung most famously by Louis Armstrong.</p>
<a id="more"></a>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hello-dolly</span></span><br></pre></td></tr></table></figure>
<p>示例:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> hello_dolly = <span class="built_in">require</span>(<span class="string">'hello-dolly'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hello_dolly());<span class="comment">//English</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hello_dolly(<span class="string">'en'</span>));<span class="comment">//English</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hello_dolly(<span class="string">'zh-CN'</span>));<span class="comment">//Simplified-Chinese</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(hello_dolly(<span class="string">'test'</span>));<span class="comment">//Others Default Language English</span></span><br></pre></td></tr></table></figure>
<p>惟一参数 <code>语言</code>.</p>
<h2 id="如何贡献"><a href="#如何贡献" class="headerlink" title="如何贡献"></a>如何贡献</h2><p>多语言支持需要. 请随意 <code>Fork</code>.</p>
<p>项目地址: <a href="https://github.com/willin/node-hello-dolly" target="_blank" rel="noopener">https://github.com/willin/node-hello-dolly</a></p>
<p><img src="http://forthebadge.com/images/badges/built-with-love.svg" alt="with-love"></p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>plugin</tag>
      </tags>
  </entry>
  <entry>
    <title>js版Leetcode Single Number</title>
    <url>/posts/2016/leetcode-single-number/</url>
    <content><![CDATA[<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>原题地址: <a href="https://leetcode.com/problems/single-number/" target="_blank" rel="noopener">https://leetcode.com/problems/single-number/</a></p>
<blockquote>
<p>Given an array of integers, every element appears twice except for one. Find that single one.</p>
<blockquote>
<p>Note:</p>
<p>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
</blockquote>
</blockquote>
<a id="more"></a>
<p>问题描述:</p>
<blockquote>
<p>给出一个奇数位的数组, 所有元素都出现了两次,除了其中的一个数,找出这个孤立的数.</p>
</blockquote>
<p>例子:  <code>[1,2,3,2,1,4,4]</code></p>
<p>输出应该为: <code>3</code></p>
<p>要求：设计的算法是线性的复杂度，并且不要用额外的内存空间。</p>
<h2 id="超时答案"><a href="#超时答案" class="headerlink" title="超时答案"></a>超时答案</h2><h3 id="超时答案一"><a href="#超时答案一" class="headerlink" title="超时答案一"></a>超时答案一</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> singleNumber = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nums.length;i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> result = nums.shift();</span><br><span class="line">        <span class="keyword">if</span>(nums.indexOf(result)===<span class="number">-1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h3 id="超时答案二"><a href="#超时答案二" class="headerlink" title="超时答案二"></a>超时答案二</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> singleNumber = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (nums.length === <span class="number">1</span>) <span class="keyword">return</span> nums[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i === nums.lastIndexOf(nums[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="解题思路"><a href="#解题思路" class="headerlink" title="解题思路"></a>解题思路</h2><p>异或运算的几个相关公式：</p>
<ol>
<li>a ^ a = 0</li>
<li>a ^ b = b ^ a</li>
<li>a ^ b ^ c = a ^ (b ^ c) = (a ^ b) ^ c</li>
<li>d = a ^ b ^ c 可以推出 a = d ^ b ^ c</li>
<li>a ^ b ^ a = b</li>
</ol>
<p>本题可以抽象成：int数组里有x1, x2 … xn（每个出现2次），和y（只出现一次），得出y的值。</p>
<p>由公式2可知，数组里面所有数异或的结果等于 x1^x1^x2^x2^…^xn^xn^y</p>
<p>由公式3可知，上式等于(x1^x1)^(x2^x2)^…^(xn^xn)^y</p>
<p>由公式1可知，上式等于(0)^(0)^…(0)^y = y</p>
<p>因此只需要将所有数字异或，就可得到结果。</p>
<h2 id="通过答案"><a href="#通过答案" class="headerlink" title="通过答案"></a>通过答案</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> singleNumber = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;nums.length;i++) &#123;</span><br><span class="line">        result ^= nums[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>es6:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> singleNumber = <span class="function">(<span class="params">nums</span>) =&gt;</span> nums.reduce(<span class="function">(<span class="params">x, y</span>) =&gt;</span> x^y);</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.01.27 治国</title>
    <url>/posts/2016/think-about-leading/</url>
    <content><![CDATA[<p>之前听过这么一个段子，说一个人跳槽，无非只有这么<strong>两点</strong>动机。</p>
<h2 id="钱，少了。"><a href="#钱，少了。" class="headerlink" title="钱，少了。"></a>钱，少了。</h2><blockquote>
<p>王者之国，使人民富裕；霸者之国，使士富裕；仅存之国，使大夫富裕；无道之国，国库富裕。——姜子牙</p>
</blockquote>
<p>很多时候，我不是很明白，工作那么拼命到底是为什么。包括我自己，身边的很多人都很努力，却都很可悲。流光容易把人抛，红了樱桃，绿了芭蕉。累死累活，把自己拖垮了，低头看看瘪瘪的钱包，基本上还是一无所有。</p>
<a id="more"></a>
<p>那么多年，我们究竟努力把钱塞满了谁的口袋？</p>
<h2 id="心，累了。"><a href="#心，累了。" class="headerlink" title="心，累了。"></a>心，累了。</h2><blockquote>
<p>域民不以封疆之界，固国不以山溪之险，威天下不以兵革之利。得道者多助，失道者寡助。寡助之至，亲戚畔之。多助之至，天下顺之。——《孟子·公孙丑下》</p>
</blockquote>
<p>一种情况，是失人心。做到因势而谋、应势而动、顺势而为，或许是一件很容易的事情。但总是逆势而行，或恐回天乏力，神仙难救。</p>
<blockquote>
<p>丘也闻有国有家者，不患寡而患不均，不患贫而患不安。盖均无贫，和无寡，安无倾。夫如是，故远人不服，则修文德以来之。既来之，则安之。——《论语·季氏》</p>
</blockquote>
<p>另一种情况，是失公正。公是公平，正是正义。若私心太重，罔顾客观事实，所及之处，人心不服。</p>
<p>故有 <strong><em>依道不依势、依志不依力</em></strong> <i class="fa fa-check-square-o"></i>之说。</p>
<hr>
<blockquote>
<p>古之欲明明德于天下者，先治其国；欲治其国者，先齐其家；欲齐其家者，先修其身；欲修其身者，先正其心；欲正其心者，先诚其意；欲诚其意者，先致其知，致知在格物。物格而后知至，知至而后意诚，意诚而后心正，心正而后身修，身修而后家齐，家齐而后国治，国治而后天下平。——《礼记·大学》</p>
</blockquote>
<p>一般而言，男人，成家立业。先成家后立业，或者专心扑在工作上，不成家。工作不着家的领导，不跟也罢。</p>
<p>一般而言，人非圣贤，多多少少都会有些私心。要做到利他真的很不容易，但至少，应该与人无害。</p>
<p>一般而言，所有美好的愿景，都是幻想；所有画的大饼，都会泡汤。只有脚踏实地，一步一个脚印，才能闯出一片天。</p>
<hr>
<blockquote>
<p>人心所归，惟道与义。——《晋书·熊远传》</p>
</blockquote>
<p>人就是很奇怪，总喜欢自己骗自己，却不喜欢别人骗自己。凭君莫话封侯事，一将功成万骨枯。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>career</tag>
        <tag>mood</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo文章阅读时长预计</title>
    <url>/posts/2016/hexo-min2read/</url>
    <content><![CDATA[<p>这是对<a href="http://blog.willin.wang/posts/2015/hexo-wordcount/" target="_blank" rel="noopener">Hexo文章计数插件</a>的一次更新.</p>
<p>效果可参考本站.</p>
<a id="more"></a>
<p><a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/hexo-wordcount.svg" alt="npm"></a> </p>
<p><a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dt/hexo-wordcount.svg" alt="npm"></a> </p>
<p>项目地址： <a href="https://npmjs.org/package/hexo-wordcount" target="_blank" rel="noopener">https://npmjs.org/package/hexo-wordcount</a></p>
<h2 id="安装和使用"><a href="#安装和使用" class="headerlink" title="安装和使用"></a>安装和使用</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>依然是:</p>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm i <span class="comment">--save hexo-wordcount</span></span><br></pre></td></tr></table></figure>
<h3 id="升级"><a href="#升级" class="headerlink" title="升级"></a>升级</h3><figure class="highlight q"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">update</span> hexo-wordcount --<span class="built_in">save</span></span><br></pre></td></tr></table></figure>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><p>修改主题模板,</p>
<p>SWIG语法:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&#123;&#123; min2read(post.content) &#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>EJS语法:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;span class=&quot;post-count&quot;&gt;&lt;%= min2read(post.content) %&gt;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>JADE语法:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">span.post-count= min2read(post.content)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>plugin</tag>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.2.29 人为什么活着</title>
    <url>/posts/2016/why-people-live/</url>
    <content><![CDATA[<p>乔布斯生前有一句口头禅：“活着就是为了改变世界”。</p>
<p>每个人活着，都是为了改变这个世界。这并不是痴人说梦。小的时候会想，长大了当个科学家，让全世界知道。慢慢长大了发现，这种机缘可遇而不可求，不能够帮助所有人改变。然后就想着，做些什么，能够影响到绝大多数人，这也是很难的。世界很大，同时也很小。至少，可以帮助身边的人改善，哪怕只是影响到三五百人，甚至只有三五个人，也不算白活一场。</p>
<a id="more"></a>
<p>很多人活着，却活不明白。人可以没有梦想，但不能没有方向。赚钱不能算是活着的目的，它只应是一种结果。向上爬也不能算是活着的意义，得道者多助，而道可道，非常道。作为一个男人，肩负的责任很多，让心爱的人幸福是其中一部分。怎么让自己的爱人幸福？赚很多钱给她花，让她过上体面的生活？如果说爱要跟金钱挂钩，这跟包养有什么区别，惟一的不同，一个是天天睡，一个不是天天睡，仅此。</p>
<p>对待亲近的人，能给他什么不是最重要的，能让他学会什么，帮助他得到更多，才是最好的状态。对待自己，不能指望别人的施舍可怜，更不能自怨自艾。我看过一篇文章《<a href="http://weibo.com/p/1001603853762379791477" target="_blank" rel="noopener">你弱你有理</a>》。弱，有理吗？穷，不是你口袋里面有多少，而是你心里面有多少。心里少，口袋里再多，花完也只是时间；心里多，口袋里再少，赚来也只是时间。修身，齐家，治国，平天下，做人最大的乐趣就是在混乱之中找到属于自己的系统。浮躁的社会之中更该如此。</p>
<p>活着就是为了改变世界；改变世界就是为了证明人生的意义；证明人生的价值就是人为什么活在这个世界上。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>thought</tag>
        <tag>mood</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL跨表数据同步优化</title>
    <url>/posts/2016/cross-tables-mysql-performance/</url>
    <content><![CDATA[<h2 id="应用场景描述"><a href="#应用场景描述" class="headerlink" title="应用场景描述"></a>应用场景描述</h2><blockquote>
<p>有两张设备在线状态表,其中一张记录心跳时间戳(<code>tb1</code>),另一张做异地数据同步(<code>tb2</code>).</p>
</blockquote>
<h2 id="原始方案"><a href="#原始方案" class="headerlink" title="原始方案"></a>原始方案</h2><figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">&gt; 查询tb1所有数据,循环(<span class="keyword">select</span> <span class="keyword">all</span>)</span><br><span class="line">  &gt;&gt; 判断该条数据对应的设备是否依然在线</span><br><span class="line">    &gt;&gt;&gt; 若在线</span><br><span class="line">      &gt;&gt;&gt;&gt; 查找tb2中是否存在该设备ID(<span class="keyword">select</span> <span class="keyword">limit</span> <span class="number">1</span>)</span><br><span class="line">        &gt;&gt;&gt;&gt;&gt; 若存在,更新(在线:<span class="literal">true</span>, <span class="keyword">update</span> <span class="number">1</span>)</span><br><span class="line">        &gt;&gt;&gt;&gt;&gt; 若不存在,插入(在线:<span class="literal">true</span>, <span class="keyword">update</span> <span class="number">1</span>)</span><br><span class="line">    &gt;&gt;&gt; 若不在线</span><br><span class="line">      &gt;&gt;&gt;&gt; 查找tb2中是否存在该设备ID(<span class="keyword">select</span> <span class="keyword">limit</span> <span class="number">1</span>)</span><br><span class="line">              &gt;&gt;&gt;&gt;&gt; 若存在,更新(在线:<span class="literal">false</span>, <span class="keyword">insert</span> <span class="number">1</span>)</span><br><span class="line">              &gt;&gt;&gt;&gt;&gt; 若不存在,插入(在线:<span class="literal">false</span>, <span class="keyword">insert</span> <span class="number">1</span>)</span><br><span class="line">      &gt;&gt;&gt;&gt; 删除tb1中已离线的记录(<span class="keyword">delete</span>)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>遍历所有数据,频繁查询,效率低下.</p>
<h2 id="优化要求"><a href="#优化要求" class="headerlink" title="优化要求"></a>优化要求</h2><ol>
<li>避免遍历所有数据</li>
<li>不能有太多SQL语句</li>
<li>减少不必要的数据操作</li>
</ol>
<h2 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h2><h3 id="首先-考虑该场景涉及到的数据类型"><a href="#首先-考虑该场景涉及到的数据类型" class="headerlink" title="首先:考虑该场景涉及到的数据类型"></a>首先:考虑该场景涉及到的数据类型</h3><ol>
<li>保持在线(无变化)</li>
<li>新上线</li>
<li>已下线</li>
</ol>
<h3 id="针对这三种类型数据的处理方式"><a href="#针对这三种类型数据的处理方式" class="headerlink" title="针对这三种类型数据的处理方式"></a>针对这三种类型数据的处理方式</h3><ol>
<li>之前在线,现在依然在线,不做任何处理(<strong><em>处理干什么?</em></strong>)</li>
<li>新上线,插入到tb2中</li>
<li>已下线,从tb2中删除</li>
<li>改良过程: tb1中历史在线数据没必要清除</li>
</ol>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>两条SQL语句搞定:</p>
<p>1.添加在线不在同步表里的设备</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb2([<span class="keyword">fields</span>]) <span class="keyword">select</span> [<span class="keyword">fields</span>],[<span class="keyword">data</span>] <span class="keyword">from</span> tb1 <span class="keyword">left</span> <span class="keyword">join</span> tb2 <span class="keyword">on</span> tb1.<span class="string">`key`</span> = tb2.<span class="string">`key`</span> <span class="keyword">where</span> tb1.updatedat &gt; [时间戳] <span class="keyword">and</span> tb1.location = [地域] <span class="keyword">and</span> tb2.did <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<p>2.删除同步表里当前不在线的设备</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> tb2 <span class="keyword">where</span> location=[地域] <span class="keyword">and</span> <span class="string">`key`</span> <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> <span class="string">`key`</span> <span class="keyword">from</span> tb1 <span class="keyword">where</span> updatedat &gt; [时间戳] <span class="keyword">and</span> location = [地域]);</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>design</category>
      </categories>
      <tags>
        <tag>sql</tag>
        <tag>logic</tag>
        <tag>performance</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.3.29 新木桶原理</title>
    <url>/posts/2016/buckets-effect/</url>
    <content><![CDATA[<blockquote>
<p>一只木桶能够装多少水正常情况下（指木桶的大小是一定的，也不斜放等）取决于三方面的因素：第一、是每一块木板的长度，最短的木板决定盛水量。第二、是木板与木板之间的结合是否紧密。第三、是有一个很好的桶底。第一个因素大家好理解；但如果木板与木板之间存在缝隙或缝隙很大，也无法装满水；同样如果没有好的桶底，盛水只能是空想，这就是新木桶原理。</p>
</blockquote>
<a id="more"></a>
<p>木板的长短，即知识和经验的广度和深度。<br>木板间结合的紧密度，即学习的能力和学以致用的能力。<br>木桶的桶底，即基础，包括天赋、智商、价值观等。</p>
<p>桶底，决定是否能够成为一个容器；<br>木板间结合的紧密度，决定这个容器是否能用来盛水；<br>木板的长短，决定了这个盛水的容器能够盛多少水。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>study</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.4.1 不要当傻瓜</title>
    <url>/posts/2016/thing-about-foolish/</url>
    <content><![CDATA[<h2 id="不要让自己当傻瓜"><a href="#不要让自己当傻瓜" class="headerlink" title="不要让自己当傻瓜"></a>不要让自己当傻瓜</h2><p>在研发团队中，有两种常见类型的傻瓜。一种是一心钻技术，技术再深，在产品中无用武之地；另一种是一心构想理想化的产品，产品再宏大，无法被现有技术实现。</p>
<p>技术不是万能的，所有的技术都需要落地为产品，才能创造价值。技术就像是高楼之根基，得打下去，楼才能稳固；但却没有人能看到根基的样子。技术也像是内裤，得穿在身上，但不能逢人就扒出来展示一番。之所以会有鼓吹人人都是产品经理，却没有人推崇人人都是技术经理，人人都是架构师，人人都是算法工程师，就是这样的一个道理。</p>
<a id="more"></a>
<p>产品设计和技术研发是紧密关联的，很多技术人或产品人无法进步的瓶颈就在于坐井观天，固步自封。如果跳出技术的范畴去看产品，跳出产品的视野去谈技术，会有意外的收获。</p>
<p>技术并不需要钻研多深，能够满足产品的所有需求即可。产品也不需要功能多全，能够切实解决用户的某一痛点即可。在此基础之上，多余的部分，才能产出额外价值。</p>
<h2 id="不要把用户当傻瓜"><a href="#不要把用户当傻瓜" class="headerlink" title="不要把用户当傻瓜"></a>不要把用户当傻瓜</h2><p>其实对待客户，无论是当成傻瓜，还是当成上帝，都需要真诚。技术服务于产品，产品服务于用户，最终都是要让用户成为受益者。所以，做产品需要有同理心，不能搪塞，做可持续的产品，而不是一次性买卖。</p>
<p>哪怕用户真的是傻瓜，不是用来骗的，也应该要把用户当傻瓜宠。如果一个产品需要考验用户的记忆力，挑战用户的智商才能玩转，怎么会是一个好产品？一个连自己都不愿用的产品，拿出去卖的话可能都会挂不住脸。</p>
<p>迈出第一步，产品设计要合理。举个例子，大多数产品都会有按键，按键的个数和按键的功能都是有讲究的。比如为了缩减按键的个数，增加了每个按键的功能，导致有重叠，用户就需要靠记忆去记同一个按键，按多少下表示什么样的意义，就容易产生误操作。有一个很糟糕的设计案例就是一个按钮同时分到了四五种功能，有的要连按5次甚至10次，不仅浪费了记忆成本，还浪费了用户操作时间成本。显然，不能自诩这样的产品能够帮助用户培养耐心。</p>
<p>进阶，将合理的设计更贴心。比如常见的电子设备重置键大多是一个孔，需要用针或者其他尖细的东西捅进去才行。往往我们需要重置的时候，并不会用这么一样顺手的工具在身边。像苹果或一些手机，取Sim卡需要的卡针会随机赠送，但实际上可以再进一步，如果可以轻轻按压一下就自动弹出，不用任何工具，那将会更方便。当然其中也需要综合考虑一下美观、是否能够实现等因素。尽可能减少用户的麻烦，方便用户，为用户引导良好的行为和习惯，才会更受用户青睐。</p>
<hr>
<p>说一千，道一万，如何做出一个号的产品，其实只有一句话，改变心智模式，抱有同理心，用户可能并不知道自己想要什么，但你却知道你能给什么。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>user</tag>
        <tag>product</tag>
        <tag>tech</tag>
      </tags>
  </entry>
  <entry>
    <title>Node.js阿里云接口(Aliyun API)SDK</title>
    <url>/posts/2016/node-waliyun/</url>
    <content><![CDATA[<h1 id="WAliyun"><a href="#WAliyun" class="headerlink" title="WAliyun"></a>WAliyun</h1><p><a href="https://npmjs.org/package/waliyun" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/waliyun.svg?style=plastic" alt="npm"></a> <a href="https://npmjs.org/package/waliyun" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/waliyun.svg?style=plastic" alt="npm"></a></p>
<blockquote class="blockquote-center"><p>比官方SDK更好用的阿里云SDK。 </p>
</blockquote>
<p>Minimum, Flexible, Scalable.</p>
<p>支持Lazy Require。</p>
<a id="more"></a>
<h2 id="安装和使用"><a href="#安装和使用" class="headerlink" title="安装和使用"></a>安装和使用</h2><p>国际惯例：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> waliyun <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
<p>公共参数：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> options = &#123;</span><br><span class="line">  AccessKeyId: <span class="string">'xxxx-xxxx-xxxx-xxxx'</span>,</span><br><span class="line">  AccessKeySecret: <span class="string">'xxxx-xxxx-xxxx-xxxx'</span>,</span><br><span class="line">  <span class="comment">// 选填，不同接口类型注意版本日期</span></span><br><span class="line">  Version: <span class="string">'2014-05-26'</span>,</span><br><span class="line">  <span class="comment">// 选填</span></span><br><span class="line">  SignatureMethod: <span class="string">'HMAC-SHA1'</span>,</span><br><span class="line">  Format: <span class="string">'json'</span>,</span><br><span class="line">  SignatureVersion: <span class="string">'1.0'</span>,</span><br><span class="line">  <span class="comment">// 每次请求都会自动重新生成</span></span><br><span class="line">  SignatureNonce: <span class="built_in">Math</span>.random(),</span><br><span class="line">  Timestamp: <span class="keyword">new</span> <span class="built_in">Date</span>().toISOString()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>ES5:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> WALIYUN = <span class="built_in">require</span>(<span class="string">'waliyun'</span>);</span><br><span class="line"><span class="comment">// 加载全部方法</span></span><br><span class="line"><span class="keyword">var</span> ecs = WALIYUN.ECS(options);</span><br><span class="line"><span class="comment">// 或加载某些方法</span></span><br><span class="line"><span class="keyword">var</span> ecs = WALIYUN.ECS(options, [<span class="string">'DescribeInstances'</span>, <span class="string">'DescribeInstanceStatus'</span>]);</span><br><span class="line"><span class="comment">// 或加载某个方法</span></span><br><span class="line"><span class="keyword">var</span> ecs = WALIYUN.ECS(options, <span class="string">'DescribeInstances'</span>);</span><br><span class="line">ecs.describeInstances(&#123;</span><br><span class="line">  RegionId: <span class="string">'cn-hangzhou'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">instances</span>)</span>&#123;</span><br><span class="line">  <span class="comment">// xxxx</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>ES6:</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;ECS&#125; <span class="keyword">from</span> <span class="string">'waliyun'</span>;</span><br><span class="line"><span class="keyword">const</span> ecs = ECS(options);</span><br><span class="line"><span class="comment">// Within Async Func</span></span><br><span class="line">(<span class="keyword">async</span>() =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> instances = <span class="keyword">await</span> ecs.describeInstances(&#123;</span><br><span class="line">    RegionId: <span class="string">'cn-hangzhou'</span></span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="comment">// xxxx</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h2 id="已支持的接口"><a href="#已支持的接口" class="headerlink" title="已支持的接口"></a>已支持的接口</h2><p>Github主页上检查最新版本: <a href="https://github.com/willin/waliyun" target="_blank" rel="noopener">https://github.com/willin/waliyun</a></p>
<h3 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/cdn/api-reference/overview.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/cdn/api-reference/overview.html</a></p>
<h3 id="云服务器-ECS"><a href="#云服务器-ECS" class="headerlink" title="云服务器 ECS"></a>云服务器 ECS</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/ecs/open-api/apisummary.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/ecs/open-api/apisummary.html</a></p>
<h3 id="云监控-Metrics"><a href="#云监控-Metrics" class="headerlink" title="云监控 Metrics"></a>云监控 Metrics</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/cms/API_References/New_Metric_OpenAPI_Reference/API_Guide.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/cms/API_References/New_Metric_OpenAPI_Reference/API_Guide.html</a></p>
<h3 id="访问控制-RAM"><a href="#访问控制-RAM" class="headerlink" title="访问控制 RAM"></a>访问控制 RAM</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/ram/ram-api-reference/intro/intro.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/ram/ram-api-reference/intro/intro.html</a></p>
<h3 id="云数据库-RDS"><a href="#云数据库-RDS" class="headerlink" title="云数据库 RDS"></a>云数据库 RDS</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/rds/OpenAPI-manual/RDS-OpenAPI-Invoke/API-catalog.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/rds/OpenAPI-manual/RDS-OpenAPI-Invoke/API-catalog.html</a></p>
<h3 id="访问控制-STS"><a href="#访问控制-STS" class="headerlink" title="访问控制 STS"></a>访问控制 STS</h3><p>API文档参考：</p>
<p><a href="https://help.aliyun.com/document_detail/ram/sts-api-reference/intro.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/ram/sts-api-reference/intro.html</a></p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>api</tag>
        <tag>sdk</tag>
        <tag>aliyun</tag>
      </tags>
  </entry>
  <entry>
    <title>入手新域名js.cool</title>
    <url>/posts/2016/js-cool/</url>
    <content><![CDATA[<p>这是一个溢价域名，注册的过程也算是一波三折。</p>
<a id="more"></a>
<p>在得知这个域名可注册之后，比较了几个域名服务商，最后选在了Linost，价格为255元。</p>
<p>也算是老用户了，我的很多域名都是在这边注册的。付费成功之后发现域名状态一直在Pending，提交工单一问，竟然说要给我退款，不让注册。唉，人情淡漠，何况老用户，抵不过那丁点金钱利益。</p>
<p>我个人感觉吧，无论怎么样的失误，都不应该让顾客承担。以后改价格是以后的事情，但当前价格错了并不是顾客造成的吧，仅一句退款，伤了几层心？！简直Low爆了。</p>
<p>后来，换了一家注册，也就只贵了100来块而已。</p>
<p>至此，已将所有域名从 Linost 转出，以后不再使用，也不再推荐他人。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>life</tag>
        <tag>domain</tag>
      </tags>
  </entry>
  <entry>
    <title>JS判断一个数是否为2的N次幂</title>
    <url>/posts/2016/power-2/</url>
    <content><![CDATA[<p>问题：</p>
<blockquote>
<p>判断一个数(x)是否为2的N次幂，如果是，返回是2^n中的n，如果不是返回false</p>
</blockquote>
<p>约束： <code>x &lt;= 2^800</code></p>
<h2 id="SB青年版"><a href="#SB青年版" class="headerlink" title="SB青年版"></a>SB青年版</h2><p>不用说，递归肯定是最sb的版本：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2sb</span>(<span class="params">x,n</span>) </span>&#123;</span><br><span class="line">  n = n || <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span>(x === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> n;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>( x &lt; <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> power2sb(x / <span class="number">2</span>, n + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果测试：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2sb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="LowB青年版"><a href="#LowB青年版" class="headerlink" title="LowB青年版"></a>LowB青年版</h2><p>低级循环版，与上一个版本半斤八两。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2lb</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>( x &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(x === <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    x = x / <span class="number">2</span>;</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果测试：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2lb(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure>
<h2 id="普通青年版"><a href="#普通青年版" class="headerlink" title="普通青年版"></a>普通青年版</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2nm</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 奇数肯定不是2的N次幂</span></span><br><span class="line">  <span class="keyword">if</span>(x % <span class="number">2</span> === <span class="number">1</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 总结规律</span></span><br><span class="line">  <span class="comment">// 2^2=4</span></span><br><span class="line">  <span class="comment">// 2^3=8</span></span><br><span class="line">  <span class="comment">// 2^4=16</span></span><br><span class="line">  <span class="comment">// 2^5=32</span></span><br><span class="line">  <span class="comment">// 2^6=64</span></span><br><span class="line">  <span class="comment">// 2^7=128</span></span><br><span class="line">  <span class="comment">// 2^8=256</span></span><br><span class="line">  <span class="comment">// 2^9=512</span></span><br><span class="line">  <span class="comment">// 所以，个位不可能为 0</span></span><br><span class="line">  <span class="keyword">if</span>(x % <span class="number">10</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">var</span> n = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">while</span>( x &gt;= <span class="number">1</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(x === <span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> n;</span><br><span class="line">    &#125;</span><br><span class="line">    x = x / <span class="number">2</span>;</span><br><span class="line">    n++;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="文艺青年版"><a href="#文艺青年版" class="headerlink" title="文艺青年版"></a>文艺青年版</h2><p>位运算，无循环。</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">power2fs</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 一句话版本</span></span><br><span class="line">  <span class="keyword">return</span> (x &amp; ( x - <span class="number">1</span>)) === <span class="number">0</span> ? (x<span class="number">-1</span>).toString(<span class="number">2</span>).length : <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">    解释：</span></span><br><span class="line"><span class="comment">    1. (x &amp; ( x - 1)) === 0</span></span><br><span class="line"><span class="comment">    先来寻找一下规律：</span></span><br><span class="line"><span class="comment">    2^2=4 对应二进制为</span></span><br><span class="line"><span class="comment">    100</span></span><br><span class="line"><span class="comment">    2^3=8</span></span><br><span class="line"><span class="comment">    1000</span></span><br><span class="line"><span class="comment">    2^4=16</span></span><br><span class="line"><span class="comment">    10000</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    所以，</span></span><br><span class="line"><span class="comment">    2^N=1+N个0</span></span><br><span class="line"><span class="comment">    2^N-1=N个1</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     100</span></span><br><span class="line"><span class="comment">    &amp; 11</span></span><br><span class="line"><span class="comment">    ----</span></span><br><span class="line"><span class="comment">     000</span></span><br><span class="line"><span class="comment">    4 &amp; 3 = 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">     1000</span></span><br><span class="line"><span class="comment">    &amp; 111</span></span><br><span class="line"><span class="comment">    -----</span></span><br><span class="line"><span class="comment">     0000</span></span><br><span class="line"><span class="comment">    8 &amp; 7 = 0</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    2. (x-1).toString(2).length</span></span><br><span class="line"><span class="comment">    (8-1).toString(2) // 111, length: 3</span></span><br><span class="line"><span class="comment">    (16-1).toString(2) // 1111, length: 4</span></span><br><span class="line"><span class="comment">    或者还可以写成 x.toString(2).length - 1，结果一样</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>结果测试：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">4</span>)); <span class="comment">// 2</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">5</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="number">65536</span>)); <span class="comment">// 16</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">52</span>)+<span class="number">1</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(power2fs(<span class="built_in">Math</span>.pow(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span>)); <span class="comment">// false 实际结果：53</span></span><br></pre></td></tr></table></figure>
<h2 id="分割线"><a href="#分割线" class="headerlink" title="分割线"></a>分割线</h2><p>上面4个版本都有一个共同的缺点，那就是只能计算到 2^52 次方。</p>
<p>JavaScript中双精度类型最大53位，即2^53-1 = 9007199254740991。</p>
<h2 id="NB青年版"><a href="#NB青年版" class="headerlink" title="NB青年版"></a>NB青年版</h2><p><del>~通过字符串直接处理，整理后释出。</del>~</p>
<blockquote class="blockquote-center"><p>2016年7月6日更新</p>
</blockquote>
<p>这题的原题来自： <a href="https://www.hackerrank.com/challenges/two-two" target="_blank" rel="noopener">https://www.hackerrank.com/challenges/two-two</a></p>
<h3 id="字符串直接匹配解题思路"><a href="#字符串直接匹配解题思路" class="headerlink" title="字符串直接匹配解题思路"></a>字符串直接匹配解题思路</h3><figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">统计<span class="number">2</span>幂个数/字符串/ /统计<span class="number">2</span>幂个数/字符串</span><br><span class="line"><span class="number">1</span>	<span class="number">1</span>			<span class="number">0</span>	<span class="number">01</span></span><br><span class="line"><span class="number">1</span>	<span class="number">2</span>			<span class="number">0</span>	<span class="number">02</span></span><br><span class="line"><span class="number">1</span>	<span class="number">4</span>			<span class="number">0</span>	<span class="number">04</span></span><br><span class="line"><span class="number">1</span>	<span class="number">8</span>			<span class="number">0</span>	<span class="number">08</span></span><br><span class="line"><span class="number">2</span>	<span class="number">16</span>			<span class="number">0</span>	<span class="number">016</span></span><br><span class="line"><span class="number">2</span>	<span class="number">32</span>			<span class="number">0</span>	<span class="number">032</span></span><br><span class="line"><span class="number">2</span>	<span class="number">64</span>			<span class="number">0</span>	<span class="number">064</span></span><br><span class="line"><span class="number">4</span>	<span class="number">128</span>			<span class="number">0</span>	<span class="number">0128</span></span><br><span class="line"><span class="number">2</span>	<span class="number">256</span>			<span class="number">0</span>	<span class="number">0256</span></span><br><span class="line"><span class="number">3</span>	<span class="number">512</span>			<span class="number">0</span>	<span class="number">0512</span></span><br><span class="line"><span class="number">4</span>	<span class="number">1024</span>		<span class="number">0</span>	<span class="number">01024</span></span><br><span class="line"><span class="number">4</span>	<span class="number">2048</span>		<span class="number">0</span>	<span class="number">02048</span></span><br><span class="line"><span class="number">2</span>	<span class="number">4096</span>		<span class="number">0</span>	<span class="number">04096</span></span><br><span class="line"><span class="number">4</span>	<span class="number">8192</span>		<span class="number">0</span>	<span class="number">08192</span></span><br><span class="line"><span class="number">4</span>	<span class="number">16384</span>		<span class="number">0</span>	<span class="number">016384</span></span><br><span class="line"><span class="number">4</span>	<span class="number">32768</span>		<span class="number">0</span>	<span class="number">032768</span></span><br><span class="line"><span class="number">1</span>	<span class="number">65536</span>		<span class="number">0</span>	<span class="number">065536</span></span><br><span class="line"><span class="number">4</span>	<span class="number">131072</span>		<span class="number">0</span>	<span class="number">0131072</span></span><br><span class="line"><span class="number">6</span>	<span class="number">262144</span>		<span class="number">0</span>	<span class="number">0262144</span></span><br><span class="line"><span class="number">6</span>	<span class="number">524288</span>		<span class="number">0</span>	<span class="number">0524288</span></span><br><span class="line"><span class="number">4</span>	<span class="number">1048576</span>		<span class="number">0</span>	<span class="number">01048576</span></span><br><span class="line"><span class="number">4</span>	<span class="number">2097152</span>		<span class="number">0</span>	<span class="number">02097152</span></span><br><span class="line"><span class="number">5</span>	<span class="number">4194304</span>		<span class="number">0</span>	<span class="number">4194304</span></span><br></pre></td></tr></table></figure>
<p>通过该方式，先通过计算，得出一张类似上述的对照表。<br>通过查表法去快速推算结果。虽然这样能够通过系统评分的判断，但是实际上效率非常低下，这张对照表的产生花费大量的计算。</p>
<h3 id="大数计算"><a href="#大数计算" class="headerlink" title="大数计算"></a>大数计算</h3><p>先把思路做一下调整，之前在做这个题的时候，总是在做字符串的遍历，查询，效率非常低下。<br>而实际上2^0到2^800一共只有801个组合，只需要将这801个出现的次数匹配出来，就是结果。</p>
<p>这里用到了一个库：</p>
<p><a href="https://github.com/peterolson/BigInteger.js" target="_blank" rel="noopener">https://github.com/peterolson/BigInteger.js</a></p>
<p>让JavaScript能够支持大数的计算。</p>
<p>最终满分通过答案：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bigInt;<span class="comment">//引入代码省略</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processData</span>(<span class="params">input</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> data = input.split(<span class="string">"\n"</span>);</span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">0</span>; i &lt; data[<span class="number">0</span>]; i++) &#123;</span><br><span class="line">    compute(data[i+<span class="number">1</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compute</span>(<span class="params">word</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> count = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> base = <span class="keyword">new</span> bigInt(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">0</span>; i &lt;= <span class="number">800</span>; i++ ) &#123;</span><br><span class="line">    <span class="keyword">var</span> s = base.pow(i).toString(<span class="number">10</span>);</span><br><span class="line">    <span class="keyword">var</span> idx = <span class="number">0</span>, nextIdx = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      idx = word.indexOf(s, nextIdx);</span><br><span class="line">      <span class="keyword">if</span>( idx != <span class="number">-1</span>) &#123;</span><br><span class="line">        count++;</span><br><span class="line">      &#125;</span><br><span class="line">      nextIdx = idx +<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">while</span>( idx != <span class="number">-1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="built_in">console</span>.log(count);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">process.stdin.resume();</span><br><span class="line">process.stdin.setEncoding(<span class="string">"ascii"</span>);</span><br><span class="line">_input = <span class="string">""</span>;</span><br><span class="line">process.stdin.on(<span class="string">"data"</span>, <span class="function"><span class="keyword">function</span> (<span class="params">input</span>) </span>&#123;</span><br><span class="line">    _input += input;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">process.stdin.on(<span class="string">"end"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   processData(_input);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><img src="http://w3log.qiniudn.com/blog/two-two.png" alt="150"></p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>js</tag>
        <tag>algorithm</tag>
        <tag>logic</tag>
        <tag>performance</tag>
      </tags>
  </entry>
  <entry>
    <title>浮云淡、解甲——二十七周岁沉思</title>
    <url>/posts/2016/27th-birth/</url>
    <content><![CDATA[<script type="text/javascript" src="http://www.xiami.com/widget/player-single?uid=0&sid=1774520995&mode=js"></script>

<blockquote>
<p>红尘若梦，沧海桑田，几人能看透？</p>
</blockquote>
<h2 id="Ranking-排名"><a href="#Ranking-排名" class="headerlink" title="Ranking - 排名"></a>Ranking - 排名</h2><p>前几天偶然间登录MSDN发现，几年没有再看过.NET的东西了，排名竟然还没有掉出前 <strong>5%</strong> 。</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/15771426/3d0d701e-299d-11e6-9647-53f79179e87f.png" alt="msdn"></p>
<a id="more"></a>
<p>不知道从什么时候开始，什么都要排名，支付宝昨天超越了几万名小伙伴，QQ达人超越了全球百分之多少QQ用户…游戏有排名，学习有排名，工作有排名，消费也有排名，不消费也有排名…不管到哪里，都要被排排名次。很庆幸，每项排名基本上都在我满意的范围内。</p>
<ul>
<li>QQ：等级101，好友排名第1，超越全球98%用户。</li>
<li>QQ空间：等级148，好友排名第1，全国排名39833。</li>
<li>QQ会员：SVIP8，好友排名第1，全球排名139369。</li>
<li>迅雷：等级37，全球排名444570。</li>
<li>MSDN：全球排名前5%。</li>
<li>搜搜问问：[网页制作]领域专家，最高排名第3。</li>
<li>HackerRank： 积分5717，全球排名第98。</li>
<li>Codewars： 1dan 大师，全球排名90。</li>
</ul>
<p>无论Top几，永远都只有几。而每个人，不管成功，还是失败，在努力着的，都是无可比拟的。所以，如果又有什么新的应用要上排名，我想我应该会很排斥。</p>
<p>如果非要问我有什么排行榜特别想上榜，我想应该是福布斯。很多人都在做价值的搬运工，却不知道该怎么去创造价值，传递价值以及获取价值。最近突发奇想，想闲扯点什么，写本小书，开门小课，名字就叫做《百万富翁之路》，去帮助更多人创造更大的价值，以及收获更多的价值。</p>
<h2 id="Value-价值"><a href="#Value-价值" class="headerlink" title="Value - 价值"></a>Value - 价值</h2><p>之前写过一篇文章叫《<a href="/posts/2016/thing-about-foolish/">不要当傻瓜</a>》，提到了两种类型的傻瓜：</p>
<blockquote>
<p>一种是一心钻技术，技术再深，在产品中无用武之地；另一种是一心构想理想化的产品，产品再宏大，无法被现有技术实现。</p>
</blockquote>
<p>最近愈发觉得真的是这样，所以即便再喜欢技术，也需要广泛涉猎一些其他方面的知识。能创造多少价值，不在于技术有多高、知识有多广、思想有多深，而是在于能将多少能真真实实用到实际产品中。</p>
<p>这就是为什么有的人，明明技术很厉害，却只拿着微薄的薪水；而有的人看上去不学无术的，却屡建奇功。</p>
<h3 id="我们能创造多少价值？"><a href="#我们能创造多少价值？" class="headerlink" title="我们能创造多少价值？"></a>我们能创造多少价值？</h3><p>答案我不知道，不过感觉上很少。创新是件很难的事情，也需要很深的积累，创造就更不用说了。</p>
<p>大多数情况，我们所做的工作，只是在做价值的搬运，将别人的技术引入到产品中运用，机械地重复着业务功能的堆彻。这个时候，我们并没有创造出价值，只是个价值的搬运工。所以会有码农这样形象生动的比喻，因为确实这样的工作与搬砖无差，只是体力劳动，而并非脑力劳动。</p>
<p>很多人，高估了自己的价值。想要做到无可取代，就必须与众不同。能做到别人做不到的事情，能做好别人不愿意做的事情，能捕捉到别人不在意的细节。</p>
<p>很多人，低估了自己的价值。反反复复如机械般度日，最会消磨人的意志，衰减人的热情。无法改变世界，可以从改变自己做起，从改变一个人做起。</p>
<p>或许，我们大多数人，无法颠覆这个世界，但至少，做点什么，改善一点点，并不难。</p>
<h3 id="怎么样才是忙得有价值？"><a href="#怎么样才是忙得有价值？" class="headerlink" title="怎么样才是忙得有价值？"></a>怎么样才是忙得有价值？</h3><p>在我看来， <strong>忙</strong> 有这么三种：</p>
<h4 id="假忙"><a href="#假忙" class="headerlink" title="假忙"></a>假忙</h4><p>第一种情况，效率低，积压任务太多，所以有一种忙的假象。</p>
<p>懒癌是一种病，拖延症也是一种病。问题积压下来，感觉忙不过来了，只会让问题越积越多，恶性循环，问题解决不了，任务无法完成。</p>
<h4 id="瞎忙"><a href="#瞎忙" class="headerlink" title="瞎忙"></a>瞎忙</h4><p>第二种情况，没有大局观，如同猴子捡西瓜，顾此失彼。虽然也能做成一些事情，但很难做出更大的贡献来。没有时间做自己想做的事情，没有时间考虑怎么提升，勉强足够应付当前面临的任务和问题。</p>
<h4 id="真忙"><a href="#真忙" class="headerlink" title="真忙"></a>真忙</h4><p>真正的忙，不是什么都不顾只专注一个目标，也不是什么都做一个不放。</p>
<p>真正的忙，表面上并不忙，应该是在忙着提升效率，忙着减少问题，忙着避免重复的工作，以及忙着减少工作的投入却提高工作的产出。</p>
<h3 id="如何实现价值输出最大化？"><a href="#如何实现价值输出最大化？" class="headerlink" title="如何实现价值输出最大化？"></a>如何实现价值输出最大化？</h3><h4 id="进化"><a href="#进化" class="headerlink" title="进化"></a>进化</h4><p>自我进化是必须的，只有不断学习，才能保证持续的价值输出。</p>
<h4 id="取舍"><a href="#取舍" class="headerlink" title="取舍"></a>取舍</h4><blockquote class="blockquote-center"><p>慈不带兵 义不养财</p>
</blockquote>
<p>无论在哪方面，很多时候都是这样，有舍才有得。没有牺牲，就没有胜利。懂得取舍，才能成就未来。</p>
<h4 id="实用主义"><a href="#实用主义" class="headerlink" title="实用主义"></a>实用主义</h4><p>二八定律，将80%精力放在最有价值产出的20%事情上，不为无谓的琐事纠缠。忠于事实，驾驭工具，不为条条框框牵绊。</p>
<h2 id="Tomorrow-is-another-day"><a href="#Tomorrow-is-another-day" class="headerlink" title="Tomorrow is another day."></a>Tomorrow is another day.</h2><blockquote class="blockquote-center"><p>那就走吧</p>
<p>别忘了带上吉他和悲伤外壳</p>
<p>大概吧</p>
<p>我也可以是吟游诗人</p>
</blockquote>
<p>繁华落尽，洗尽铅华。</p>
<p>不求做伟大的人，却要做大写的人，这就是我。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitbook捐赠打赏插件</title>
    <url>/posts/2016/gitbook-plugin-donate/</url>
    <content><![CDATA[<h2 id="Gitbook-Donate-Plugin"><a href="#Gitbook-Donate-Plugin" class="headerlink" title="Gitbook Donate Plugin"></a>Gitbook Donate Plugin</h2><p><a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/v/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a> <a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dm/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a> <a href="https://npmjs.org/package/gitbook-plugin-donate" target="_blank" rel="noopener"><img src="https://img.shields.io/npm/dt/gitbook-plugin-donate.svg?style=plastic" alt="npm"></a></p>
<p>项目主页：<a href="https://plugins.gitbook.com/plugin/donate" target="_blank" rel="noopener">https://plugins.gitbook.com/plugin/donate</a></p>
<p>Config:</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"plugins"</span>: [<span class="string">"donate"</span>],</span><br><span class="line">    <span class="attr">"pluginsConfig"</span>: &#123;</span><br><span class="line">        <span class="attr">"donate"</span>: &#123;</span><br><span class="line">          <span class="attr">"wechat"</span>: <span class="string">"例：/images/qr.png"</span>,</span><br><span class="line">          <span class="attr">"alipay"</span>: <span class="string">"http://blog.willin.wang/static/images/qr.png"</span>,</span><br><span class="line">          <span class="attr">"title"</span>: <span class="string">"默认空"</span>,</span><br><span class="line">          <span class="attr">"button"</span>: <span class="string">"默认值：Donate"</span>,</span><br><span class="line">          <span class="attr">"alipayText"</span>: <span class="string">"默认值：支付宝捐赠"</span>,</span><br><span class="line">          <span class="attr">"wechatText"</span>: <span class="string">"默认值：微信捐赠"</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>演示： <a href="http://money.js.cool/" target="_blank" rel="noopener">http://money.js.cool/</a></p>
<p>这是一本最近打算写的书，中文名叫《百万富翁之路》。</p>
<h2 id="LICENSE"><a href="#LICENSE" class="headerlink" title="LICENSE"></a>LICENSE</h2><p>MIT</p>
<p>贡献代码： <a href="https://github.com/willin/gitbook-plugin-donate" target="_blank" rel="noopener">https://github.com/willin/gitbook-plugin-donate</a></p>
<p>如果喜欢，千万别吝啬打赏~</p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>node.js</tag>
        <tag>plugin</tag>
        <tag>gitbook</tag>
      </tags>
  </entry>
  <entry>
    <title>2016.06.20 我们都在乞讨</title>
    <url>/posts/2016/we-beg/</url>
    <content><![CDATA[<p>每个人内心都有对金钱的进一步渴望，无关我们口袋里究竟有多少。</p>
<p>记得我刚开始写博客的时候，总想着怎么在页面上植入广告，卖文字链接，动不动就会跑到广告平台上看看今天的收入有多少。那时候没什么钱，每天多个一角半分都十分开心。</p>
<p>从开始建站以来，基本上在域名、VPS上的投入林林总总加起来每年会有小几千的开销。而这么多年，通过广告所产生的收益不足其九牛一毛。工作了之后，没有太多精力折腾个人网站了，把广告移除之后有了很长一段时间的空窗期。而这段时间里，我一直也在想着，有没有什么方法能够将这部分的支出赚回来。</p>
<a id="more"></a>
<h2 id="不劳而获与乞讨"><a href="#不劳而获与乞讨" class="headerlink" title="不劳而获与乞讨"></a>不劳而获与乞讨</h2><p>一分耕耘，一分收获。人不能奢望天上掉馅饼，也不能奢求有免费的午餐。世界上唯一可以不劳而获的就是贫穷，唯一可以无中生有的是梦想。</p>
<p>有的时候，在路边看到乞丐伸手，会不自觉地加快脚步走开。为什么一个有手有脚不靠自己的努力去赚钱，而却只是在伸手要钱？</p>
<p>有的时候，不得不感慨，为什么只能凭双手赚钱，明明可以靠思想。但是时代不一样了，强制付费已经行不通了，只好可怜兮兮地挂出打赏的牌子。有的时候，也挺想做自己喜欢的事情，不论钱多钱少，开心就好。不过生活总有压力，所以有时有得锱铢必较，付出得有回报，即便口袋里有点闲钱，也需要未雨绸缪。所以我又将下面的打赏挂了出来，可惜粉丝经济体系告诉我，我这么做这必然是徒劳。无论回报多少，至少是种慰藉。</p>
<h2 id="消费和投资"><a href="#消费和投资" class="headerlink" title="消费和投资"></a>消费和投资</h2><p>举个栗子：一般而言，买一套房是消费，买第二套房是投资。因为当你只有一套房的时候，哪怕房价涨再高，与你并无关联。因为如果你将房子卖了，依然需要以高昂的价格再去购买，或者以或高或低但都不会有回报的价格去租。</p>
<p>在我理解中，消费和投资的主要区别是：消费出去的钱不会再回来，投资出去有回头钱。所以无论域名、服务器，我都不太想让其成为一种消费。当然域名有一定投资价值，但前提是你得放弃它的所有权。我所提倡的是理性消费，并且越早开始投资，越早开始有回报。</p>
<p>投资，分为很多种，能直接来钱的除了炒股还有买彩票。我不建议通过冒险的方式进行投资，人需要做自己有把握的事情，靠实力，不靠运气；拼努力，不拼爹。有点闲钱我宁可去买本书充实自己，也不愿意把致富寄托到赌运气上。</p>
<p>如果日子过得不舒坦，就把钱花到学习上吧。</p>
<p>我听过这么一句话：</p>
<blockquote class="blockquote-center"><p>人穷得时候，钱要花给别人；<br>富的时候，钱要花给亲人和爱人。</p>
</blockquote>
<p>现在想想觉得很有道理。先投资人情，后消费享乐。我感觉，穷的时候需要投资自己的未来，为自己的消费买单；而富裕了之后，则应该投资别人的未来，为别人的消费买单；才能充分将金钱得到更好的利用。</p>
<h2 id="我们都在乞讨"><a href="#我们都在乞讨" class="headerlink" title="我们都在乞讨"></a>我们都在乞讨</h2><p>其实我们都在乞讨，然而，这并不应该成为我们立身之本。理性消费，合理投资。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>thought</tag>
      </tags>
  </entry>
  <entry>
    <title>CloudFlare配置SSL及性能优化</title>
    <url>/posts/2016/cloudflare-ssl/</url>
    <content><![CDATA[<h2 id="Crypto"><a href="#Crypto" class="headerlink" title="Crypto"></a>Crypto</h2><h3 id="SSL"><a href="#SSL" class="headerlink" title="SSL"></a>SSL</h3><p><img src="https://www.cloudflare.com/a/static/images/ssl/ssl.png" alt="Flexible"></p>
<h4 id="默认值：Flexible"><a href="#默认值：Flexible" class="headerlink" title="默认值：Flexible"></a>默认值：Flexible</h4><p>适用于Github、Coding.net等之类的，没有采用SSL加密的源站。</p>
<h4 id="Full-Full-Strict"><a href="#Full-Full-Strict" class="headerlink" title="Full / Full(Strict)"></a>Full / Full(Strict)</h4><p>适用于源站也有SSL证书，Strict模式校验证书。</p>
<a id="more"></a>
<h3 id="Automatic-HTTPS-Rewrites"><a href="#Automatic-HTTPS-Rewrites" class="headerlink" title="Automatic HTTPS Rewrites"></a>Automatic HTTPS Rewrites</h3><p>默认关闭，可以打开。</p>
<p>自动将页面中的HTTP资源改用HTTPS方式请求。</p>
<h2 id="Firewall"><a href="#Firewall" class="headerlink" title="Firewall"></a>Firewall</h2><p>Cloudflare的验证码是最烦的东西了。</p>
<h3 id="Security-Level"><a href="#Security-Level" class="headerlink" title="Security Level"></a>Security Level</h3><p>默认： Medium</p>
<p>可以改为 <code>Essentially Off</code>，减少验证码弹出。</p>
<h3 id="Challenge-Passage"><a href="#Challenge-Passage" class="headerlink" title="Challenge Passage"></a>Challenge Passage</h3><p>默认：半小时，可以改为一天。</p>
<h2 id="Speed"><a href="#Speed" class="headerlink" title="Speed"></a>Speed</h2><p>可以将 <code>javascript</code>、<code>css</code>、<code>html</code> 自动压缩全部勾选上。</p>
<h2 id="Page-Rules"><a href="#Page-Rules" class="headerlink" title="Page Rules"></a>Page Rules</h2><p>免费3条，只需要建一条即可将所有HTTP请求跳转到HTTPS上。</p>
<p>URL如：</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//*.willin.wang/*</span></span><br></pre></td></tr></table></figure>
<p>选择 <code>Always Use HTTPS</code> 选项，保存并发布。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>security</tag>
        <tag>domain</tag>
        <tag>dns</tag>
        <tag>ssl</tag>
      </tags>
  </entry>
  <entry>
    <title>MX Master Mac配置推荐</title>
    <url>/posts/2016/mac-input-devices/</url>
    <content><![CDATA[<h2 id="Mac下最好的鼠标，没有之一"><a href="#Mac下最好的鼠标，没有之一" class="headerlink" title="Mac下最好的鼠标，没有之一"></a>Mac下最好的鼠标，没有之一</h2><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523686/5f7edd5c-cd4b-11e6-88b8-fa2e32287d98.jpg" alt="mouses"></p>
<p>从上到下依次为：</p>
<ul>
<li>罗技 <a href="https://s.click.taobao.com/C3vK3Gx" target="_blank" rel="noopener">MX Master</a></li>
<li>雷蛇 <a href="https://s.click.taobao.com/9bnJ3Gx" target="_blank" rel="noopener">炼狱蝰蛇</a></li>
<li>苹果 <a href="https://s.click.taobao.com/2QGJ3Gx" target="_blank" rel="noopener">Magic Mouse 2</a></li>
</ul>
<p>在MX Master之前，我一直以为 Magic Mouse 是最适合苹果的鼠标了。</p>
<a id="more"></a>
<p>雷蛇是在Windows下游戏用的，感觉比赛钛客稍微好一些。之前用过赛钛客无线（R.A.T 9）和赛睿有线的，在无驱动下表现比较差。驱动后游戏性能感觉一般，可能跟笔记本配置有关。</p>
<p>R.A.T 9是我至今最记忆尤深，充电4小时，使用1小时。。。</p>
<p>当然，在Mac下我一直用的Magic Mouse，主要是因为频繁使用手势。但有一个比较大的弊端，信号干扰，在公司Wifi特别多的情况下，经常会掉帧。另外就是，真的出了工作不能干别的事情了，比如游戏。</p>
<p>MX Master，面向大师级玩家的精准装备。可以设置多个手势，所有按键可编程，灵敏度高，在玻璃下也可精准定位。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>我使用的配置：</p>
<h3 id="中键：模式切换"><a href="#中键：模式切换" class="headerlink" title="中键：模式切换"></a>中键：模式切换</h3><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523870/d575ede2-cd4c-11e6-9ed2-50272bc4718f.png" alt="Switch"></p>
<p>配合SmartShift使用</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/21523936/355a45fa-cd4d-11e6-84db-fadd37e2bfe5.png" alt="SmartShift"></p>
<p>我比较喜欢老式鼠标分段的感觉，也可以灵活切换为平滑滚动，无顿挫感。</p>
<h3 id="灵敏度按钮：手势"><a href="#灵敏度按钮：手势" class="headerlink" title="灵敏度按钮：手势"></a>灵敏度按钮：手势</h3><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523958/700075b2-cd4d-11e6-9456-508a430bdf38.png" alt="mid"></p>
<p>左右桌面间切换，上下Launchpad和Expose。</p>
<h3 id="拇指按键：Launchpad"><a href="#拇指按键：Launchpad" class="headerlink" title="拇指按键：Launchpad"></a>拇指按键：Launchpad</h3><p>这个按键我会频繁使用，所以拇指也设置了。</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/21523999/c34f4d92-cd4d-11e6-9b59-01a98426e45a.png" alt="Finger"></p>
<h2 id="键盘推荐"><a href="#键盘推荐" class="headerlink" title="键盘推荐"></a>键盘推荐</h2><p><img src="https://cloud.githubusercontent.com/assets/1890238/21523676/4f7d303e-cd4b-11e6-8dbf-559fbbef1ca6.jpg" alt="keyboards"></p>
<p>图片倒置了，分别为：</p>
<ul>
<li>左上： 樱桃 <a href="https://s.click.taobao.com/Q0L73Gx" target="_blank" rel="noopener">G80-1869HYNUS-2</a> 红轴，已绝版</li>
<li>左下： 罗技 <a href="https://s.click.taobao.com/0co63Gx" target="_blank" rel="noopener">K780</a></li>
<li>右： ikbc <a href="https://s.click.taobao.com/5yr53Gx" target="_blank" rel="noopener">Poker 3</a> 茶轴</li>
</ul>
<p>Cherry 红轴是我用过打字最轻松的键盘，打字速度快，声音也很温婉，就是容错率太低，经常按错。</p>
<p>罗技键盘可以跟鼠标公用Options配置软件，键位可编程。而且可以同时连接三个设备，快速切换，槽位足够同时放下两个平板电脑，而且支持蓝牙和无线USB。</p>
<p>现在用的是ikbc的Poker 3，好像现阶段到处都缺货了。按键均可编程，声音清脆，不会按错。不过没有方向键，得通过fn+按键，需要一段时间适应。</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/21524015/e4a433e0-cd4d-11e6-81d3-f3303e26ba75.jpg" alt="k480"></p>
<p>上图是已经淘汰的 罗技 <a href="https://s.click.taobao.com/YuH53Gx" target="_blank" rel="noopener">K480</a>，该款小巧便携，适合随身携带。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>mac</tag>
      </tags>
  </entry>
  <entry>
    <title>国内可备案域名后缀及价格列表</title>
    <url>/posts/2017/beian-domain-list/</url>
    <content><![CDATA[<p>456个全。</p>
<blockquote>
<p>更新时间2017年2月26日。</p>
</blockquote>
<blockquote class="blockquote-center"><p>2017.08 更新一个Node.js写的爬虫脚本,可以一次性获得最新列表:<br><a href="https://github.com/willin/beian-domain" target="_blank" rel="noopener">https://github.com/willin/beian-domain</a></p>
</blockquote>
<a id="more"></a>
<h2 id="可备案域名列表"><a href="#可备案域名列表" class="headerlink" title="可备案域名列表"></a>可备案域名列表</h2><ul>
<li>.ac</li>
<li>.ac.cn</li>
<li>.ad</li>
<li>.ae</li>
<li>.aero</li>
<li>.af</li>
<li>.ag</li>
<li>.ah.cn</li>
<li>.ai</li>
<li>.al</li>
<li>.am</li>
<li>.an</li>
<li>.ao</li>
<li>.aq</li>
<li>.ar</li>
<li>.arpa</li>
<li>.as</li>
<li>.asia</li>
<li>.asia</li>
<li>.at</li>
<li>.au</li>
<li>.aw</li>
<li>.ax</li>
<li>.az</li>
<li>.ba</li>
<li>.bb</li>
<li>.bd</li>
<li>.be</li>
<li>.bf</li>
<li>.bg</li>
<li>.bh</li>
<li>.bi</li>
<li>.biz</li>
<li>.biz</li>
<li>.bj</li>
<li>.bj.cn</li>
<li>.bm</li>
<li>.bn</li>
<li>.bo</li>
<li>.br</li>
<li>.br</li>
<li>.bs</li>
<li>.bt</li>
<li>.bv</li>
<li>.bw</li>
<li>.by</li>
<li>.bz</li>
<li>.ca</li>
<li>.cat</li>
<li>.cc</li>
<li>.cc</li>
<li>.cd</li>
<li>.cf</li>
<li>.cg</li>
<li>.ch</li>
<li>.ci</li>
<li>.citic</li>
<li>.ck</li>
<li>.cl</li>
<li>.club</li>
<li>.club</li>
<li>.cm</li>
<li>.cn</li>
<li>.cn</li>
<li>.cn.net</li>
<li>.co</li>
<li>.co.ao</li>
<li>.co.id</li>
<li>.co.il</li>
<li>.co.jp</li>
<li>.co.kr</li>
<li>.co.nz</li>
<li>.co.th</li>
<li>.co.uk</li>
<li>.co.uk</li>
<li>.co.za</li>
<li>.com</li>
<li>.com</li>
<li>.com.au</li>
<li>.com.bo</li>
<li>.com.br</li>
<li>.com.cn</li>
<li>.com.co</li>
<li>.com.de</li>
<li>.com.do</li>
<li>.com.ec</li>
<li>.com.eg</li>
<li>.com.hk</li>
<li>.com.mo</li>
<li>.com.my</li>
<li>.com.nz</li>
<li>.com.nz</li>
<li>.com.ph</li>
<li>.com.py</li>
<li>.com.ru</li>
<li>.com.sa</li>
<li>.com.sc</li>
<li>.com.sg</li>
<li>.com.tw</li>
<li>.com.vn</li>
<li>.coop</li>
<li>.cq.cn</li>
<li>.cr</li>
<li>.cu</li>
<li>.cv</li>
<li>.cx</li>
<li>.cy</li>
<li>.cz</li>
<li>.de</li>
<li>.dj</li>
<li>.dk</li>
<li>.dm</li>
<li>.do</li>
<li>.dz</li>
<li>.ec</li>
<li>.edu</li>
<li>.edu.cn</li>
<li>.edu.hk</li>
<li>.edu.mo</li>
<li>.ee</li>
<li>.eg</li>
<li>.er</li>
<li>.es</li>
<li>.et</li>
<li>.eu</li>
<li>.fi</li>
<li>.fj</li>
<li>.fj.cn</li>
<li>.fk</li>
<li>.fm</li>
<li>.fo</li>
<li>.fr</li>
<li>.ga</li>
<li>.gb</li>
<li>.gd</li>
<li>.gd.cn</li>
<li>.ge</li>
<li>.gf</li>
<li>.gg</li>
<li>.gh</li>
<li>.gi</li>
<li>.gl</li>
<li>.gm</li>
<li>.gn</li>
<li>.gov</li>
<li>.gov.cn</li>
<li>.gp</li>
<li>.gq</li>
<li>.gr</li>
<li>.gs</li>
<li>.gs.cn</li>
<li>.gt</li>
<li>.gu</li>
<li>.gw</li>
<li>.gx.cn</li>
<li>.gy</li>
<li>.gz.cn</li>
<li>.ha.cn</li>
<li>.hb.cn</li>
<li>.he.cn</li>
<li>.hi.cn</li>
<li>.hk</li>
<li>.hk</li>
<li>.hk.cn</li>
<li>.hl.cn</li>
<li>.hm</li>
<li>.hn</li>
<li>.hn.cn</li>
<li>.hr</li>
<li>.ht</li>
<li>.hu</li>
<li>.id</li>
<li>.ie</li>
<li>.il</li>
<li>.im</li>
<li>.in</li>
<li>.info</li>
<li>.ink</li>
<li>.int</li>
<li>.io</li>
<li>.iq</li>
<li>.ir</li>
<li>.is</li>
<li>.it</li>
<li>.je</li>
<li>.jl.cn</li>
<li>.jm</li>
<li>.jo</li>
<li>.jobs</li>
<li>.jp</li>
<li>.js.cn</li>
<li>.jx.cn</li>
<li>.ke</li>
<li>.kg</li>
<li>.kh</li>
<li>.khb.ru</li>
<li>.ki</li>
<li>.km</li>
<li>.kn</li>
<li>.kp</li>
<li>.kr</li>
<li>.kr.com</li>
<li>.kw</li>
<li>.ky</li>
<li>.kz</li>
<li>.la</li>
<li>.lb</li>
<li>.lc</li>
<li>.li</li>
<li>.lk</li>
<li>.ln.cn</li>
<li>.lr</li>
<li>.ls</li>
<li>.lt</li>
<li>.lu</li>
<li>.lv</li>
<li>.ly</li>
<li>.ma</li>
<li>.mc</li>
<li>.md</li>
<li>.me</li>
<li>.mg</li>
<li>.mh</li>
<li>.mil</li>
<li>.mil.cn</li>
<li>.mk</li>
<li>.ml</li>
<li>.mm</li>
<li>.mn</li>
<li>.mo</li>
<li>.mo.cn</li>
<li>.mobi</li>
<li>.mp</li>
<li>.mq</li>
<li>.mr</li>
<li>.ms</li>
<li>.mt</li>
<li>.mu</li>
<li>.museum</li>
<li>.mv</li>
<li>.mw</li>
<li>.mx</li>
<li>.my</li>
<li>.mz</li>
<li>.na</li>
<li>.name</li>
<li>.name</li>
<li>.nc</li>
<li>.ne</li>
<li>.net</li>
<li>.net</li>
<li>.net.au</li>
<li>.net.cn</li>
<li>.net.ru</li>
<li>.net.tw</li>
<li>.nf</li>
<li>.ng</li>
<li>.ni</li>
<li>.nl</li>
<li>.nm.cn</li>
<li>.no</li>
<li>.np</li>
<li>.nr</li>
<li>.nu</li>
<li>.nx.cn</li>
<li>.nz</li>
<li>.om</li>
<li>.or.id</li>
<li>.org</li>
<li>.org</li>
<li>.org.au</li>
<li>.org.cn</li>
<li>.org.pg</li>
<li>.org.ru</li>
<li>.org.uk</li>
<li>.pa</li>
<li>.pe</li>
<li>.pf</li>
<li>.pg</li>
<li>.ph</li>
<li>.pk</li>
<li>.pl</li>
<li>.pm</li>
<li>.pn</li>
<li>.pr</li>
<li>.pro</li>
<li>.ps</li>
<li>.pt</li>
<li>.pw</li>
<li>.pw</li>
<li>.py</li>
<li>.qa</li>
<li>.qh.cn</li>
<li>.re</li>
<li>.ren</li>
<li>.ren</li>
<li>.ro</li>
<li>.rs</li>
<li>.ru</li>
<li>.rw</li>
<li>.sa</li>
<li>.sb</li>
<li>.sc</li>
<li>.sc.cn</li>
<li>.sd</li>
<li>.sd.cn</li>
<li>.se</li>
<li>.sg</li>
<li>.sh</li>
<li>.sh.cn</li>
<li>.shop</li>
<li>.si</li>
<li>.site</li>
<li>.sj</li>
<li>.sk</li>
<li>.sl</li>
<li>.sm</li>
<li>.sn</li>
<li>.sn.cn</li>
<li>.so</li>
<li>.sohu</li>
<li>.sohu</li>
<li>.sr</li>
<li>.st</li>
<li>.su</li>
<li>.sv</li>
<li>.sx.cn</li>
<li>.sy</li>
<li>.sz</li>
<li>.tc</li>
<li>.td</li>
<li>.tel</li>
<li>.tel</li>
<li>.tf</li>
<li>.tg</li>
<li>.th</li>
<li>.tj</li>
<li>.tj.cn</li>
<li>.tk</li>
<li>.tl</li>
<li>.tm</li>
<li>.tm</li>
<li>.tn</li>
<li>.to</li>
<li>.to</li>
<li>.top</li>
<li>.top</li>
<li>.tp</li>
<li>.tr</li>
<li>.travel</li>
<li>.tt</li>
<li>.tv</li>
<li>.tv</li>
<li>.tw</li>
<li>.tw</li>
<li>.tw.cn</li>
<li>.tz</li>
<li>.ua</li>
<li>.ug</li>
<li>.uk</li>
<li>.us</li>
<li>.uy</li>
<li>.uz</li>
<li>.va</li>
<li>.vc</li>
<li>.ve</li>
<li>.vg</li>
<li>.vi</li>
<li>.vip</li>
<li>.vip</li>
<li>.vn</li>
<li>.vu</li>
<li>.wang</li>
<li>.wang</li>
<li>.wang</li>
<li>.wf</li>
<li>.ws</li>
<li>.xin</li>
<li>.xin</li>
<li>.xj.cn</li>
<li>.xn–1qqw23a</li>
<li>.xn–3bSt00M</li>
<li>.xn–3bSt00M</li>
<li>.xn–55Qw42G</li>
<li>.xn–55Qw42G</li>
<li>.xn–55Qx5D</li>
<li>.xn–55Qx5D</li>
<li>.xn–55qx5d.hk</li>
<li>.xn–55qx5d.xn–j6w193g</li>
<li>.xn–6qQ986B3xL</li>
<li>.xn–6qQ986B3xL</li>
<li>.xn–czRu2D</li>
<li>.xn–fiQs8S</li>
<li>.xn–fiQs8S</li>
<li>.xn–fiQz9S</li>
<li>.xn–fiQz9S</li>
<li>.xn–fiq64b</li>
<li>.xn–io0A7I</li>
<li>.xn–io0A7I</li>
<li>.xn–j6w193g</li>
<li>.xn–od0AlG</li>
<li>.xn–od0AlG</li>
<li>.xn–ses554g</li>
<li>.xn–vuq861b</li>
<li>.xn–xhq521b</li>
<li>.xn–zfR164B</li>
<li>.xn–zfR164B</li>
<li>.xn—czru2d</li>
<li>.xyz</li>
<li>.xyz</li>
<li>.xz.cn</li>
<li>.ye</li>
<li>.yn.cn</li>
<li>.yt</li>
<li>.za</li>
<li>.zj.cn</li>
<li>.zm</li>
<li>.zw</li>
<li>.中信</li>
<li>.中国</li>
<li>.中國</li>
<li>.中文网</li>
<li>.佛山</li>
<li>.信息</li>
<li>.公司</li>
<li>.公司.cn</li>
<li>.公司.hk</li>
<li>.公司.香港</li>
<li>.公益</li>
<li>.公益.cn</li>
<li>.公益.中国</li>
<li>.公益.中國</li>
<li>.其它</li>
<li>.其它.cn</li>
<li>.商城</li>
<li>.商标</li>
<li>.在线</li>
<li>.广东</li>
<li>.我爱你</li>
<li>.手机</li>
<li>.政务</li>
<li>.政务.cn</li>
<li>.政务.中国</li>
<li>.政务.中國</li>
<li>.政務</li>
<li>.政務.cn</li>
<li>.政務.中国</li>
<li>.政務.中國</li>
<li>.網絡</li>
<li>.網絡.cn</li>
<li>.网址</li>
<li>.网店</li>
<li>.网络</li>
<li>.网络.cn</li>
<li>.集团</li>
<li>.香港</li>
</ul>
<p>查询地址： <a href="http://www.miibeian.gov.cn/basecode/query/queryDomain.action" target="_blank" rel="noopener">http://www.miibeian.gov.cn/basecode/query/queryDomain.action</a></p>
<h2 id="可备案域名价格（从低到高）"><a href="#可备案域名价格（从低到高）" class="headerlink" title="可备案域名价格（从低到高）"></a>可备案域名价格（从低到高）</h2><ul>
<li>.网店,1</li>
<li>.商标,2</li>
<li>.pw,14</li>
<li>.site,16</li>
<li>.ink,24</li>
<li>.top,26</li>
<li>.gs,28</li>
<li>.vip,29</li>
<li>.cn,38</li>
<li>.cx,38</li>
<li>.cn,38</li>
<li>.ren,38</li>
<li>.in,45</li>
<li>.vc,48</li>
<li>.wang,49</li>
<li>.cc,58</li>
<li>.cc,58</li>
<li>.club,60</li>
<li>.com,60</li>
<li>.xyz,64</li>
<li>.biz,68</li>
<li>.name,68</li>
<li>.us,68</li>
<li>.info,68</li>
<li>.信息,69</li>
<li>.net,69</li>
<li>.net,69</li>
<li>.com,69</li>
<li>.org,75</li>
<li>.xin,86</li>
<li>.pro,88</li>
<li>.mobi,88</li>
<li>.me,88</li>
<li>.asia,88</li>
<li>.com.co,98</li>
<li>.biz,99</li>
<li>.com.tw,108</li>
<li>.tw,108</li>
<li>.hk,118</li>
<li>.gov.cn,120</li>
<li>.ee,128</li>
<li>.lc,138</li>
<li>.com.hk,158</li>
<li>.co,159</li>
<li>.ws,159</li>
<li>.shop,168</li>
<li>.la,178</li>
<li>.广东,180</li>
<li>.佛山,180</li>
<li>.tv,180</li>
<li>.bz,198</li>
<li>.tv,199</li>
<li>.gg,298</li>
<li>.公司,320</li>
<li>.网络,320</li>
<li>.中国,320</li>
<li>.cd,400</li>
<li>.sc,688</li>
<li>.tm,990</li>
<li>.tm,990</li>
</ul>
<p>数据来源： <a href="http://www.west.cn?ReferenceID=1178840" target="_blank" rel="noopener">西部数码</a></p>
<!-- http://www.west.cn/web/price/domainpricelist -->
<h2 id="授人以鱼不如授人以渔"><a href="#授人以鱼不如授人以渔" class="headerlink" title="授人以鱼不如授人以渔"></a>授人以鱼不如授人以渔</h2><p>抓取代码：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">[].slice.call(<span class="built_in">document</span>.querySelectorAll(<span class="string">'tr'</span>)).slice(<span class="number">5</span>, <span class="built_in">document</span>.querySelectorAll(<span class="string">'tr'</span>).length - <span class="number">3</span>).map(<span class="function"><span class="params">tr</span> =&gt;</span> <span class="string">`'<span class="subst">$&#123;tr.querySelector(<span class="string">'.by2'</span>).innerText.trim()&#125;</span>',`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure>
<p>得到可备案域名列表数组如下：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ba = [</span><br><span class="line"><span class="string">'.ac'</span>,</span><br><span class="line"><span class="string">'.ac.cn'</span>,</span><br><span class="line"><span class="string">'.ad'</span>,</span><br><span class="line"><span class="string">'.ae'</span>,</span><br><span class="line"><span class="string">'.aero'</span>,</span><br><span class="line"><span class="string">'.af'</span>,</span><br><span class="line"><span class="string">'.ag'</span>,</span><br><span class="line"><span class="string">'.ah.cn'</span>,</span><br><span class="line"><span class="string">'.ai'</span>,</span><br><span class="line"><span class="string">'.al'</span>,</span><br><span class="line"><span class="string">'.am'</span>,</span><br><span class="line"><span class="string">'.an'</span>,</span><br><span class="line"><span class="string">'.ao'</span>,</span><br><span class="line"><span class="string">'.aq'</span>,</span><br><span class="line"><span class="string">'.ar'</span>,</span><br><span class="line"><span class="string">'.arpa'</span>,</span><br><span class="line"><span class="string">'.as'</span>,</span><br><span class="line"><span class="string">'.asia'</span>,</span><br><span class="line"><span class="string">'.asia'</span>,</span><br><span class="line"><span class="string">'.at'</span>,</span><br><span class="line"><span class="string">'.au'</span>,</span><br><span class="line"><span class="string">'.aw'</span>,</span><br><span class="line"><span class="string">'.ax'</span>,</span><br><span class="line"><span class="string">'.az'</span>,</span><br><span class="line"><span class="string">'.ba'</span>,</span><br><span class="line"><span class="string">'.bb'</span>,</span><br><span class="line"><span class="string">'.bd'</span>,</span><br><span class="line"><span class="string">'.be'</span>,</span><br><span class="line"><span class="string">'.bf'</span>,</span><br><span class="line"><span class="string">'.bg'</span>,</span><br><span class="line"><span class="string">'.bh'</span>,</span><br><span class="line"><span class="string">'.bi'</span>,</span><br><span class="line"><span class="string">'.biz'</span>,</span><br><span class="line"><span class="string">'.biz'</span>,</span><br><span class="line"><span class="string">'.bj'</span>,</span><br><span class="line"><span class="string">'.bj.cn'</span>,</span><br><span class="line"><span class="string">'.bm'</span>,</span><br><span class="line"><span class="string">'.bn'</span>,</span><br><span class="line"><span class="string">'.bo'</span>,</span><br><span class="line"><span class="string">'.br'</span>,</span><br><span class="line"><span class="string">'.br'</span>,</span><br><span class="line"><span class="string">'.bs'</span>,</span><br><span class="line"><span class="string">'.bt'</span>,</span><br><span class="line"><span class="string">'.bv'</span>,</span><br><span class="line"><span class="string">'.bw'</span>,</span><br><span class="line"><span class="string">'.by'</span>,</span><br><span class="line"><span class="string">'.bz'</span>,</span><br><span class="line"><span class="string">'.ca'</span>,</span><br><span class="line"><span class="string">'.cat'</span>,</span><br><span class="line"><span class="string">'.cc'</span>,</span><br><span class="line"><span class="string">'.cc'</span>,</span><br><span class="line"><span class="string">'.cd'</span>,</span><br><span class="line"><span class="string">'.cf'</span>,</span><br><span class="line"><span class="string">'.cg'</span>,</span><br><span class="line"><span class="string">'.ch'</span>,</span><br><span class="line"><span class="string">'.ci'</span>,</span><br><span class="line"><span class="string">'.citic'</span>,</span><br><span class="line"><span class="string">'.ck'</span>,</span><br><span class="line"><span class="string">'.cl'</span>,</span><br><span class="line"><span class="string">'.club'</span>,</span><br><span class="line"><span class="string">'.club'</span>,</span><br><span class="line"><span class="string">'.cm'</span>,</span><br><span class="line"><span class="string">'.cn'</span>,</span><br><span class="line"><span class="string">'.cn'</span>,</span><br><span class="line"><span class="string">'.cn.net'</span>,</span><br><span class="line"><span class="string">'.co'</span>,</span><br><span class="line"><span class="string">'.co.ao'</span>,</span><br><span class="line"><span class="string">'.co.id'</span>,</span><br><span class="line"><span class="string">'.co.il'</span>,</span><br><span class="line"><span class="string">'.co.jp'</span>,</span><br><span class="line"><span class="string">'.co.kr'</span>,</span><br><span class="line"><span class="string">'.co.nz'</span>,</span><br><span class="line"><span class="string">'.co.th'</span>,</span><br><span class="line"><span class="string">'.co.uk'</span>,</span><br><span class="line"><span class="string">'.co.uk'</span>,</span><br><span class="line"><span class="string">'.co.za'</span>,</span><br><span class="line"><span class="string">'.com'</span>,</span><br><span class="line"><span class="string">'.com'</span>,</span><br><span class="line"><span class="string">'.com.au'</span>,</span><br><span class="line"><span class="string">'.com.bo'</span>,</span><br><span class="line"><span class="string">'.com.br'</span>,</span><br><span class="line"><span class="string">'.com.cn'</span>,</span><br><span class="line"><span class="string">'.com.co'</span>,</span><br><span class="line"><span class="string">'.com.de'</span>,</span><br><span class="line"><span class="string">'.com.do'</span>,</span><br><span class="line"><span class="string">'.com.ec'</span>,</span><br><span class="line"><span class="string">'.com.eg'</span>,</span><br><span class="line"><span class="string">'.com.hk'</span>,</span><br><span class="line"><span class="string">'.com.mo'</span>,</span><br><span class="line"><span class="string">'.com.my'</span>,</span><br><span class="line"><span class="string">'.com.nz'</span>,</span><br><span class="line"><span class="string">'.com.nz'</span>,</span><br><span class="line"><span class="string">'.com.ph'</span>,</span><br><span class="line"><span class="string">'.com.py'</span>,</span><br><span class="line"><span class="string">'.com.ru'</span>,</span><br><span class="line"><span class="string">'.com.sa'</span>,</span><br><span class="line"><span class="string">'.com.sc'</span>,</span><br><span class="line"><span class="string">'.com.sg'</span>,</span><br><span class="line"><span class="string">'.com.tw'</span>,</span><br><span class="line"><span class="string">'.com.vn'</span>,</span><br><span class="line"><span class="string">'.coop'</span>,</span><br><span class="line"><span class="string">'.cq.cn'</span>,</span><br><span class="line"><span class="string">'.cr'</span>,</span><br><span class="line"><span class="string">'.cu'</span>,</span><br><span class="line"><span class="string">'.cv'</span>,</span><br><span class="line"><span class="string">'.cx'</span>,</span><br><span class="line"><span class="string">'.cy'</span>,</span><br><span class="line"><span class="string">'.cz'</span>,</span><br><span class="line"><span class="string">'.de'</span>,</span><br><span class="line"><span class="string">'.dj'</span>,</span><br><span class="line"><span class="string">'.dk'</span>,</span><br><span class="line"><span class="string">'.dm'</span>,</span><br><span class="line"><span class="string">'.do'</span>,</span><br><span class="line"><span class="string">'.dz'</span>,</span><br><span class="line"><span class="string">'.ec'</span>,</span><br><span class="line"><span class="string">'.edu'</span>,</span><br><span class="line"><span class="string">'.edu.cn'</span>,</span><br><span class="line"><span class="string">'.edu.hk'</span>,</span><br><span class="line"><span class="string">'.edu.mo'</span>,</span><br><span class="line"><span class="string">'.ee'</span>,</span><br><span class="line"><span class="string">'.eg'</span>,</span><br><span class="line"><span class="string">'.er'</span>,</span><br><span class="line"><span class="string">'.es'</span>,</span><br><span class="line"><span class="string">'.et'</span>,</span><br><span class="line"><span class="string">'.eu'</span>,</span><br><span class="line"><span class="string">'.fi'</span>,</span><br><span class="line"><span class="string">'.fj'</span>,</span><br><span class="line"><span class="string">'.fj.cn'</span>,</span><br><span class="line"><span class="string">'.fk'</span>,</span><br><span class="line"><span class="string">'.fm'</span>,</span><br><span class="line"><span class="string">'.fo'</span>,</span><br><span class="line"><span class="string">'.fr'</span>,</span><br><span class="line"><span class="string">'.ga'</span>,</span><br><span class="line"><span class="string">'.gb'</span>,</span><br><span class="line"><span class="string">'.gd'</span>,</span><br><span class="line"><span class="string">'.gd.cn'</span>,</span><br><span class="line"><span class="string">'.ge'</span>,</span><br><span class="line"><span class="string">'.gf'</span>,</span><br><span class="line"><span class="string">'.gg'</span>,</span><br><span class="line"><span class="string">'.gh'</span>,</span><br><span class="line"><span class="string">'.gi'</span>,</span><br><span class="line"><span class="string">'.gl'</span>,</span><br><span class="line"><span class="string">'.gm'</span>,</span><br><span class="line"><span class="string">'.gn'</span>,</span><br><span class="line"><span class="string">'.gov'</span>,</span><br><span class="line"><span class="string">'.gov.cn'</span>,</span><br><span class="line"><span class="string">'.gp'</span>,</span><br><span class="line"><span class="string">'.gq'</span>,</span><br><span class="line"><span class="string">'.gr'</span>,</span><br><span class="line"><span class="string">'.gs'</span>,</span><br><span class="line"><span class="string">'.gs.cn'</span>,</span><br><span class="line"><span class="string">'.gt'</span>,</span><br><span class="line"><span class="string">'.gu'</span>,</span><br><span class="line"><span class="string">'.gw'</span>,</span><br><span class="line"><span class="string">'.gx.cn'</span>,</span><br><span class="line"><span class="string">'.gy'</span>,</span><br><span class="line"><span class="string">'.gz.cn'</span>,</span><br><span class="line"><span class="string">'.ha.cn'</span>,</span><br><span class="line"><span class="string">'.hb.cn'</span>,</span><br><span class="line"><span class="string">'.he.cn'</span>,</span><br><span class="line"><span class="string">'.hi.cn'</span>,</span><br><span class="line"><span class="string">'.hk'</span>,</span><br><span class="line"><span class="string">'.hk'</span>,</span><br><span class="line"><span class="string">'.hk.cn'</span>,</span><br><span class="line"><span class="string">'.hl.cn'</span>,</span><br><span class="line"><span class="string">'.hm'</span>,</span><br><span class="line"><span class="string">'.hn'</span>,</span><br><span class="line"><span class="string">'.hn.cn'</span>,</span><br><span class="line"><span class="string">'.hr'</span>,</span><br><span class="line"><span class="string">'.ht'</span>,</span><br><span class="line"><span class="string">'.hu'</span>,</span><br><span class="line"><span class="string">'.id'</span>,</span><br><span class="line"><span class="string">'.ie'</span>,</span><br><span class="line"><span class="string">'.il'</span>,</span><br><span class="line"><span class="string">'.im'</span>,</span><br><span class="line"><span class="string">'.in'</span>,</span><br><span class="line"><span class="string">'.info'</span>,</span><br><span class="line"><span class="string">'.ink'</span>,</span><br><span class="line"><span class="string">'.int'</span>,</span><br><span class="line"><span class="string">'.io'</span>,</span><br><span class="line"><span class="string">'.iq'</span>,</span><br><span class="line"><span class="string">'.ir'</span>,</span><br><span class="line"><span class="string">'.is'</span>,</span><br><span class="line"><span class="string">'.it'</span>,</span><br><span class="line"><span class="string">'.je'</span>,</span><br><span class="line"><span class="string">'.jl.cn'</span>,</span><br><span class="line"><span class="string">'.jm'</span>,</span><br><span class="line"><span class="string">'.jo'</span>,</span><br><span class="line"><span class="string">'.jobs'</span>,</span><br><span class="line"><span class="string">'.jp'</span>,</span><br><span class="line"><span class="string">'.js.cn'</span>,</span><br><span class="line"><span class="string">'.jx.cn'</span>,</span><br><span class="line"><span class="string">'.ke'</span>,</span><br><span class="line"><span class="string">'.kg'</span>,</span><br><span class="line"><span class="string">'.kh'</span>,</span><br><span class="line"><span class="string">'.khb.ru'</span>,</span><br><span class="line"><span class="string">'.ki'</span>,</span><br><span class="line"><span class="string">'.km'</span>,</span><br><span class="line"><span class="string">'.kn'</span>,</span><br><span class="line"><span class="string">'.kp'</span>,</span><br><span class="line"><span class="string">'.kr'</span>,</span><br><span class="line"><span class="string">'.kr.com'</span>,</span><br><span class="line"><span class="string">'.kw'</span>,</span><br><span class="line"><span class="string">'.ky'</span>,</span><br><span class="line"><span class="string">'.kz'</span>,</span><br><span class="line"><span class="string">'.la'</span>,</span><br><span class="line"><span class="string">'.lb'</span>,</span><br><span class="line"><span class="string">'.lc'</span>,</span><br><span class="line"><span class="string">'.li'</span>,</span><br><span class="line"><span class="string">'.lk'</span>,</span><br><span class="line"><span class="string">'.ln.cn'</span>,</span><br><span class="line"><span class="string">'.lr'</span>,</span><br><span class="line"><span class="string">'.ls'</span>,</span><br><span class="line"><span class="string">'.lt'</span>,</span><br><span class="line"><span class="string">'.lu'</span>,</span><br><span class="line"><span class="string">'.lv'</span>,</span><br><span class="line"><span class="string">'.ly'</span>,</span><br><span class="line"><span class="string">'.ma'</span>,</span><br><span class="line"><span class="string">'.mc'</span>,</span><br><span class="line"><span class="string">'.md'</span>,</span><br><span class="line"><span class="string">'.me'</span>,</span><br><span class="line"><span class="string">'.mg'</span>,</span><br><span class="line"><span class="string">'.mh'</span>,</span><br><span class="line"><span class="string">'.mil'</span>,</span><br><span class="line"><span class="string">'.mil.cn'</span>,</span><br><span class="line"><span class="string">'.mk'</span>,</span><br><span class="line"><span class="string">'.ml'</span>,</span><br><span class="line"><span class="string">'.mm'</span>,</span><br><span class="line"><span class="string">'.mn'</span>,</span><br><span class="line"><span class="string">'.mo'</span>,</span><br><span class="line"><span class="string">'.mo.cn'</span>,</span><br><span class="line"><span class="string">'.mobi'</span>,</span><br><span class="line"><span class="string">'.mp'</span>,</span><br><span class="line"><span class="string">'.mq'</span>,</span><br><span class="line"><span class="string">'.mr'</span>,</span><br><span class="line"><span class="string">'.ms'</span>,</span><br><span class="line"><span class="string">'.mt'</span>,</span><br><span class="line"><span class="string">'.mu'</span>,</span><br><span class="line"><span class="string">'.museum'</span>,</span><br><span class="line"><span class="string">'.mv'</span>,</span><br><span class="line"><span class="string">'.mw'</span>,</span><br><span class="line"><span class="string">'.mx'</span>,</span><br><span class="line"><span class="string">'.my'</span>,</span><br><span class="line"><span class="string">'.mz'</span>,</span><br><span class="line"><span class="string">'.na'</span>,</span><br><span class="line"><span class="string">'.name'</span>,</span><br><span class="line"><span class="string">'.name'</span>,</span><br><span class="line"><span class="string">'.nc'</span>,</span><br><span class="line"><span class="string">'.ne'</span>,</span><br><span class="line"><span class="string">'.net'</span>,</span><br><span class="line"><span class="string">'.net'</span>,</span><br><span class="line"><span class="string">'.net.au'</span>,</span><br><span class="line"><span class="string">'.net.cn'</span>,</span><br><span class="line"><span class="string">'.net.ru'</span>,</span><br><span class="line"><span class="string">'.net.tw'</span>,</span><br><span class="line"><span class="string">'.nf'</span>,</span><br><span class="line"><span class="string">'.ng'</span>,</span><br><span class="line"><span class="string">'.ni'</span>,</span><br><span class="line"><span class="string">'.nl'</span>,</span><br><span class="line"><span class="string">'.nm.cn'</span>,</span><br><span class="line"><span class="string">'.no'</span>,</span><br><span class="line"><span class="string">'.np'</span>,</span><br><span class="line"><span class="string">'.nr'</span>,</span><br><span class="line"><span class="string">'.nu'</span>,</span><br><span class="line"><span class="string">'.nx.cn'</span>,</span><br><span class="line"><span class="string">'.nz'</span>,</span><br><span class="line"><span class="string">'.om'</span>,</span><br><span class="line"><span class="string">'.or.id'</span>,</span><br><span class="line"><span class="string">'.org'</span>,</span><br><span class="line"><span class="string">'.org'</span>,</span><br><span class="line"><span class="string">'.org.au'</span>,</span><br><span class="line"><span class="string">'.org.cn'</span>,</span><br><span class="line"><span class="string">'.org.pg'</span>,</span><br><span class="line"><span class="string">'.org.ru'</span>,</span><br><span class="line"><span class="string">'.org.uk'</span>,</span><br><span class="line"><span class="string">'.pa'</span>,</span><br><span class="line"><span class="string">'.pe'</span>,</span><br><span class="line"><span class="string">'.pf'</span>,</span><br><span class="line"><span class="string">'.pg'</span>,</span><br><span class="line"><span class="string">'.ph'</span>,</span><br><span class="line"><span class="string">'.pk'</span>,</span><br><span class="line"><span class="string">'.pl'</span>,</span><br><span class="line"><span class="string">'.pm'</span>,</span><br><span class="line"><span class="string">'.pn'</span>,</span><br><span class="line"><span class="string">'.pr'</span>,</span><br><span class="line"><span class="string">'.pro'</span>,</span><br><span class="line"><span class="string">'.ps'</span>,</span><br><span class="line"><span class="string">'.pt'</span>,</span><br><span class="line"><span class="string">'.pw'</span>,</span><br><span class="line"><span class="string">'.pw'</span>,</span><br><span class="line"><span class="string">'.py'</span>,</span><br><span class="line"><span class="string">'.qa'</span>,</span><br><span class="line"><span class="string">'.qh.cn'</span>,</span><br><span class="line"><span class="string">'.re'</span>,</span><br><span class="line"><span class="string">'.ren'</span>,</span><br><span class="line"><span class="string">'.ren'</span>,</span><br><span class="line"><span class="string">'.ro'</span>,</span><br><span class="line"><span class="string">'.rs'</span>,</span><br><span class="line"><span class="string">'.ru'</span>,</span><br><span class="line"><span class="string">'.rw'</span>,</span><br><span class="line"><span class="string">'.sa'</span>,</span><br><span class="line"><span class="string">'.sb'</span>,</span><br><span class="line"><span class="string">'.sc'</span>,</span><br><span class="line"><span class="string">'.sc.cn'</span>,</span><br><span class="line"><span class="string">'.sd'</span>,</span><br><span class="line"><span class="string">'.sd.cn'</span>,</span><br><span class="line"><span class="string">'.se'</span>,</span><br><span class="line"><span class="string">'.sg'</span>,</span><br><span class="line"><span class="string">'.sh'</span>,</span><br><span class="line"><span class="string">'.sh.cn'</span>,</span><br><span class="line"><span class="string">'.shop'</span>,</span><br><span class="line"><span class="string">'.si'</span>,</span><br><span class="line"><span class="string">'.site'</span>,</span><br><span class="line"><span class="string">'.sj'</span>,</span><br><span class="line"><span class="string">'.sk'</span>,</span><br><span class="line"><span class="string">'.sl'</span>,</span><br><span class="line"><span class="string">'.sm'</span>,</span><br><span class="line"><span class="string">'.sn'</span>,</span><br><span class="line"><span class="string">'.sn.cn'</span>,</span><br><span class="line"><span class="string">'.so'</span>,</span><br><span class="line"><span class="string">'.sohu'</span>,</span><br><span class="line"><span class="string">'.sohu'</span>,</span><br><span class="line"><span class="string">'.sr'</span>,</span><br><span class="line"><span class="string">'.st'</span>,</span><br><span class="line"><span class="string">'.su'</span>,</span><br><span class="line"><span class="string">'.sv'</span>,</span><br><span class="line"><span class="string">'.sx.cn'</span>,</span><br><span class="line"><span class="string">'.sy'</span>,</span><br><span class="line"><span class="string">'.sz'</span>,</span><br><span class="line"><span class="string">'.tc'</span>,</span><br><span class="line"><span class="string">'.td'</span>,</span><br><span class="line"><span class="string">'.tel'</span>,</span><br><span class="line"><span class="string">'.tel'</span>,</span><br><span class="line"><span class="string">'.tf'</span>,</span><br><span class="line"><span class="string">'.tg'</span>,</span><br><span class="line"><span class="string">'.th'</span>,</span><br><span class="line"><span class="string">'.tj'</span>,</span><br><span class="line"><span class="string">'.tj.cn'</span>,</span><br><span class="line"><span class="string">'.tk'</span>,</span><br><span class="line"><span class="string">'.tl'</span>,</span><br><span class="line"><span class="string">'.tm'</span>,</span><br><span class="line"><span class="string">'.tm'</span>,</span><br><span class="line"><span class="string">'.tn'</span>,</span><br><span class="line"><span class="string">'.to'</span>,</span><br><span class="line"><span class="string">'.to'</span>,</span><br><span class="line"><span class="string">'.top'</span>,</span><br><span class="line"><span class="string">'.top'</span>,</span><br><span class="line"><span class="string">'.tp'</span>,</span><br><span class="line"><span class="string">'.tr'</span>,</span><br><span class="line"><span class="string">'.travel'</span>,</span><br><span class="line"><span class="string">'.tt'</span>,</span><br><span class="line"><span class="string">'.tv'</span>,</span><br><span class="line"><span class="string">'.tv'</span>,</span><br><span class="line"><span class="string">'.tw'</span>,</span><br><span class="line"><span class="string">'.tw'</span>,</span><br><span class="line"><span class="string">'.tw.cn'</span>,</span><br><span class="line"><span class="string">'.tz'</span>,</span><br><span class="line"><span class="string">'.ua'</span>,</span><br><span class="line"><span class="string">'.ug'</span>,</span><br><span class="line"><span class="string">'.uk'</span>,</span><br><span class="line"><span class="string">'.us'</span>,</span><br><span class="line"><span class="string">'.uy'</span>,</span><br><span class="line"><span class="string">'.uz'</span>,</span><br><span class="line"><span class="string">'.va'</span>,</span><br><span class="line"><span class="string">'.vc'</span>,</span><br><span class="line"><span class="string">'.ve'</span>,</span><br><span class="line"><span class="string">'.vg'</span>,</span><br><span class="line"><span class="string">'.vi'</span>,</span><br><span class="line"><span class="string">'.vip'</span>,</span><br><span class="line"><span class="string">'.vip'</span>,</span><br><span class="line"><span class="string">'.vn'</span>,</span><br><span class="line"><span class="string">'.vu'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wang'</span>,</span><br><span class="line"><span class="string">'.wf'</span>,</span><br><span class="line"><span class="string">'.ws'</span>,</span><br><span class="line"><span class="string">'.xin'</span>,</span><br><span class="line"><span class="string">'.xin'</span>,</span><br><span class="line"><span class="string">'.xj.cn'</span>,</span><br><span class="line"><span class="string">'.xn--1qqw23a'</span>,</span><br><span class="line"><span class="string">'.xn--3bSt00M'</span>,</span><br><span class="line"><span class="string">'.xn--3bSt00M'</span>,</span><br><span class="line"><span class="string">'.xn--55Qw42G'</span>,</span><br><span class="line"><span class="string">'.xn--55Qw42G'</span>,</span><br><span class="line"><span class="string">'.xn--55Qx5D'</span>,</span><br><span class="line"><span class="string">'.xn--55Qx5D'</span>,</span><br><span class="line"><span class="string">'.xn--55qx5d.hk'</span>,</span><br><span class="line"><span class="string">'.xn--55qx5d.xn--j6w193g'</span>,</span><br><span class="line"><span class="string">'.xn--6qQ986B3xL'</span>,</span><br><span class="line"><span class="string">'.xn--6qQ986B3xL'</span>,</span><br><span class="line"><span class="string">'.xn--czRu2D'</span>,</span><br><span class="line"><span class="string">'.xn--fiQs8S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQs8S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQz9S'</span>,</span><br><span class="line"><span class="string">'.xn--fiQz9S'</span>,</span><br><span class="line"><span class="string">'.xn--fiq64b'</span>,</span><br><span class="line"><span class="string">'.xn--io0A7I'</span>,</span><br><span class="line"><span class="string">'.xn--io0A7I'</span>,</span><br><span class="line"><span class="string">'.xn--j6w193g'</span>,</span><br><span class="line"><span class="string">'.xn--od0AlG'</span>,</span><br><span class="line"><span class="string">'.xn--od0AlG'</span>,</span><br><span class="line"><span class="string">'.xn--ses554g'</span>,</span><br><span class="line"><span class="string">'.xn--vuq861b'</span>,</span><br><span class="line"><span class="string">'.xn--xhq521b'</span>,</span><br><span class="line"><span class="string">'.xn--zfR164B'</span>,</span><br><span class="line"><span class="string">'.xn--zfR164B'</span>,</span><br><span class="line"><span class="string">'.xn—czru2d'</span>,</span><br><span class="line"><span class="string">'.xyz'</span>,</span><br><span class="line"><span class="string">'.xyz'</span>,</span><br><span class="line"><span class="string">'.xz.cn'</span>,</span><br><span class="line"><span class="string">'.ye'</span>,</span><br><span class="line"><span class="string">'.yn.cn'</span>,</span><br><span class="line"><span class="string">'.yt'</span>,</span><br><span class="line"><span class="string">'.za'</span>,</span><br><span class="line"><span class="string">'.zj.cn'</span>,</span><br><span class="line"><span class="string">'.zm'</span>,</span><br><span class="line"><span class="string">'.zw'</span>,</span><br><span class="line"><span class="string">'.中信'</span>,</span><br><span class="line"><span class="string">'.中国'</span>,</span><br><span class="line"><span class="string">'.中國'</span>,</span><br><span class="line"><span class="string">'.中文网'</span>,</span><br><span class="line"><span class="string">'.佛山'</span>,</span><br><span class="line"><span class="string">'.信息'</span>,</span><br><span class="line"><span class="string">'.公司'</span>,</span><br><span class="line"><span class="string">'.公司.cn'</span>,</span><br><span class="line"><span class="string">'.公司.hk'</span>,</span><br><span class="line"><span class="string">'.公司.香港'</span>,</span><br><span class="line"><span class="string">'.公益'</span>,</span><br><span class="line"><span class="string">'.公益.cn'</span>,</span><br><span class="line"><span class="string">'.公益.中国'</span>,</span><br><span class="line"><span class="string">'.公益.中國'</span>,</span><br><span class="line"><span class="string">'.其它'</span>,</span><br><span class="line"><span class="string">'.其它.cn'</span>,</span><br><span class="line"><span class="string">'.商城'</span>,</span><br><span class="line"><span class="string">'.商标'</span>,</span><br><span class="line"><span class="string">'.在线'</span>,</span><br><span class="line"><span class="string">'.广东'</span>,</span><br><span class="line"><span class="string">'.我爱你'</span>,</span><br><span class="line"><span class="string">'.手机'</span>,</span><br><span class="line"><span class="string">'.政务'</span>,</span><br><span class="line"><span class="string">'.政务.cn'</span>,</span><br><span class="line"><span class="string">'.政务.中国'</span>,</span><br><span class="line"><span class="string">'.政务.中國'</span>,</span><br><span class="line"><span class="string">'.政務'</span>,</span><br><span class="line"><span class="string">'.政務.cn'</span>,</span><br><span class="line"><span class="string">'.政務.中国'</span>,</span><br><span class="line"><span class="string">'.政務.中國'</span>,</span><br><span class="line"><span class="string">'.網絡'</span>,</span><br><span class="line"><span class="string">'.網絡.cn'</span>,</span><br><span class="line"><span class="string">'.网址'</span>,</span><br><span class="line"><span class="string">'.网店'</span>,</span><br><span class="line"><span class="string">'.网络'</span>,</span><br><span class="line"><span class="string">'.网络.cn'</span>,</span><br><span class="line"><span class="string">'.集团'</span>,</span><br><span class="line"><span class="string">'.香港'</span></span><br><span class="line">];</span><br></pre></td></tr></table></figure>
<p>排序：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">ba.sort().map(<span class="function"><span class="params">x</span> =&gt;</span> <span class="string">`* <span class="subst">$&#123;x&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure>
<h2 id="域名注册价格排序"><a href="#域名注册价格排序" class="headerlink" title="域名注册价格排序"></a>域名注册价格排序</h2><p>获取域名列表和续费价格：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> list = [].slice.call(<span class="built_in">document</span>.getElementById(<span class="string">'domainPriceListTbody'</span>).getElementsByTagName(<span class="string">'tr'</span>)).reduce(<span class="function">(<span class="params">result, item</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> items = item.getElementsByTagName(<span class="string">'td'</span>);</span><br><span class="line">  <span class="keyword">if</span> (items.length &gt; <span class="number">1</span>) &#123;</span><br><span class="line">    result.push([items[<span class="number">0</span>].innerText, <span class="built_in">parseFloat</span>(items[<span class="number">2</span>].innerText)]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;, []);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印查看：</span></span><br><span class="line">list.map(<span class="function"><span class="params">x</span>=&gt;</span><span class="string">`<span class="subst">$&#123;x[<span class="number">0</span>]&#125;</span>,<span class="subst">$&#123;x[<span class="number">1</span>]&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">.com,60</span></span><br><span class="line"><span class="comment">.net,69</span></span><br><span class="line"><span class="comment">.org,75</span></span><br><span class="line"><span class="comment">.cn,38</span></span><br><span class="line"><span class="comment">.info,68</span></span><br><span class="line"><span class="comment">.cc,58</span></span><br><span class="line"><span class="comment">.tv,180</span></span><br><span class="line"><span class="comment">.biz,68</span></span><br><span class="line"><span class="comment">.gov.cn,120</span></span><br><span class="line"><span class="comment">.mobi,88</span></span><br><span class="line"><span class="comment">.name,68</span></span><br><span class="line"><span class="comment">.tw,108</span></span><br><span class="line"><span class="comment">.hk,118</span></span><br><span class="line"><span class="comment">.cd,400</span></span><br><span class="line"><span class="comment">.us,68</span></span><br><span class="line"><span class="comment">.asia,88</span></span><br><span class="line"><span class="comment">.me,88</span></span><br><span class="line"><span class="comment">.in,45</span></span><br><span class="line"><span class="comment">.co,159</span></span><br><span class="line"><span class="comment">.ws,159</span></span><br><span class="line"><span class="comment">.pro,88</span></span><br><span class="line"><span class="comment">.pw,14</span></span><br><span class="line"><span class="comment">.tm,990</span></span><br><span class="line"><span class="comment">.wang,49</span></span><br><span class="line"><span class="comment">.club,60</span></span><br><span class="line"><span class="comment">.la,178</span></span><br><span class="line"><span class="comment">.xyz,64</span></span><br><span class="line"><span class="comment">.top,26</span></span><br><span class="line"><span class="comment">.website,14</span></span><br><span class="line"><span class="comment">.ren,38</span></span><br><span class="line"><span class="comment">.space,14</span></span><br><span class="line"><span class="comment">.press,16</span></span><br><span class="line"><span class="comment">.host,16</span></span><br><span class="line"><span class="comment">.wiki,38</span></span><br><span class="line"><span class="comment">.ink,24</span></span><br><span class="line"><span class="comment">.design,88</span></span><br><span class="line"><span class="comment">.site,16</span></span><br><span class="line"><span class="comment">.ooo,145</span></span><br><span class="line"><span class="comment">.love,78</span></span><br><span class="line"><span class="comment">.tech,16</span></span><br><span class="line"><span class="comment">.email,168</span></span><br><span class="line"><span class="comment">.today,168</span></span><br><span class="line"><span class="comment">.company,168</span></span><br><span class="line"><span class="comment">.tips,168</span></span><br><span class="line"><span class="comment">.life,198</span></span><br><span class="line"><span class="comment">.media,198</span></span><br><span class="line"><span class="comment">.world,198</span></span><br><span class="line"><span class="comment">.photos,168</span></span><br><span class="line"><span class="comment">.city,168</span></span><br><span class="line"><span class="comment">.zone,198</span></span><br><span class="line"><span class="comment">.land,198</span></span><br><span class="line"><span class="comment">.house,155</span></span><br><span class="line"><span class="comment">.bike,198</span></span><br><span class="line"><span class="comment">.marketing,198</span></span><br><span class="line"><span class="comment">.cool,198</span></span><br><span class="line"><span class="comment">.works,198</span></span><br><span class="line"><span class="comment">.tools,198</span></span><br><span class="line"><span class="comment">.domains,198</span></span><br><span class="line"><span class="comment">.cards,198</span></span><br><span class="line"><span class="comment">.tax,278</span></span><br><span class="line"><span class="comment">.plus,155</span></span><br><span class="line"><span class="comment">.show,198</span></span><br><span class="line"><span class="comment">.gold,498</span></span><br><span class="line"><span class="comment">.estate,198</span></span><br><span class="line"><span class="comment">.camera,278</span></span><br><span class="line"><span class="comment">.construction,198</span></span><br><span class="line"><span class="comment">.guru,278</span></span><br><span class="line"><span class="comment">.ventures,278</span></span><br><span class="line"><span class="comment">.equipment,168</span></span><br><span class="line"><span class="comment">.bid,6</span></span><br><span class="line"><span class="comment">.trade,7</span></span><br><span class="line"><span class="comment">.webcam,11</span></span><br><span class="line"><span class="comment">.cricket,11</span></span><br><span class="line"><span class="comment">.science,9</span></span><br><span class="line"><span class="comment">.review,11</span></span><br><span class="line"><span class="comment">.date,7</span></span><br><span class="line"><span class="comment">.faith,11</span></span><br><span class="line"><span class="comment">.accountant,11</span></span><br><span class="line"><span class="comment">.download,11</span></span><br><span class="line"><span class="comment">.loan,6</span></span><br><span class="line"><span class="comment">.racing,11</span></span><br><span class="line"><span class="comment">.win,6</span></span><br><span class="line"><span class="comment">.link,49</span></span><br><span class="line"><span class="comment">.click,38</span></span><br><span class="line"><span class="comment">.property,188</span></span><br><span class="line"><span class="comment">.help,26</span></span><br><span class="line"><span class="comment">.pics,118</span></span><br><span class="line"><span class="comment">.flowers,148</span></span><br><span class="line"><span class="comment">.sexy,129</span></span><br><span class="line"><span class="comment">.lol,18</span></span><br><span class="line"><span class="comment">.audio,79</span></span><br><span class="line"><span class="comment">.photo,159</span></span><br><span class="line"><span class="comment">.diet,128</span></span><br><span class="line"><span class="comment">.hosting,158</span></span><br><span class="line"><span class="comment">.gift,26</span></span><br><span class="line"><span class="comment">.cars,14</span></span><br><span class="line"><span class="comment">.party,7</span></span><br><span class="line"><span class="comment">.money,198</span></span><br><span class="line"><span class="comment">.online,16</span></span><br><span class="line"><span class="comment">.center,168</span></span><br><span class="line"><span class="comment">.expert,278</span></span><br><span class="line"><span class="comment">.solutions,168</span></span><br><span class="line"><span class="comment">.photography,168</span></span><br><span class="line"><span class="comment">.services,198</span></span><br><span class="line"><span class="comment">.support,168</span></span><br><span class="line"><span class="comment">.holiday,278</span></span><br><span class="line"><span class="comment">.watch,198</span></span><br><span class="line"><span class="comment">.cash,198</span></span><br><span class="line"><span class="comment">.chat,198</span></span><br><span class="line"><span class="comment">.school,198</span></span><br><span class="line"><span class="comment">.toys,278</span></span><br><span class="line"><span class="comment">.team,168</span></span><br><span class="line"><span class="comment">.cab,198</span></span><br><span class="line"><span class="comment">.cafe,198</span></span><br><span class="line"><span class="comment">.fish,198</span></span><br><span class="line"><span class="comment">.town,198</span></span><br><span class="line"><span class="comment">.style,198</span></span><br><span class="line"><span class="comment">.dog,278</span></span><br><span class="line"><span class="comment">.run,17</span></span><br><span class="line"><span class="comment">.pub,148</span></span><br><span class="line"><span class="comment">.live,58</span></span><br><span class="line"><span class="comment">.news,58</span></span><br><span class="line"><span class="comment">.video,58</span></span><br><span class="line"><span class="comment">.rip,88</span></span><br><span class="line"><span class="comment">.band,58</span></span><br><span class="line"><span class="comment">.engineer,158</span></span><br><span class="line"><span class="comment">.gives,158</span></span><br><span class="line"><span class="comment">.haus,158</span></span><br><span class="line"><span class="comment">.market,158</span></span><br><span class="line"><span class="comment">.software,158</span></span><br><span class="line"><span class="comment">.vet,158</span></span><br><span class="line"><span class="comment">.sale,58</span></span><br><span class="line"><span class="comment">.best,680</span></span><br><span class="line"><span class="comment">.ceo,680</span></span><br><span class="line"><span class="comment">.wtf,198</span></span><br><span class="line"><span class="comment">.fyi,99</span></span><br><span class="line"><span class="comment">.lawyer,198</span></span><br><span class="line"><span class="comment">.taipei,149</span></span><br><span class="line"><span class="comment">.cx,38</span></span><br><span class="line"><span class="comment">.rent,338</span></span><br><span class="line"><span class="comment">.men,7</span></span><br><span class="line"><span class="comment">.sex,580</span></span><br><span class="line"><span class="comment">.bar,468</span></span><br><span class="line"><span class="comment">.studio,108</span></span><br><span class="line"><span class="comment">.fans,478</span></span><br><span class="line"><span class="comment">.college,468</span></span><br><span class="line"><span class="comment">.auction,158</span></span><br><span class="line"><span class="comment">.black,258</span></span><br><span class="line"><span class="comment">.blue,98</span></span><br><span class="line"><span class="comment">.pink,98</span></span><br><span class="line"><span class="comment">.red,75</span></span><br><span class="line"><span class="comment">.kim,88</span></span><br><span class="line"><span class="comment">.cn.com,56</span></span><br><span class="line"><span class="comment">.com.tw,108</span></span><br><span class="line"><span class="comment">.gg,298</span></span><br><span class="line"><span class="comment">.car,15</span></span><br><span class="line"><span class="comment">.auto,15</span></span><br><span class="line"><span class="comment">.family,188</span></span><br><span class="line"><span class="comment">.feedback,268</span></span><br><span class="line"><span class="comment">.wine,368</span></span><br><span class="line"><span class="comment">.vin,299</span></span><br><span class="line"><span class="comment">.bet,999</span></span><br><span class="line"><span class="comment">.pet,128</span></span><br><span class="line"><span class="comment">.vc,48</span></span><br><span class="line"><span class="comment">.gs,28</span></span><br><span class="line"><span class="comment">.ee,128</span></span><br><span class="line"><span class="comment">.com.co,98</span></span><br><span class="line"><span class="comment">.fund,288</span></span><br><span class="line"><span class="comment">.business,168</span></span><br><span class="line"><span class="comment">.coffee,158</span></span><br><span class="line"><span class="comment">.credit,498</span></span><br><span class="line"><span class="comment">.network,168</span></span><br><span class="line"><span class="comment">.sc,688</span></span><br><span class="line"><span class="comment">.bz,198</span></span><br><span class="line"><span class="comment">.lc,138</span></span><br><span class="line"><span class="comment">.mom,188</span></span><br><span class="line"><span class="comment">.mba,158</span></span><br><span class="line"><span class="comment">.net.co,88</span></span><br><span class="line"><span class="comment">.game,2</span></span><br><span class="line"><span class="comment">.vip,29</span></span><br><span class="line"><span class="comment">.store,37</span></span><br><span class="line"><span class="comment">.xin,86</span></span><br><span class="line"><span class="comment">.ltd,98</span></span><br><span class="line"><span class="comment">.shop,168</span></span><br><span class="line"><span class="comment">.work,48</span></span><br><span class="line"><span class="comment">.fit,89</span></span><br><span class="line"><span class="comment">.yoga,89</span></span><br><span class="line"><span class="comment">.games,98</span></span><br><span class="line"><span class="comment">.com.hk,158</span></span><br><span class="line"><span class="comment">.clothing,158</span></span><br><span class="line"><span class="comment">.group,98</span></span><br><span class="line"><span class="comment">.com,69</span></span><br><span class="line"><span class="comment">.net,69</span></span><br><span class="line"><span class="comment">.中国,320</span></span><br><span class="line"><span class="comment">.cc,58</span></span><br><span class="line"><span class="comment">.tv,199</span></span><br><span class="line"><span class="comment">.biz,99</span></span><br><span class="line"><span class="comment">.cn,38</span></span><br><span class="line"><span class="comment">.tm,990</span></span><br><span class="line"><span class="comment">.公司,320</span></span><br><span class="line"><span class="comment">.网络,320</span></span><br><span class="line"><span class="comment">.商标,2</span></span><br><span class="line"><span class="comment">.世界,48</span></span><br><span class="line"><span class="comment">.广东,180</span></span><br><span class="line"><span class="comment">.佛山,180</span></span><br><span class="line"><span class="comment">.信息,69</span></span><br><span class="line"><span class="comment">.网店,1</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<p>筛选可备案后缀，并按价格由低到高排序：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">list.filter(<span class="function"><span class="params">x</span>=&gt;</span>ba.indexOf(x[<span class="number">0</span>])!==<span class="number">-1</span>).sort(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x[<span class="number">1</span>]-y[<span class="number">1</span>]);</span><br><span class="line"><span class="comment">// 打印结果</span></span><br><span class="line">list.filter(<span class="function"><span class="params">x</span>=&gt;</span>ba.indexOf(x[<span class="number">0</span>])!==<span class="number">-1</span>).sort(<span class="function">(<span class="params">x,y</span>)=&gt;</span>x[<span class="number">1</span>]-y[<span class="number">1</span>]).map(<span class="function"><span class="params">x</span>=&gt;</span><span class="string">`* <span class="subst">$&#123;x[<span class="number">0</span>]&#125;</span>,<span class="subst">$&#123;x[<span class="number">1</span>]&#125;</span>`</span>).join(<span class="string">'\n'</span>);</span><br></pre></td></tr></table></figure>
<p>全文完。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>domain</tag>
      </tags>
  </entry>
  <entry>
    <title>前端阅读体验优化-GitBook自动换肤</title>
    <url>/posts/2017/reading-ux-gitbook/</url>
    <content><![CDATA[<p>新键盘入手，<a href="https://s.click.taobao.com/DCiWICx" target="_blank" rel="noopener">HHKB Professional 2 Type-S</a></p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/21916492/0384a92c-d97c-11e6-8a0d-8b4cf6e1b96d.jpg" alt="hhkb"></p>
<p>通过侦听显示器亮度，或根据当地时间，实现自动换肤换色。<br><a id="more"></a></p>
<h2 id="DeviceLightEvent"><a href="#DeviceLightEvent" class="headerlink" title="DeviceLightEvent"></a>DeviceLightEvent</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'devicelight'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> lux = e.value;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span>(lux &lt; <span class="number">50</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'dim'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(lux &gt;= <span class="number">50</span> &amp;&amp; lux &lt;= <span class="number">1000</span>) &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'normal'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(lux &gt; <span class="number">1000</span>)  &#123;</span><br><span class="line">    <span class="built_in">document</span>.body.className = <span class="string">'bright'</span>;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="兼容性"><a href="#兼容性" class="headerlink" title="兼容性"></a>兼容性</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DeviceLightEvent" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/API/DeviceLightEvent</a></p>
<p>桌面：</p>
<ul>
<li>Firefox 22.0 (Gecko 22.0) (Mac OS X only)</li>
</ul>
<p>移动：</p>
<ul>
<li>Firefox 15.0 (Gecko 15.0)</li>
</ul>
<h2 id="CSS-Media-Query"><a href="#CSS-Media-Query" class="headerlink" title="CSS Media-Query"></a>CSS Media-Query</h2><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> dim) &#123;</span><br><span class="line">  <span class="comment">/* 暗光环境 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> normal) &#123;</span><br><span class="line">  <span class="comment">/* 正常光环境 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">light-level:</span> washed) &#123;</span><br><span class="line">  <span class="comment">/* 明亮环境 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="兼容性-1"><a href="#兼容性-1" class="headerlink" title="兼容性"></a>兼容性</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/light-level" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/@media/light-level</a></p>
<p>Working Draft，暂无支持</p>
<h2 id="根据时间"><a href="#根据时间" class="headerlink" title="根据时间"></a>根据时间</h2><p>示例：</p>
<p>暗光环境： [20,21,22,23,0,1,2,3,4,5]<br>正常环境： [6,7,8,17,18,19]<br>明亮环境： [9,10,11,12,13,14,15,16]</p>
<p>一般大概是这样，也可以根据地域和季节进行调整。</p>
<p>时间判断，加入class，GitBook插件源码： <a href="https://github.com/willin/gitbook-plugin-autotheme" target="_blank" rel="noopener">https://github.com/willin/gitbook-plugin-autotheme</a></p>
<p>查看演示： <a href="https://leader.js.cool/" target="_blank" rel="noopener">https://leader.js.cool/</a></p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>plugin</tag>
        <tag>js</tag>
        <tag>gitbook</tag>
        <tag>front-end</tag>
      </tags>
  </entry>
  <entry>
    <title>2017.02.22 团队·经济·团队经济</title>
    <url>/posts/2017/team-profit/</url>
    <content><![CDATA[<p>第一次听到 <strong><em>团队经济</em></strong> 这个词是在 LOL 中。</p>
<p>何谓 <strong><em>团队经济</em></strong> ？与个人经济类似，表示的是团队整体经济水平。</p>
<p>今天简单聊聊 <strong><em>团队</em></strong>、<strong><em>经济</em></strong>、<strong><em>团队经济</em></strong> 相关的话题。</p>
<h2 id="团队经济"><a href="#团队经济" class="headerlink" title="团队经济"></a>团队经济</h2><p>团队经济有多重要呢？</p>
<p>从游戏的角度来讲，毕竟 LOL 是团队竞技游戏，双拳难敌四手，一个再强，能发挥的作用是有限的。</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/23149354/559f26a6-f826-11e6-97b1-3bfd620bbc8a.jpg" alt="Image"></p>
<a id="more"></a>
<p>比如这样的，虽然是全场经济最好的（13k），但依然免不了失败的下场。只顾自己爽，还嫌队友坑。先富带后富的口号，大多数时候都会忘诸脑后。</p>
<p>就联系到工作上，我们所考虑的，大多是如何将个体的经济效益最大化。</p>
<p>我见识过很多画的大饼，却没有见过兑现的样子。有的时候画大饼是一件好事，领导愿意对你画大饼，是对你现有价值的认可，但却要推迟兑现而许下的承诺。但如果连大饼都不愿意画给你，那么，你就要衡量一下你在团队里是不是该有些提升了。</p>
<p>总是会听到谈创业精神、团队责任感之类的云云。事业心人人都有，但给不给你就两说。如果你的事业造福的是自己，那团队的事业只是你个人的事业；反之，那你的事业就是大家的事业。其实很多时候，我们每个人都只是在单干，团队对于我们的意义只是从别人的身上压榨剩余价值而提高自我的效益。这样会导致队友渣如狗，自身效益又得不到质的提升的恶性循环。</p>
<p>总结一点就是——平衡。团队利益不只是属于少部分人，而是应该雨露均沾（但并非大锅饭），这样每个人参与其中，才能有主人翁的意识。</p>
<h2 id="经济"><a href="#经济" class="headerlink" title="经济"></a>经济</h2><p>团队经济拆开，分别是团队和经济。先从经济说起，作为外行来看经济，我只关注两个点：市场和效益。有市场=可以做；有效益=可以扩大规模。</p>
<blockquote>
<p>效益=收入-成本。</p>
</blockquote>
<p>作为团队，将人员成本开销的缩减作为提高效益的手段是绝不可取的。因为收入恒定的情况下，通过压缩成本产生的效益是有限的，而且成本的缩减往往又会对收入的提高有着负面的反馈。</p>
<p>前面的观点可以察觉到，我的主张是适当提高人员成本的开销，那应该靠什么推动效益的扩大？答案当然是收入。</p>
<p>对外，可以锱铢必较，因为多赚1分钱都是为团队多创造1分的效益。而在团队内部，你每克扣的1分钱，都是在挥霍成员对于团队的信任和感情。又想马儿不吃草，又想马儿快快跑，这是不切实际的。善待团队，才能激发更大的创造力。</p>
<p>有激情，有动力，有创造力，还愁没有更大程度的效益么？</p>
<p>经济形势的预测和把控不是纸上谈兵，跃然纸上的往往只能停留在纸上。术业有专攻，做好自己的本分，一点点去撬动市场就行了。</p>
<h2 id="团队"><a href="#团队" class="headerlink" title="团队"></a>团队</h2><p>团队好不好，关键看领导。</p>
<p>我们都见过不少团队人员流动很大，员工很容易就能重新招一个替换掉，但是往往团队的瓶颈不在于下面做事的员工。对于一个团队最好的鸡汤，就是不灌鸡汤。空谈理想，不如踏实实干；空画大饼，不如全身心利他。</p>
<p>创新最重要的方面是人员的流动与人才的吸收。大多数团队在流动这方面都做的很好，根本不介意你走还是留，但是人才的吸收和挽留就没什么好举措了。认可团队成员价值，激发团队成员更大的价值，逐步形成良性的反馈、循环。不积跬步，无以至千里。</p>
<p>很多团队并不是不好，只是野心有余而诚意不足。</p>
]]></content>
      <categories>
        <category>CheriShe</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>thought</tag>
      </tags>
  </entry>
  <entry>
    <title>优雅地使用平板进行远程OS X编码开发</title>
    <url>/posts/2017/pad-remote-coding/</url>
    <content><![CDATA[<blockquote>
<p>没有OS X平板(iPad是ios系统)这个问题一直困扰着我.</p>
</blockquote>
<blockquote class="blockquote-center"><p>正所谓,工欲善其事必先利其器. </p>
</blockquote>
<h2 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h2><ul>
<li>一台平板(iPad/Surface或者其他)</li>
<li>一台苹果(Mac Mini/Macbook Pro或者其他)</li>
<li>一台路由器(需支持动态域名解析,如花生壳),后续我会完善动态域名解析功能</li>
</ul>
<a id="more"></a>
<h2 id="配置电源选项"><a href="#配置电源选项" class="headerlink" title="配置电源选项"></a>配置电源选项</h2><p><img src="https://user-images.githubusercontent.com/1890238/27117064-6ca0b32a-509a-11e7-98fb-db4fa50eeb04.png" alt="power"></p>
<p>根据上图开启 <code>唤醒</code>, 关闭 <code>睡眠</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pmset -a autopoweroff 0</span><br><span class="line">sudo pmset -a standby 0</span><br></pre></td></tr></table></figure>
<h2 id="配置路由器"><a href="#配置路由器" class="headerlink" title="配置路由器"></a>配置路由器</h2><h3 id="IP地址分配"><a href="#IP地址分配" class="headerlink" title="IP地址分配"></a>IP地址分配</h3><p>通过mac地址进行绑定,分配固定ip.</p>
<p>一般是在:</p>
<blockquote>
<p>路由设置 -&gt; 上网设置 -&gt; 静态IP</p>
</blockquote>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/26823551/99485ffa-4ae0-11e7-8212-e22896fd8adf.jpg" alt="ip"></p>
<h3 id="端口转发或DMZ"><a href="#端口转发或DMZ" class="headerlink" title="端口转发或DMZ"></a>端口转发或DMZ</h3><p>如果路由支持DMZ主机功能,则不需要进行端口转发.直接将本机设置DMZ主机即可.</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/26823706/2e63f1bc-4ae1-11e7-896e-df145d8b4400.jpg" alt="port-forward"></p>
<p>端口转发的话,设置 <code>1234</code> 端口(参考下文js代码).</p>
<h2 id="配置动态域名解析"><a href="#配置动态域名解析" class="headerlink" title="配置动态域名解析"></a>配置动态域名解析</h2><h3 id="方法1-路由器-花生壳"><a href="#方法1-路由器-花生壳" class="headerlink" title="方法1: 路由器+花生壳"></a>方法1: 路由器+花生壳</h3><p>注册花生壳域名</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/26823557/a37f3f5c-4ae0-11e7-8d53-14a591190348.png" alt="oray"></p>
<p>路由器配置花生壳</p>
<p>很简单,填入用户名密码和域名.</p>
<p>注意下面的两个时间我填的都是 10 分钟.</p>
<p><img src="https://cloud.githubusercontent.com/assets/1890238/26823629/de357cc4-4ae0-11e7-9e23-5652f2a6aa48.jpg" alt="router-oray"></p>
<h3 id="方法2-DNS定时轮询"><a href="#方法2-DNS定时轮询" class="headerlink" title="方法2: DNS定时轮询"></a>方法2: DNS定时轮询</h3><blockquote class="blockquote-center"><p>本章节待完善</p>
</blockquote>
<p>参考资料:</p>
<ul>
<li>DNSPod: <a href="https://github.com/willin/wqcloud" target="_blank" rel="noopener">https://github.com/willin/wqcloud</a></li>
</ul>
<h2 id="设置唤醒应用"><a href="#设置唤醒应用" class="headerlink" title="设置唤醒应用"></a>设置唤醒应用</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">a http = <span class="built_in">require</span>(<span class="string">'http'</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; execSync &#125; = <span class="built_in">require</span>(<span class="string">'child_process'</span>);</span><br><span class="line">http.createServer(<span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  res.writeHead(<span class="number">200</span>, &#123; <span class="string">'Content-type'</span>: <span class="string">'application/json'</span> &#125;);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    execSync(<span class="string">'caffeinate -u -t 1'</span>);</span><br><span class="line">    res.end(<span class="string">'&#123;status:1&#125;'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    res.end(<span class="string">'&#123;status:0&#125;'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;).listen(<span class="number">1234</span>);</span><br></pre></td></tr></table></figure>
<p>假如你的动态解析域名是 <code>willin.wang</code></p>
<p>如果电脑进入睡眠了,用手机访问下面的地址,即可进行唤醒.</p>
<figure class="highlight dts"><table><tr><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//willin.wang:1234/</span></span><br></pre></td></tr></table></figure>
<h2 id="祭出神器"><a href="#祭出神器" class="headerlink" title="祭出神器"></a>祭出神器</h2><p>TeamViewer, 配置无人值守和轻松访问.</p>
<p><img src="https://user-images.githubusercontent.com/1890238/27117314-adf4255e-509b-11e7-904b-b751ec392b32.png" alt="teamviewer"></p>
<p>享受吧.</p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>suggestion</tag>
        <tag>mac</tag>
        <tag>tech</tag>
      </tags>
  </entry>
  <entry>
    <title>Docsify画图建模Mermaid插件支持</title>
    <url>/posts/2017/docsify-mermaid-plugin/</url>
    <content><![CDATA[<p>先上图</p>
<p><img src="https://user-images.githubusercontent.com/1890238/27322559-3217d3b8-5564-11e7-8d27-2d6de348aa5f.png" alt="mermaid1"></p>
<a id="more"></a>
<h2 id="引入Mermaid"><a href="#引入Mermaid" class="headerlink" title="引入Mermaid"></a>引入Mermaid</h2><p>在 <code>head</code> 中加入css:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"//unpkg.com/mermaid/dist/mermaid.min.css"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>在 底部 引用js:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"//unpkg.com/mermaid/dist/mermaid.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="配置文件修改"><a href="#配置文件修改" class="headerlink" title="配置文件修改"></a>配置文件修改</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">window</span>.$docsify = &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">hook, vm</span>) </span>&#123;</span><br><span class="line">      hook.ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        mermaid.initialize(&#123;<span class="attr">startOnLoad</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      hook.doneEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        mermaid.init(<span class="literal">undefined</span>,<span class="string">'.mermaid'</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  markdown: &#123;</span><br><span class="line">    renderer: &#123;</span><br><span class="line">      code: <span class="function"><span class="keyword">function</span>(<span class="params">code, lang</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">        <span class="keyword">if</span>(code.match(<span class="regexp">/^sequenceDiagram/</span>) || code.match(<span class="regexp">/^graph/</span>) || code.match(<span class="regexp">/^gantt/</span>))&#123;</span><br><span class="line">          html = <span class="string">'&lt;div class="mermaid"&gt;'</span> + code + <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> hl = Prism.highlight(code, Prism.languages[lang] || Prism.languages.markup)</span><br><span class="line">        <span class="keyword">return</span> html + <span class="string">'&lt;pre v-pre data-lang="'</span> + lang + <span class="string">'"&gt;&lt;code class="lang-'</span> + lang + <span class="string">'"&gt;'</span> + hl + <span class="string">'&lt;/code&gt;&lt;/pre&gt;'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>解释一下,两个关键步骤:</p>
<h3 id="markdown代码解析器"><a href="#markdown代码解析器" class="headerlink" title="markdown代码解析器"></a>markdown代码解析器</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">markdown: &#123;</span><br><span class="line">  renderer: &#123;</span><br><span class="line">    code: <span class="function"><span class="keyword">function</span>(<span class="params">code, lang</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> html = <span class="string">''</span>;</span><br><span class="line">    <span class="comment">// 搜索 mermaid 代码</span></span><br><span class="line">    <span class="keyword">if</span>(code.match(<span class="regexp">/^sequenceDiagram/</span>) || code.match(<span class="regexp">/^graph/</span>) || code.match(<span class="regexp">/^gantt/</span>))&#123;</span><br><span class="line">      <span class="comment">// 生成一个 mermaid 图表的容器</span></span><br><span class="line">      html = <span class="string">'&lt;div class="mermaid"&gt;'</span> + code + <span class="string">'&lt;/div&gt;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 源码自带的 Prism 高亮插件</span></span><br><span class="line">    <span class="keyword">var</span> hl = Prism.highlight(code, Prism.languages[lang] || Prism.languages.markup)</span><br><span class="line">    <span class="comment">// 将图表的容器添加到代码之前</span></span><br><span class="line">    <span class="keyword">return</span> html + <span class="string">'&lt;pre v-pre data-lang="'</span> + lang + <span class="string">'"&gt;&lt;code class="lang-'</span> + lang + <span class="string">'"&gt;'</span> + hl + <span class="string">'&lt;/code&gt;&lt;/pre&gt;'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="自定义插件"><a href="#自定义插件" class="headerlink" title="自定义插件"></a>自定义插件</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">plugins: [</span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params">hook, vm</span>) </span>&#123;</span><br><span class="line">    hook.ready(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 类似 jQuery.ready 初始化 mermaid, 禁用自动渲染</span></span><br><span class="line">      mermaid.initialize(&#123;<span class="attr">startOnLoad</span>: <span class="literal">false</span>&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    hook.doneEach(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// 每个页面渲染完成后手动渲染 mermaid 图表</span></span><br><span class="line">      mermaid.init(<span class="literal">undefined</span>,<span class="string">'.mermaid'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>最后再补一张甘特图:</p>
<p><img src="https://user-images.githubusercontent.com/1890238/27322558-31c84fbe-5564-11e7-9949-851fddbafa33.png" alt="mermaid2"></p>
<p>Mermaid支持:</p>
<ul>
<li>流程图</li>
<li>序列图</li>
<li>甘特图</li>
</ul>
<p>而且语法结构非常简单,值得推荐.</p>
]]></content>
      <categories>
        <category>dev</category>
      </categories>
      <tags>
        <tag>plugin</tag>
        <tag>markdown</tag>
        <tag>docsify</tag>
      </tags>
  </entry>
  <entry>
    <title>iPad 开发/高效应用列表</title>
    <url>/posts/2017/ipad-apps/</url>
    <content><![CDATA[<p>原则：</p>
<blockquote>
<p>提高工作效率，拒绝时间浪费。</p>
</blockquote>
<p>所以该列表会随时更新，将一些不用的App删除，新增一些最近发现的有意思的App。</p>
<h2 id="开发工具-代码编辑器"><a href="#开发工具-代码编辑器" class="headerlink" title="开发工具/代码编辑器"></a>开发工具/代码编辑器</h2><ul>
<li>Prompt: 价格98元， 远程SSH连接</li>
<li><del>Termius: 免费， 远程SSH连接</del></li>
<li>Teamviewer: 个人免费， 远程桌面工具</li>
<li>GoCoEdit: 价格68元</li>
<li>Coda: 价格168元</li>
</ul>
<a id="more"></a>
<p>开发工具分别比较了：</p>
<ul>
<li>GoCoEdit： 唯一一款可以直接在 localhost（80端口） 进行预览的， 可以存 iCloud Drive</li>
<li>Coda： 本地+远程FTP/SSH，集成了终端，可以在 localhost:[站点端口] 预览</li>
<li><del>Buffer Editor</del>： 价格30元，可以支持 Git 项目 Clone 和 Push， 其他啥也干不了</li>
<li><del>Textastic</del>： 价格60元，和 <code>GoCoEdit</code> 差不多，但界面风格有点简陋</li>
</ul>
<p>总结下来虽然每个都号称支持 N 多种语言，但实际也就前端开发稍微省心点，因为有预览么。。。但不能用 Webpack 之类的打包工具也是不太方便真实项目开发的。 前端用来写一些小的 Demo 挺顺手。</p>
<p>最后保留了两个使用，如果 Coda 能支持 iCloud Drive存储，则更倾向 Coda，目前得用 GoCoEdit 与电脑进行同步。 接下来将用 iPad 写第一个项目——重构 willin.wang 网站， 然后是 js.cool 网站。</p>
<h2 id="数据库-缓存客户端"><a href="#数据库-缓存客户端" class="headerlink" title="数据库/缓存客户端"></a>数据库/缓存客户端</h2><ul>
<li>Navicat for MySQL: 价格较高，128元</li>
<li>RedisFly: 价格24元， 不支持SSH</li>
</ul>
<h2 id="效率工具"><a href="#效率工具" class="headerlink" title="效率工具"></a>效率工具</h2><ul>
<li>duet: 价格68元. 把 iPad 当做电脑屏幕</li>
<li>Workflow: 价格30元. 工作流</li>
<li>Notes Plus: 价格68元. 最好的笔记工具， 配合Apple Pencil钢笔手写效果完美</li>
<li><del>Things: 价格68元. GTD工具， 苹果三个平台都有（但都需要各自购买）</del></li>
<li>Mindjet Maps: 免费， 脑图工具</li>
</ul>
<h2 id="文档-阅读工具"><a href="#文档-阅读工具" class="headerlink" title="文档/阅读工具"></a>文档/阅读工具</h2><ul>
<li><a href="https://kapeli.com/dash_ios" target="_blank" rel="noopener">Dash</a>: 离线文档</li>
<li><del>MWeb: 价格60元(目前30)， Markdown编辑器， 可以与Mac OS(价格98元)下的进行同步</del></li>
<li><del>Reeder： 价格68元， 在Mac OS下用习惯了， 不错的 RSS 阅读工具</del></li>
<li>Inoreader： 免费</li>
<li>MarginNote Pro： 价格60元，可以直接做笔记的阅读软件，能够生成脑图，我用来看技术书籍，且可以与 Mac OS端（两个版本，分别68元和249元）同步</li>
<li>微信读书</li>
<li>多看阅读</li>
</ul>
<p>把 MWeb 给删去了， 虽然我现在也在用。 主要是没别的选择，而且这个东西 Bug 太多，实在对不起这个价格。现在普遍的一个现象就是 iOS 应用价格很高，但功能性太差。像这个软件几年下来最基本的 Bug 都没有改完，作者还固步自封，以为自己写了个宝，真是坑了个爹。话说最多也就三个月吧，一个人就能搞出这样一款软件，而且还能做得更好，有兴趣的小伙伴可以尝试一下。需要技术支持的可以联系我。</p>
<p>自从用了 FarBox，感觉春天又来了。 唯一的遗憾是没有 iOS 客户端，但比较好的是 Mac OS 客户端非常给力，而且有 WebEditor 稍作弥补。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>ipad</tag>
        <tag>app</tag>
      </tags>
  </entry>
  <entry>
    <title>创意分享：Redis 客户端</title>
    <url>/posts/2017/redis-app/</url>
    <content><![CDATA[<p>我在 iPad 上买过两个：</p>
<ul>
<li>Redis Touch（6元）</li>
<li>RedisFly （24元）</li>
</ul>
<p>但这两个都不支持 SSH 登录，让我很尴尬。</p>
<a id="more"></a>
<h2 id="第一步，分析：实现设想"><a href="#第一步，分析：实现设想" class="headerlink" title="第一步，分析：实现设想"></a>第一步，分析：实现设想</h2><p>没考虑原生方式，原因很简单，不会。</p>
<p>最初的设想是直接封装一个 Hybrid App，用 js 实现。 但搜索了一圈，好像没有什么方案可以直接在前端去连接 ssh 服务器的。</p>
<p>那么就需要服务器作为中转，将客户端的请求采用 ssh 连接进行透传，然后保持连接，并抛出 RESTful 或 Websocket 接口。</p>
<h2 id="第二步，应用架构"><a href="#第二步，应用架构" class="headerlink" title="第二步，应用架构"></a>第二步，应用架构</h2><p>最终用户使用的网络传输过程大概是这样子的：</p>
<p><img src="./_attachment/redis-app.svg" alt="redis-app.svg"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">客户端-&gt;应用服务器: 普通接口调用</span><br><span class="line">应用服务器-&gt;用户服务器: ssh 连接 redis</span><br><span class="line">Note right of 应用服务器: 抛出接口</span><br><span class="line">用户服务器--&gt;应用服务器: 返回结果</span><br><span class="line">应用服务器--&gt;客户端: 返回结果</span><br></pre></td></tr></table></figure>
<h2 id="第三步，筹备"><a href="#第三步，筹备" class="headerlink" title="第三步，筹备"></a>第三步，筹备</h2><p>TODO List：</p>
<ul>
<li style="list-style: none"><input type="checkbox"> 设计UI原型</li>
<li style="list-style: none"><input type="checkbox"> 服务器端 ssh 连接</li>
<li style="list-style: none"><input type="checkbox"> 服务器端接口设计</li>
<li style="list-style: none"><input type="checkbox"> 开发客户端上层应用</li>
<li style="list-style: none"><input type="checkbox"> 进行测试发布</li>
<li style="list-style: none"><input type="checkbox"> 服务器优化，以允许更高并发客户端连接</li>
</ul>
<hr>
<p>参考资料：</p>
<ul>
<li>Medis （Electron 封装的 OS X 客户端）： <a href="https://github.com/luin/medis" target="_blank" rel="noopener">https://github.com/luin/medis</a></li>
<li>Node.js 实现原理： <a href="https://stackoverflow.com/questions/38689707/connecting-to-remote-ssh-server-via-node-js-html5-console" target="_blank" rel="noopener">https://stackoverflow.com/questions/38689707/connecting-to-remote-ssh-server-via-node-js-html5-console</a></li>
</ul>
<p>P.S.</p>
<p>由于工作的原因，我个人可能并没有太多的精力去参与所有【创意 iDeas】分类下的项目。如果你对这个项目有兴趣，可以微博或Github上与我联系，或者直接略过我自行去完成该APP的开发。</p>
]]></content>
      <categories>
        <category>idea</category>
      </categories>
      <tags>
        <tag>app</tag>
      </tags>
  </entry>
  <entry>
    <title>创意分享：Github/Coding 聚合客户端</title>
    <url>/posts/2017/github-coding-app/</url>
    <content><![CDATA[<h2 id="为什么需要一个聚合的客户端"><a href="#为什么需要一个聚合的客户端" class="headerlink" title="为什么需要一个聚合的客户端"></a>为什么需要一个聚合的客户端</h2><p>举个栗子，之前微博类产品风靡的时候，有很多类似的产品，如：腾讯微博、新浪微博、饭否、Twitter……那么，就可能会发生这样的一个现象，手机上装了一大堆类似的APP，然后用个文件夹放到一起。</p>
<p>实际上大多数也确实这么做了。切换不同的APP，去刷内容不同但本质相近的微博消息。</p>
<p>同样，目前我在我的手机上各自装了 Coding.net 和 GitHub（GitPoint）客户端。</p>
<p>而最近，我在入手iPad Pro之后，发现 Cdoing 并没有对应的 iPad 客户端，从而萌生了这样的一个点子。</p>
<a id="more"></a>
<h2 id="第一步，分析"><a href="#第一步，分析" class="headerlink" title="第一步，分析"></a>第一步，分析</h2><p>从技术实现的角度来讲，并不复杂。</p>
<p>因为它们都是代码管理平台，功能相近，有着许多共同之处，随便列举一些：</p>
<ul>
<li>都是通过 OAuth 进行鉴权</li>
<li>大多数都功能重叠，如：用户，项目，组织（团队），关注，ISSUE……</li>
</ul>
<h2 id="第二步，设计接口逻辑架构"><a href="#第二步，设计接口逻辑架构" class="headerlink" title="第二步，设计接口逻辑架构"></a>第二步，设计接口逻辑架构</h2><p><img src="./_attachment/api.svg" alt="api.svg"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">graph TD</span><br><span class="line">APP[应用层]--&gt;INTERFACE(封装统一接口)</span><br><span class="line">INTERFACE--&gt;|抛出参数一致|CODING[封装Coding API]</span><br><span class="line">INTERFACE--&gt;|抛出参数一致|GITHUB[封装Github API]</span><br></pre></td></tr></table></figure>
<h3 id="以-Star-一个项目为例"><a href="#以-Star-一个项目为例" class="headerlink" title="以 Star 一个项目为例"></a>以 Star 一个项目为例</h3><p>根据操作的类型进行判断，接口参数里带入类型即可。<br><img src="./_attachment/star-project.svg" alt="star-project.svg"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Action-&gt;Interface: 关注github\nwillin/leader.js.cool</span><br><span class="line">Interface-&gt;Github: 调用关注</span><br><span class="line">Note right of Github: 抛出接口一致</span><br><span class="line">Interface--&gt;Action: 返回结果</span><br><span class="line"></span><br><span class="line">Action-&gt;Interface: 关注coding\nwillin/leader.js.cool</span><br><span class="line">Interface-&gt;Coding: 调用关注</span><br><span class="line">Interface--&gt;Action: 返回结果</span><br></pre></td></tr></table></figure>
<h3 id="第三步，筹备"><a href="#第三步，筹备" class="headerlink" title="第三步，筹备"></a>第三步，筹备</h3><p>TODO List：</p>
<ul>
<li style="list-style: none"><input type="checkbox"> 整理完整的功能清单（包括相同功能和两个平台差异性功能）</li>
<li style="list-style: none"><input type="checkbox"> 设计UI原型（两者的客户端可以选择一个作为主体风格，或者重新设计）</li>
<li style="list-style: none"><input type="checkbox"> 封装底层接口</li>
<li style="list-style: none"><input type="checkbox"> 开发上层应用</li>
<li style="list-style: none"><input type="checkbox"> 进行测试发布</li>
</ul>
<hr>
<p>P.S.</p>
<p>由于工作的原因，我个人可能并没有太多的精力去参与所有【创意 iDeas】分类下的项目。如果你对这个项目有兴趣，可以微博或Github上与我联系，或者直接略过我自行去完成该APP的开发。</p>
]]></content>
      <categories>
        <category>idea</category>
      </categories>
      <tags>
        <tag>app</tag>
      </tags>
  </entry>
  <entry>
    <title>VSCode配置Webpack路径提示及智能跳转</title>
    <url>/posts/2017/vs-code-webpack-intelligence/</url>
    <content><![CDATA[<h2 id="Webpack-配置"><a href="#Webpack-配置" class="headerlink" title="Webpack 配置"></a>Webpack 配置</h2><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">resolve: &#123;</span><br><span class="line">    modules: [</span><br><span class="line">      <span class="string">'node_modules'</span>,</span><br><span class="line">      path.resolve(__dirname, <span class="string">'../src'</span>)</span><br><span class="line">    ],</span><br><span class="line">    extensions: [<span class="string">'.js'</span>, <span class="string">'.vue'</span>, <span class="string">'.json'</span>, <span class="string">'.css'</span>],</span><br><span class="line">    alias: &#123;</span><br><span class="line">      vue$: <span class="string">'vue/dist/vue.esm.js'</span>,</span><br><span class="line">      public: path.resolve(__dirname, <span class="string">'../public'</span>),</span><br><span class="line">      component: path.resolve(__dirname, <span class="string">'../src/component'</span>),</span><br><span class="line">      config: path.resolve(__dirname, <span class="string">'../src/config'</span>),</span><br><span class="line">      lib: path.resolve(__dirname, <span class="string">'../src/lib'</span>),</span><br><span class="line">      i18n: path.resolve(__dirname, <span class="string">'../src/i18n'</span>),</span><br><span class="line">      store: path.resolve(__dirname, <span class="string">'../src/store'</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h3 id="Eslint-选配"><a href="#Eslint-选配" class="headerlink" title="Eslint 选配"></a>Eslint 选配</h3><p>需要安装插件 <code>eslint-import-resolver-webpack</code>。进行配置：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">settings:</span></span><br><span class="line">  <span class="attr">import/resolver:</span></span><br><span class="line">    <span class="attr">webpack:</span></span><br><span class="line">      <span class="attr">config:</span> <span class="string">'build/webpack.config.js'</span></span><br></pre></td></tr></table></figure>
<h2 id="智能路径提示"><a href="#智能路径提示" class="headerlink" title="智能路径提示"></a>智能路径提示</h2><p>需要安装插件<code>Path Intellisense</code>，并且进行配置（项目或者全局的<code>settings.json</code>）：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">"path-intellisense.mappings"</span>: &#123;</span><br><span class="line">    <span class="string">"config"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/config"</span>,</span><br><span class="line">    <span class="string">"lib"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/lib"</span>,</span><br><span class="line">    <span class="string">"store"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/store"</span>,</span><br><span class="line">    <span class="string">"i18n"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/i18n"</span>,</span><br><span class="line">    <span class="string">"component"</span>: <span class="string">"$&#123;workspaceRoot&#125;/src/component"</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://i.giphy.com/iaHeUiDeTUZuo.gif" alt="智能提示"></p>
<h2 id="代码智能跳转"><a href="#代码智能跳转" class="headerlink" title="代码智能跳转"></a>代码智能跳转</h2><p>项目根目录创建 <code>jsonfig.json</code>：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">"include"</span>: [</span><br><span class="line">    <span class="string">"./src/**/*"</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="string">"baseUrl"</span>: <span class="string">"."</span>,</span><br><span class="line">    <span class="string">"paths"</span>: &#123;</span><br><span class="line">        <span class="string">"component/*"</span>: [<span class="string">"src/component/*"</span>],</span><br><span class="line">        <span class="string">"config/*"</span>: [<span class="string">"src/config/*"</span>],</span><br><span class="line">        <span class="string">"lib/*"</span>: [<span class="string">"src/lib/*"</span>],</span><br><span class="line">        <span class="string">"i18n/*"</span>: [<span class="string">"src/i18n/*"</span>],</span><br><span class="line">        <span class="string">"store/*"</span>: [<span class="string">"src/store/*"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>￼</p>
<p>按住 <code>⌘command</code>就可以跳转到对应代码了。</p>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>suggestion</tag>
        <tag>front-end</tag>
      </tags>
  </entry>
  <entry>
    <title>愉快地使用 ElementoryOS 5 玩耍</title>
    <url>/posts/2018/elementoryos/</url>
    <content><![CDATA[<h2 id="双系统的安装"><a href="#双系统的安装" class="headerlink" title="双系统的安装"></a>双系统的安装</h2><p>首先，由于 Windows 10 安装分区的时候，占用了3个主分区（MBR、Recovery和系统），所以不能使用 Legacy + MBR 的方式进行引导，因为 MBR 只能有 4 个主分区。</p>
<p>那么，就需要将磁盘改为 GPT。然后通过 UEFI 进行引导。但试了很多种方法，无法做出 UEFI 引导的 Windows 10 安装U盘（因为有一个 4.1GB的 install.wim 文件，无法使用 FAT32 格式，而我测试用的 DELL 台式机不支持 NTFS 格式的 UEFI引导），所以制作一个 “微PE” 的 U盘进行安装。</p>
<a id="more"></a>
<p>注意： 市面上的这种 PE 工具，内置了 N 多垃圾软件，安装完系统后自动安装。</p>
<p>BIOS 设置：</p>
<ul>
<li>关闭 Secure Boot</li>
<li>关闭 Legacy 引导，使用 UEFI 引导</li>
</ul>
<p>安装过程不再赘述，比较简单。</p>
<h2 id="Elementory"><a href="#Elementory" class="headerlink" title="Elementory"></a>Elementory</h2><p>安装的版本为 Juno 5（Beta），基于Ubuntu 18.04。</p>
<h3 id="缺陷"><a href="#缺陷" class="headerlink" title="缺陷"></a>缺陷</h3><p>先说一些我发现的问题：</p>
<h4 id="1-多屏兼容性"><a href="#1-多屏兼容性" class="headerlink" title="1.多屏兼容性"></a>1.多屏兼容性</h4><p>我用了两块屏幕，一块28寸飞利浦4k屏（设置为默认屏幕），一块Dell 24英寸（旋转90°用于竖屏看代码）。但开机的时候始终以Dell的屏幕作为主屏（可能因为它的分辨率低？），且登录框无法自动或通过键盘获得焦点，所以我只能以自动登录来避免这个问题。</p>
<h4 id="2-蓝牙兼容性"><a href="#2-蓝牙兼容性" class="headerlink" title="2. 蓝牙兼容性"></a>2. 蓝牙兼容性</h4><p>我一开始打算使用 罗技M558 鼠标的，但是每次重启无法自动连接，手动连接也有异常，每次都得重新配对。 后来换成了 罗技 Master 2s，但由于没有 Linux 驱动，所以比较难用。</p>
<h4 id="3-没有-ALT-键"><a href="#3-没有-ALT-键" class="headerlink" title="3. 没有 ALT 键"></a>3. 没有 ALT 键</h4><p>不确定是不是键盘的问题（HHKB Pro2 Type-S），ALT键位的实际作用有点类似 OS X系统下的 command （⌘）键。</p>
<h4 id="4-状态栏图标"><a href="#4-状态栏图标" class="headerlink" title="4. 状态栏图标"></a>4. 状态栏图标</h4><p>似乎是篡改过的，安装的软件都没有图标，比如 SS、输入法等，不太方便。而且状态栏的时间显示格式无法修改，显示为 <code>一，9月24 12:32</code> 这种格式。左上角始终为全局应用程序，不会变为当前应用的菜单。</p>
<h3 id="软件推荐"><a href="#软件推荐" class="headerlink" title="软件推荐"></a>软件推荐</h3><ul>
<li>钉钉： <a href="https://github.com/nashaofu/dingtalk" target="_blank" rel="noopener">https://github.com/nashaofu/dingtalk</a> </li>
<li><p>微信： <a href="https://github.com/geeeeeeeeek/electronic-wechat" target="_blank" rel="noopener">https://github.com/geeeeeeeeek/electronic-wechat</a></p>
</li>
<li><p>Konsole： 替代原生 Terminal</p>
</li>
<li>Typora： 文本编辑</li>
<li><del>Conky</del>： 系统监控，不兼容</li>
</ul>
<h3 id="问题：没有-Release-文件"><a href="#问题：没有-Release-文件" class="headerlink" title="问题：没有 Release 文件"></a>问题：没有 Release 文件</h3><figure class="highlight groovy"><table><tr><td class="code"><pre><span class="line">  <span class="number">404</span>  Not Found [<span class="string">IP:</span> xxxxx]</span><br><span class="line">正在读取软件包列表... 完成</span><br><span class="line"><span class="string">E:</span> 仓库 “xxxxxxxxx bionic Release” 没有 Release 文件。</span><br><span class="line"><span class="string">N:</span> 无法安全地用该源进行更新，所以默认禁用该源。</span><br><span class="line"><span class="string">N:</span> 参见 apt-secure(<span class="number">8</span>) 手册以了解仓库创建和用户配置方面的细节。</span><br></pre></td></tr></table></figure>
<p>解决方案：</p>
<p>打开 <code>/etc/apt/sources.list.d/</code> 下对应的源配置。 将 <code>bionic</code> 改成该源有支持的。</p>
<p>对应版本：</p>
<ul>
<li>18.04：<code>bionic</code></li>
<li>17.10：<code>artful</code></li>
<li>16.04：<code>xenial</code></li>
<li>14.04：<code>trusty</code></li>
</ul>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>unix</tag>
      </tags>
  </entry>
  <entry>
    <title>剩暖渣、初瘦——三十一周岁再话</title>
    <url>/posts/2020/31st-birth/</url>
    <content><![CDATA[<p>王初瘦今年<strong>三十一</strong>了。</p>
<p>岁月像一把杀猪刀，初瘦快要破碎他再瘦的梦。初瘦总会自嘲说，心宽体胖。可是只有傻子才看不出来吧，他那些沉稳，是被现实磨平的棱角。</p>
<p>虽然我也很了解初瘦，但还是很难去形容他究竟是一个怎样的人，最后总结出来三个字——<strong>剩</strong>、<strong>暖</strong>、<strong>渣</strong>。</p>
<a id="more"></a>
<h2 id="剩"><a href="#剩" class="headerlink" title="剩"></a>剩</h2><!-- 孙大剩 -->
<p>三十有一，孤苦无依。没错，我应该尊称初瘦为大龄剩男了。</p>
<blockquote>
<p>等公交的人，等的是去往正确目的地的那辆车，哪怕晚点了，也要等。而不是在某个时间点，看哪辆进站，就上哪辆车。</p>
</blockquote>
<p>或许吧，这可以成为他狡辩的借口。可正常而言，到这个岁数他还没有结婚，我觉得他多多少少还是……很有问题的。书没读好，钱没挣到，没让父母过得好，喜欢的人也没留住，就连深夜安慰自己都不会。</p>
<p>他对我说过好多次——“这人生呐，有点大风大浪不算什么，哪能没点坎坷呢，如果什么事情都一帆风顺的，那这样的生活，应该也挺没劲的吧。”</p>
<p>有了房子不一定就有家，该剩下还是剩下。用两手抠都快数不过来初瘦有过几段感情经历了，如果他还是个精神小伙儿，或许勉强还可以在狐朋狗友面前炫耀一番，但都一三十多岁的老大叔了，只能把失败一词套在他身上了。像初瘦他这个年纪的朋友，大多孩子都会打酱油了。面对周围诸多「人生赢家」，没有成家已经很失败了。立业成家，成家立业。这孑然一身倒也不算什么，相较于<strong>一事无成</strong>、<strong>一无所有</strong>，他反反复复在低谷中挣扎着。</p>
<blockquote>
<p>越聪明就越悲伤，悲伤随着聪明而增长。——《安德烈·卢布廖夫》</p>
</blockquote>
<p>剩下来的原因，以及他一事无成的原因，我无从得知。我知道的一点，就是并不是他不努力。相反的，他已经比很多人更努力了。他告诉过我，苦难并不会让人成功，人应该吃奋斗的苦，而不是生活的苦。</p>
<p>emmmm，但是生活喂来给他，不吃也得吃啊。房贷、车贷、工作，不给他喘息的余地。祝愿他早一点摆脱这样的窘境吧。</p>
<h2 id="暖"><a href="#暖" class="headerlink" title="暖"></a>暖</h2><!-- 像我这样的人 -->
<p>初瘦他吖，曾经也是个看见姑娘都会脸红，到后来却能随口开车的人。没毕业那会儿，像他这样庸俗的人，从不喜欢装深沉，直来直往，不拘小节。慢慢地，话少了，沉稳了，细致了。</p>
<p>年轻的时候，他确实脾气臭，不细致，不会体谅人，还没有耐心。经历过失去，才更懂得珍惜。没有经历过撕心裂肺的伤痛，应该就不会知道要收起锋利的羽翼，温柔善待；没有过义无反顾奋不顾身的尝试，应该就不会知道细节对成败的决定性因素，细致耐心。<strong>没有人天生温柔</strong>，也许失去和错过，成就了成长。</p>
<p>他属于乐观的人，同时也是个很没有安全感的人，一个矛盾的综合体。或许只是死要面子活受罪，他总是想把最好的一面示人，哪怕是亲近的人。不想被怜悯，无论多苦，能自己扛住的，就自己默默承受。像蜡烛，炙热，奋不顾身。</p>
<blockquote>
<p>所谓，一见钟情只不过是见色起意，所谓日久生情不过是权衡利弊。</p>
</blockquote>
<p>难怪初瘦这人，仅第一印象就足以沉沦，付出而不计得失。听初瘦自己说，他泪点很低，虽然很少有人见到。他的原话形容自己“常在别人的故事里，流着自己的眼泪。”他向来很认真，所以我也就没有问过他，认真会不会也输得很惨。</p>
<p>也还有人说初瘦冷漠无情，其实我能理解，毕竟不是中央空调，他也没啥必要对谁都发光发热。我也不大明白，像他这样莫名其妙的人，会不会有人心疼？</p>
<h2 id="渣"><a href="#渣" class="headerlink" title="渣"></a>渣</h2><!-- 浪子回头 -->
<p>上学的那会儿，初瘦坚持会写写文字。他总是说自己是个没有秘密的人，心里藏不住事情，也不愿意两面三刀。很多琐碎的情绪都能从他的文字中觉察，喜怒哀乐也全部挂在脸上。</p>
<p>不忘初心，方得始终；初心易得，始终难守。我也不记得从什么开始，也许是一瞬间，也或许是潜移默化中，他<strong>偏离</strong>了原有的人设。如那些放荡不羁的人儿，都和这世界潦草地和解了。这应该并不算多渣，只不过向现实低了头，很多时候<strong>言不由衷</strong>，<strong>身不由己</strong>。</p>
<blockquote>
<p>都说双子最多情，但不限于初瘦一个人吧，渣男都一个样，恨不得见一个爱一个。</p>
<p>又有说双子看似多情，其实是最薄情的。</p>
</blockquote>
<p>表面上初瘦是个没心没肺的渣男，轻描淡写地跟我提过被辜负的往事，也闭口不谈辜负过的罪孽。我的感觉应该是他罪孽深重，活该单身吧。反正他从来不肯面对现实，承认自己很渣就是了。他苦笑着跟我说——“情非得已。”</p>
<hr>
<p>过几天就是他的生日了，我问他，对现状有什么看法。他回了这么几个字：“<strong>认输，但不服输。</strong>”</p>
<p>呵呵，奔四的老年人。</p>
<p>逃避不一定躲得过，面对不一定最难过。不求做伟大的人，却要做大写的人，这就是他，他是王初瘦。</p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>love</tag>
        <tag>life</tag>
        <tag>career</tag>
        <tag>birth</tag>
      </tags>
  </entry>
  <entry>
    <title>愉快地使用 Manjaro 21 玩耍</title>
    <url>/posts/2021/manjaro/</url>
    <content><![CDATA[<p>使用的版本为 KDE Plasma 桌面版本。</p>
<h1 id="配置国内镜像源"><a href="#配置国内镜像源" class="headerlink" title="配置国内镜像源"></a>配置国内镜像源</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman-mirrors -i -c China -m rank</span><br></pre></td></tr></table></figure>
<p>通过手动的方式配置 ArchLinux 源：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Sy vim</span><br><span class="line">sudo vim /etc/pacman.conf</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>在底部插入：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Never</span><br><span class="line">Server = https://mirrors.ustc.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br><span class="line"><span class="comment">#这里是中科大，清华源为： Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch</span></span><br></pre></td></tr></table></figure>
<p>保存后执行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Syy</span><br><span class="line">sudo pacman -Sy archlinuxcn-keyring</span><br><span class="line">sudo pacman -Syyu</span><br></pre></td></tr></table></figure>
<h1 id="搜狗输入法安装"><a href="#搜狗输入法安装" class="headerlink" title="搜狗输入法安装"></a>搜狗输入法安装</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Sy fcitx-im fcitx-configtool yay base-devel</span><br><span class="line">yay --aururl <span class="string">"https://aur.tuna.tsinghua.edu.cn"</span> --save</span><br><span class="line">yay -S fcitx-sogoupinyin</span><br></pre></td></tr></table></figure>
<p>新增一个配置文件 <code>~/.pam_environment</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GTK_IM_MODULE=fcitx</span><br><span class="line">QT_IM_MODULE=fcitx</span><br><span class="line">XMODIFIERS=@im=fcitx</span><br></pre></td></tr></table></figure>
<p>注销，重新登录即可。</p>
<h1 id="安装-OhMyZsh"><a href="#安装-OhMyZsh" class="headerlink" title="安装 OhMyZsh"></a>安装 OhMyZsh</h1><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Sy zsh</span><br><span class="line">yay -S autojump</span><br></pre></td></tr></table></figure>
<p>由于未翻墙访问 raw.githubcontent.com 会有一些问题。</p>
<p>手动下载： <a href="https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh" target="_blank" rel="noopener">https://github.com/ohmyzsh/ohmyzsh/blob/master/tools/install.sh</a></p>
<p>然后执行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">chmod +x install.sh</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure>
<p>默认 zsh 需要注销或重启生效。</p>
<p>推荐主题：<code>powerlevel10k</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S nerd-fonts-complete</span><br><span class="line">git <span class="built_in">clone</span> --depth=1 https://github.com/romkatv/powerlevel10k.git <span class="variable">$&#123;ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom&#125;</span>/themes/powerlevel10k</span><br></pre></td></tr></table></figure>
<p>修改 <code>.zshrc</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ZSH_THEME=<span class="string">"powerlevel10k/powerlevel10k"</span></span><br></pre></td></tr></table></figure>
<h2 id="插件推荐"><a href="#插件推荐" class="headerlink" title="插件推荐"></a>插件推荐</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git://github.com/zsh-users/zsh-autosuggestions <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-autosuggestions</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"source <span class="variable">$ZSH_CUSTOM</span>/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh"</span> &gt;&gt; <span class="variable">$&#123;ZDOTDIR:-$HOME&#125;</span>/.zshrc</span><br></pre></td></tr></table></figure>
<p>依然修改.zshrc：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 搜索并添加</span></span><br><span class="line"><span class="attr">plugins</span>=(zsh-autosuggestions autojump git)</span><br></pre></td></tr></table></figure>
<p>Colorls 插件：</p>
<p>文档参考： <a href="https://github.com/athityakumar/colorls" target="_blank" rel="noopener">https://github.com/athityakumar/colorls</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -S ruby</span><br><span class="line">gem install colorls</span><br></pre></td></tr></table></figure>
<p>依然修改配置.zshrc：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#底部添加，记得修改对应的 PATH 路径</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/home/willin/.<span class="built_in">local</span>/share/gem/ruby/3.0.0/bin</span><br><span class="line"><span class="built_in">alias</span> vi=<span class="string">"vim"</span></span><br><span class="line"><span class="built_in">alias</span> ls=<span class="string">"colorls"</span></span><br><span class="line"><span class="built_in">alias</span> ll=<span class="string">"colorls -l"</span></span><br><span class="line"><span class="built_in">alias</span> la=<span class="string">"colorls -a"</span></span><br><span class="line"><span class="built_in">alias</span> lg=<span class="string">"colorls --gs -at"</span></span><br></pre></td></tr></table></figure>
<h1 id="机场"><a href="#机场" class="headerlink" title="机场"></a>机场</h1><p>我使用的是 <a href="https://dler.best/auth/register?affid=57599" target="_blank" rel="noopener">DlerCloud</a>。</p>
<p>安装 ShellClash： <a href="https://github.com/juewuy/ShellClash/blob/master/README_CN.md" target="_blank" rel="noopener">https://github.com/juewuy/ShellClash/blob/master/README_CN.md</a></p>
<p>参考博客文章，用 root 用户进行全局安装。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sysctl -w net.ipv4.ip_forward=1</span><br><span class="line">vim /etc/sysctl.conf</span><br><span class="line"><span class="comment"># 加入 net.ipv4.ip_forward=1</span></span><br><span class="line">sysctl -p /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
<h1 id="常用软件安装"><a href="#常用软件安装" class="headerlink" title="常用软件安装"></a>常用软件安装</h1><p>一个字，爽。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">yay -S visual-studio-code-bin</span><br><span class="line">yay -S typora</span><br><span class="line">yay -S google-chrome</span><br><span class="line">yay -S com.dingtalk.deepin</span><br><span class="line">yay -S keybase-bin</span><br><span class="line">yay -S mongodb-compass</span><br><span class="line">yay -S redis-desktop-manager</span><br></pre></td></tr></table></figure>
<h1 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h1><h2 id="终端字体过宽"><a href="#终端字体过宽" class="headerlink" title="终端字体过宽"></a>终端字体过宽</h2><p>KDE 版本中不存在该问题，可跳过。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo pacman -Sy wqy-bitmapfont wqy-zenhei</span><br></pre></td></tr></table></figure>
<h2 id="修改Home下的目录为英文"><a href="#修改Home下的目录为英文" class="headerlink" title="修改Home下的目录为英文"></a>修改Home下的目录为英文</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.config/user-dirs.dirs</span><br></pre></td></tr></table></figure>
<p>修改：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">XDG_DESKTOP_DIR=<span class="string">"<span class="variable">$HOME</span>/Desktop"</span></span><br><span class="line">XDG_DOWNLOAD_DIR=<span class="string">"<span class="variable">$HOME</span>/Download"</span></span><br><span class="line">XDG_TEMPLATES_DIR=<span class="string">"<span class="variable">$HOME</span>/Templates"</span></span><br><span class="line">XDG_PUBLICSHARE_DIR=<span class="string">"<span class="variable">$HOME</span>/Public"</span></span><br><span class="line">XDG_DOCUMENTS_DIR=<span class="string">"<span class="variable">$HOME</span>/Documents"</span></span><br><span class="line">XDG_MUSIC_DIR=<span class="string">"<span class="variable">$HOME</span>/Music"</span></span><br><span class="line">XDG_PICTURES_DIR=<span class="string">"<span class="variable">$HOME</span>/Pictures"</span></span><br><span class="line">XDG_VIDEOS_DIR=<span class="string">"<span class="variable">$HOME</span>/Videos"</span></span><br></pre></td></tr></table></figure>
<p>然后运行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mv 公共 Public</span><br><span class="line">mv 模板 Templates</span><br><span class="line">mv 视频 Videos</span><br><span class="line">mv 图片 Pictures</span><br><span class="line">mv 文档 Documents</span><br><span class="line">mv 下载 Download</span><br><span class="line">mv 音乐 Music</span><br><span class="line">mv 桌面 Desktop</span><br></pre></td></tr></table></figure>
<p>注销或重启生效。</p>
<h2 id="Docker-需要-sudo-才能执行"><a href="#Docker-需要-sudo-才能执行" class="headerlink" title="Docker 需要 sudo 才能执行"></a>Docker 需要 sudo 才能执行</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Pacman 安装 Docker</span></span><br><span class="line">sudo pacman -S docker</span><br><span class="line"><span class="comment"># 启动docker服务</span></span><br><span class="line">sudo systemctl start docker</span><br><span class="line"><span class="comment"># 查看docker服务的状态</span></span><br><span class="line">sudo systemctl status docker</span><br><span class="line"><span class="comment"># 设置docker开机启动服务</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> docker</span><br></pre></td></tr></table></figure>
<h3 id="设置当前用户权限"><a href="#设置当前用户权限" class="headerlink" title="设置当前用户权限"></a>设置当前用户权限</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 如果还没有 docker group 就添加一个</span></span><br><span class="line">sudo groupadd docker</span><br><span class="line"><span class="comment"># 将自己的登录名($&#123;USER&#125; )加入该 group 内。然后退出并重新登录就生效啦</span></span><br><span class="line">sudo gpasswd -a <span class="variable">$&#123;USER&#125;</span> docker</span><br><span class="line"><span class="comment"># 重启 docker 服务</span></span><br><span class="line">sudo systemctl restart docker</span><br><span class="line"><span class="comment"># 切换当前会话到新 group 或者重启 X 会话</span></span><br><span class="line"><span class="comment"># 注意，这一步是必须的，否则因为 groups 命令获取到的是缓存的组信息，刚添加的组信息未能生效，所以 docker images 执行时同样有错。</span></span><br><span class="line">newgrp - docker</span><br></pre></td></tr></table></figure>
<p>Manjaro 很多时候涉及到权限的设置，都需要注销或者重启后才能生效。。</p>
<h3 id="设置镜像源"><a href="#设置镜像源" class="headerlink" title="设置镜像源"></a>设置镜像源</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></table></figure>
<p>插入镜像源：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"registry-mirrors"</span>: [<span class="string">"https://docker.mirrors.ustc.edu.cn"</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然后重启 Docker 服务。</p>
<h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><h2 id="组合键设置-xkbmap"><a href="#组合键设置-xkbmap" class="headerlink" title="组合键设置 xkbmap"></a>组合键设置 xkbmap</h2><p>sudo 修改： <code>/usr/share/X11/xkb/symbols/pc</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">default partial alphanumeric_keys modifier_keys</span><br><span class="line">xkb_symbols <span class="string">"pc105"</span> &#123;</span><br><span class="line">    // 加入这行， 表示将 CapsLock 改为 Ctrl + Shift 组合键</span><br><span class="line">    key &lt;CAPS&gt; &#123; [ SetMods(modifiers=Shift+Control)  ] &#125;;</span><br></pre></td></tr></table></figure>
<p>然后执行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">setxkbmap</span><br></pre></td></tr></table></figure>
<h2 id="按键替换设置-xmodmap"><a href="#按键替换设置-xmodmap" class="headerlink" title="按键替换设置 xmodmap"></a>按键替换设置 xmodmap</h2><p>单键测试在用户目录创建 <code>.Xmodmap</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">clear lock</span><br><span class="line">clear control</span><br><span class="line">keycode 66 = Control_L</span><br><span class="line">add control = Control_L Control_R</span><br></pre></td></tr></table></figure>
<p>此处是将 CapLock 改为 Ctrl 键。</p>
<p>然后执行：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">xmodmap .Xmodmap</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>note</category>
      </categories>
      <tags>
        <tag>unix</tag>
      </tags>
  </entry>
  <entry>
    <title>模块化开发、容器化开发</title>
    <url>/posts/2021/microservice-dev/</url>
    <content><![CDATA[<h1 id="使用微服务架构或-Mono-Repo-架构中的问题"><a href="#使用微服务架构或-Mono-Repo-架构中的问题" class="headerlink" title="使用微服务架构或 Mono Repo 架构中的问题"></a>使用微服务架构或 Mono Repo 架构中的问题</h1><h2 id="拆包不合理"><a href="#拆包不合理" class="headerlink" title="拆包不合理"></a>拆包不合理</h2><h3 id="一、类型的定义"><a href="#一、类型的定义" class="headerlink" title="一、类型的定义"></a>一、类型的定义</h3><p>（如 Typescript 中的 interface、type，或者请求/响应，参数/返回等 DTO），不应当放置到一个底层的通用包中。这样会导致一处业务修改，联动项目代码、底层包代码需要修改，然后需要发布包、更新依赖版本等，非常麻烦。</p>
<p>同时，大部分的类型定义是不具备复用的可能的。比如数据库 Schema，会有一些多余的不可操作的字段，如 id、时间戳、状态等，所以在 create 方法中，传入的参数，可能是 <code>Partial&lt;SchemaEntity&gt;</code>（也可能会有一些生成字段之类的特殊情况）。在接口请求参数中，更是会和数据库 create 方法的参与差异很大，比如说密码，用户输入是明文，存到数据库中是密文 + SALT。等等。返回值亦是如此。</p>
<p>为减少重复代码量和修改，和保证结构的稳定性，可以参考 TypeScript Handbook 中的一些小技巧：</p>
<a id="more"></a>
<ul>
<li>Type Manipulation： 从类型创建类型、泛型、 keyof、 typeof、索引访问、条件类型、映射类型、模板文字类型</li>
<li>Utility Types： <code>Partial&lt;Type&gt;</code>、<code>Pick&lt;Type, Keys&gt;</code>、<code>Omit&lt;Type, Keys&gt;</code>、 <code>Exlude&lt;Type, ExludedUnion&gt;</code>、<code>Parameters&lt;Type&gt;</code>、<code>ReturnType&lt;Type&gt;</code> 等</li>
</ul>
<h3 id="二、先设计，再封装，后拆分"><a href="#二、先设计，再封装，后拆分" class="headerlink" title="二、先设计，再封装，后拆分"></a>二、先设计，再封装，后拆分</h3><p>业务未设计完善时，切忌着急先封装成包。这样一旦发生调整，将会从下往上每一层都得做变更。</p>
<p>人无远虑必有近忧。能在设计过程中解决掉的问题，绝对不要拖到实现过程中迭代。设计中需要遵守的几点原则：</p>
<h4 id="MVP-原则"><a href="#MVP-原则" class="headerlink" title="MVP 原则"></a>MVP 原则</h4><p>即最简化可实行产品原则，按照以下顺序进行设计和实现：明确需求，满足基本需求，保证稳定性，完善需求，扩展需求，提高性能。</p>
<p>冰冻三尺非一日之寒。一口也吃不成一个胖子。无论多复杂的业务模块，都是拆分成了一个个小的子任务，每一个子任务模块设计完备了，进行扩展和整合。</p>
<h4 id="分治原则"><a href="#分治原则" class="headerlink" title="分治原则"></a>分治原则</h4><p>压力下方，分而治之。不要在一个点上去耗费大量的性能和资源。往往在架构设计的时候，只有一到两个数据中心，数据中心将会处理大量的数据和请求，所以会承担很大的性能压力。那么， 能在区域服务器上进行的处理和运算，没有必要扔到数据中心去进行；能在网关上进行的处理和运算，没有必要扔到服务器上去进行；能在客户端上进行的处理和运算，没有必要扔到网关上去运行。</p>
<p>举个简单的例子，一台负载均衡器下的服务器配置可能是双核心，4GB 内存， 这一台服务器，能够承载的并发是 10 万级，而目前的智能终端(比如智能手机)，可能都是 4 核 8 核， 8GB 内存之类的，实际上已经有很强大的运算能力了。足够承担起很大一部分的数据预处理和初筛的工作。所以，可以将服务器的压力逐层进行下放，让下面连接的服务器，网关和终端各自承担一部分运算处理工作，充分利用各个存储运算单元。</p>
<h2 id="函数定义不合理"><a href="#函数定义不合理" class="headerlink" title="函数定义不合理"></a>函数定义不合理</h2><p>一、 不推荐使用多参数方式定义一个函数。</p>
<p>示例：</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> functionA(arg1: <span class="built_in">string</span>, arg2: <span class="built_in">number</span>, arg3: <span class="built_in">string</span>, arg4: <span class="built_in">number</span>): <span class="built_in">void</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> ClassA &#123;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">arg1: <span class="built_in">string</span>, arg2: <span class="built_in">number</span>, arg3: <span class="built_in">string</span>, arg4: <span class="built_in">number</span></span>) &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>推荐的做法为，单一对象参数，或 id + 单一对象参数的方式。</p>
<p>示例：</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Class 示例</span></span><br><span class="line"><span class="keyword">import</span> &#123; plainToClass &#125; <span class="keyword">from</span> <span class="string">"class-transformer"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; validateSync &#125; <span class="keyword">from</span> <span class="string">"class-validator"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> BaseDto &#123;</span><br><span class="line">  <span class="comment">// eslint-disable-next-line</span></span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">data: <span class="built_in">any</span></span>) &#123;</span><br><span class="line">    <span class="comment">// 仅当作为基类，不确定输入类型时使用 any</span></span><br><span class="line">    <span class="keyword">if</span> (data) &#123;</span><br><span class="line">      <span class="comment">// eslint-disable-next-line @typescript-eslint/no-explicit-any</span></span><br><span class="line">      <span class="built_in">Object</span>.assign(<span class="keyword">this</span>, plainToClass(<span class="keyword">this</span>.<span class="keyword">constructor</span> as any, data));</span><br><span class="line">      <span class="keyword">const</span> errors = validateSync(<span class="keyword">this</span>, &#123;</span><br><span class="line">        dismissDefaultMessages: <span class="literal">true</span>,</span><br><span class="line">        stopAtFirstError: <span class="literal">true</span>,</span><br><span class="line">        whitelist: <span class="literal">true</span>,</span><br><span class="line">        forbidNonWhitelisted: <span class="literal">true</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">      <span class="keyword">if</span> (errors?.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Validation Error Occurred"</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 方法示例</span></span><br><span class="line"><span class="keyword">import</span> &#123; BaseDto, Validator, Transform, DB &#125; <span class="keyword">from</span> <span class="string">"@dao/base"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  IsEmail,</span><br><span class="line">  IsMobilePhone,</span><br><span class="line">  IsEnum,</span><br><span class="line">  IsOptional,</span><br><span class="line">  IsString,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">"class-validator"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; UserEntity, UserRole &#125; <span class="keyword">from</span> <span class="string">"../entity"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getUserByUid &#125; <span class="keyword">from</span> <span class="string">"./get_user_by_uid.dao"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; checkUserExist &#125; <span class="keyword">from</span> <span class="string">"./check_user.dao"</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; UserDaoErr &#125; <span class="keyword">from</span> <span class="string">"../error"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义好单一对象参数的类型</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> UpdateUserDto = Partial&lt;</span><br><span class="line">  Pick&lt;UserEntity, <span class="string">"role"</span> | <span class="string">"username"</span> | <span class="string">"email"</span> | <span class="string">"mobile"</span> | <span class="string">"passwd"</span>&gt;</span><br><span class="line">&gt;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果需要数据校验，可以做一层封装</span></span><br><span class="line"><span class="comment">// 尤其是在接口请求、调用底层方法（如数据库操作）时，非常必要</span></span><br><span class="line"><span class="keyword">class</span> Model <span class="keyword">extends</span> BaseDto <span class="keyword">implements</span> UpdateUserDto &#123;</span><br><span class="line">  <span class="meta">@IsEnum</span>(UserRole)</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  role?: UserRole;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@Validator</span>.IsEnglishName()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  username?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsEmail</span>()</span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  email?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsMobilePhone</span>(<span class="string">"zh-CN"</span>)</span><br><span class="line">  <span class="meta">@Transform</span>.ToLowerCase()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  mobile?: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@IsString</span>()</span><br><span class="line">  <span class="meta">@IsOptional</span>()</span><br><span class="line">  <span class="meta">@Transform</span>.ToPassHash()</span><br><span class="line">  passwd?: <span class="built_in">string</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 修改用户信息</span></span><br><span class="line"><span class="comment"> * @param &#123;string&#125; uid 用户 id</span></span><br><span class="line"><span class="comment"> * @param &#123;UpdateUserDto&#125; data 单一对象参数，定义好类型</span></span><br><span class="line"><span class="comment"> * @returns &#123;boolean&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">updateUser</span>(<span class="params"></span></span></span><br><span class="line"><span class="function"><span class="params">  id: <span class="built_in">string</span>,</span></span></span><br><span class="line"><span class="function"><span class="params">  data: UpdateUserDto</span></span></span><br><span class="line"><span class="function"><span class="params"></span>): <span class="title">Promise</span>&lt;<span class="title">boolean</span>&gt; </span>&#123;</span><br><span class="line">  <span class="comment">// 此处为 class-transformer + class-validator 校验</span></span><br><span class="line">  <span class="keyword">const</span> item = <span class="keyword">new</span> Model(data);</span><br><span class="line">  <span class="comment">// 如果上一步校验不通过，则会抛出错误</span></span><br><span class="line">  <span class="keyword">const</span> user = <span class="keyword">await</span> getUserByUid(id);</span><br><span class="line">  <span class="comment">// 省略校验判断，荣用户名、手机号是否存在</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="keyword">return</span> DB.updateById(id, item, DB.DBTABLE.User);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>二、 做向下兼容。</p>
<p>这就是单一对象变量的好处，删除一个字段和新增一个字段，都会更加方便。</p>
<p>示例：</p>
<figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> CreateUserDto &#123;</span><br><span class="line">  username: <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// @deprecated 公司字段已弃用</span></span><br><span class="line">  company?: <span class="built_in">string</span>; <span class="comment">// 废弃字段，只需要改成 optional 即可。</span></span><br><span class="line">  <span class="comment">// 即便不做向下兼容的操作，直接把该字段删除就可以了</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">// 手机号 new in v1.0.1</span></span><br><span class="line">  mobile?: <span class="built_in">string</span>; <span class="comment">// 如果 Client 没有升级，则不会传这个字段，所以也设置成 optional</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">createUser</span>(<span class="params">user: CreateUserDto</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (user.company) &#123;</span><br><span class="line">    <span class="comment">// 如果影响业务，则抛出异常</span></span><br><span class="line">    logger.info(<span class="string">"该字段已经废弃，请停止使用，并升级到 v1.0.1"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span> (!user.mobile) &#123;</span><br><span class="line">    <span class="comment">// 兼容性操作，如需，下面是乱写的</span></span><br><span class="line">    <span class="comment">// eslint-disable-next-line no-param-reassign</span></span><br><span class="line">    user.mobile = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 省略代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="容器化开发"><a href="#容器化开发" class="headerlink" title="容器化开发"></a>容器化开发</h1><h2 id="本地环境模块化"><a href="#本地环境模块化" class="headerlink" title="本地环境模块化"></a>本地环境模块化</h2><p>所有东西都在独立的容器内运行，如果不用，停止状态下只占用磁盘空间，出现了问题也就直接删除重建即可。</p>
<p>以 MySQL 为例，以前都是安装在本地，所有应用程序共用，只有一个版本，并且一旦出了问题，卸载重装也是很麻烦的事情。</p>
<p>现在只需要一个 Docker Compose 文件定义好启动即可，示例：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># docker-compose.yml</span></span><br><span class="line"><span class="attr">version:</span> <span class="string">"3"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span></span><br><span class="line">    <span class="attr">command:</span></span><br><span class="line">      <span class="comment"># MySQL8的密码验证方式默认是 caching_sha2_password，但是很多的连接工具还不支持该方式</span></span><br><span class="line">      <span class="comment"># 就需要手动设置下mysql的密码认证方式为以前的 mysql_native_password 方式</span></span><br><span class="line">      <span class="string">--default-authentication-plugin=mysql_native_password</span></span><br><span class="line">      <span class="string">--character-set-server=utf8mb4</span></span><br><span class="line">      <span class="string">--collation-server=utf8mb4_general_ci</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">unless-stopped</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="attr">MYSQL_ROOT_PASSWORD:</span> <span class="string">root</span> <span class="comment"># root用户的密码</span></span><br><span class="line">      <span class="comment"># MYSQL_USER: user # 创建新用户</span></span><br><span class="line">      <span class="comment"># MYSQL_PASSWORD: user_password # 新用户的密码</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3306</span><span class="string">:3306</span></span><br><span class="line">    <span class="attr">volumes:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./data:/var/lib/mysql</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./conf:/etc/mysql/conf.d</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">./logs:/logs</span></span><br><span class="line">    <span class="attr">network_mode:</span> <span class="string">bridge</span></span><br></pre></td></tr></table></figure>
<p>配置好用户名密码、字符集、设定当前目录下来存放数据、日志和配置文件。</p>
<p>简单的几个命令进行操作：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 启动</span></span><br><span class="line">docker-compose up -d</span><br><span class="line"><span class="comment"># 停止</span></span><br><span class="line">docker-compose down</span><br><span class="line"><span class="comment"># 删除所有数据</span></span><br><span class="line">rm -rf data conf logs</span><br><span class="line"><span class="comment"># 重新创建镜像</span></span><br><span class="line">docker-compose up -d --force-recreate</span><br></pre></td></tr></table></figure>
<p>更多实用的容器参考项目： <a href="https://github.com/WhiteMatrixTech/dev-in-docker" target="_blank" rel="noopener">https://github.com/WhiteMatrixTech/dev-in-docker</a></p>
<h2 id="模块化运行"><a href="#模块化运行" class="headerlink" title="模块化运行"></a>模块化运行</h2><p>以 Node.js 为例。</p>
<p>推荐镜像： <code>node:16-alpine</code> （如非特殊情况，使用当前最新的 alpine 版本）</p>
<p>更多镜像参考官方 Hub： <a href="https://hub.docker.com/_/node/" target="_blank" rel="noopener">https://hub.docker.com/_/node/</a></p>
<h3 id="本地调试"><a href="#本地调试" class="headerlink" title="本地调试"></a>本地调试</h3><p>TBD.</p>
<h3 id="镜像发布"><a href="#镜像发布" class="headerlink" title="镜像发布"></a>镜像发布</h3><p>参考 Node.js 官方文档：<a href="https://nodejs.org/zh-cn/docs/guides/nodejs-docker-webapp/" target="_blank" rel="noopener">把一个 Node.js 应用程序 Docker 化</a></p>
<p>写一个 <code>Dockerfile</code>：</p>
<figure class="highlight dockerfile"><table><tr><td class="code"><pre><span class="line"><span class="keyword">FROM</span> node:<span class="number">16</span>-alpine</span><br><span class="line"></span><br><span class="line"><span class="keyword">LABEL</span><span class="bash"> maintainer <span class="string">"Willing Wang&lt;i@sh.gg&gt;"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">COPY</span><span class="bash"> . /app</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="bash"> /app</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yarn</span></span><br><span class="line"><span class="keyword">RUN</span><span class="bash"> yarn build</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">3000</span></span><br><span class="line"><span class="keyword">CMD</span><span class="bash"> [ <span class="string">"node"</span>, <span class="string">"dist/server.js"</span> ]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打包镜像</span></span><br><span class="line">docker build . -t &lt;username&gt;/node-app</span><br><span class="line"><span class="comment"># 运行镜像</span></span><br><span class="line">docker run -p 3000:3000 &lt;username&gt;/node-app</span><br></pre></td></tr></table></figure>
<h1 id="模块化开发"><a href="#模块化开发" class="headerlink" title="模块化开发"></a>模块化开发</h1><p>TBD.</p>
]]></content>
      <categories>
        <category>career</category>
      </categories>
      <tags>
        <tag>career</tag>
        <tag>suggestion</tag>
        <tag>product</tag>
        <tag>thought tech</tag>
      </tags>
  </entry>
</search>
